[
    {
        "id": "jQPIC1bqqn",
        "forum": "RtDok9eS3s",
        "replyto": "RtDok9eS3s",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_wksT"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_wksT"
        ],
        "content": {
            "summary": {
                "value": "This paper undertake a critical study of several components of the transformer block, with aim of simplifying the block. The authors utilize shaped attention (identity-preserving attention initialization), and scaling the MLP block to remove the value and projection matrices, and all the skip connections from transformers. The authors do detailed ablations of all variations/modifications and scaling factors, as well as studying the impact of layernorms and skip connections. The changes are studied on pre-training for GPT and BERT models, and downstream finetuning for BERT on GLUE. The proposed changes result in models with comparable/better performance compared to vanilla models, with improved training speed and fewer params."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "1. The approach is well grounded on related work (SkipInit/Shaped-attention, residual scaling, etc.), and presents strong natural extension of them.\n1. Completely removing the Value and Projection Matrices and skip connections offers strong simplifications.\n1. The authors method achieves parameter saving and training speedup, while also resulting in simpler blocks. The training speedup could perhaps be further optimized with better implementation/variations.\n1.  The experiments presented are thorough and well-motivated. They cover a wide range of variations/ablations, multiple different models, and multiple tasks."
            },
            "weaknesses": {
                "value": "1. The authors acknowledge that their experiments are in the range of smaller models (100M-300M). It will be interesting to see if the gains carry to larger models.\n1. Most of the experiments are conducted on training for only 650M tokens. 650M is a low number of tokens, compared to even \"compute-optimal\" tokens suggested by chinchilla for the model sizes the authors use. It will be important to see if the proposed method falls behind on training for longer. That being said, Figure 8 was trained for 2B, and BERT ones for 5B.\n1. The sequence length is somewhat unorthodox at only 128 - A smaller sequence length will \"weaken\" the ability of attention. Perhaps this could be why value projection matrices could be dropped? It is unclear how the proposed method will perform for longer sequence lengths.\n1. No downstream evaluation of the GPT model.\n\n[1] https://arxiv.org/abs/2203.15556"
            },
            "questions": {
                "value": "1. By initializing attention $\\beta$ as 1, but MLP $\\beta_{FF}$ as $\\frac{1}{\\sqrt{L}}$, this results in the FFN blocks \"contributing\" $\\frac{1}{\\sqrt{L}}$ as much to the output as compared to the attention block, correct? If yes, Perhaps an interesting experiment could be decreasing the dimensions $4d$ of the MLP block when using the proposed SAS-P method - the motivation being that if the MLP block is not contributing as significantly, perhaps it can use fewer params. This could perhaps lead to significant speedups and parameter savings.\n1. Were any downstream fine-tuning experiments conducted for GPT, like GLUE for BERT? It will help make paper stronger if downstream performance also remains similar/better. \n\nMinor presentation suggestions (the authors need not respond to these) - \n1. In Figure 7, some exponential smoothing should be applied to the MLM loss (or ideally, eval loss over multiple batches should so be plotted which will be hopefully much more stable.) \n1. In Figure 6 , it is difficult to distinguish the plots as many of the lines overlap/intersect significantly. Perhaps some of the lines could be omitted, or separate chart provided in supplementary."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1634/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698753908334,
        "cdate": 1698753908334,
        "tmdate": 1699636091863,
        "mdate": 1699636091863,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "cWQ1QZVrnY",
        "forum": "RtDok9eS3s",
        "replyto": "RtDok9eS3s",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_W1bM"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_W1bM"
        ],
        "content": {
            "summary": {
                "value": "This paper studies how to simplify the self-attention block in transformer models. Some modifications are made based on several interesting and empirical findings:\n- This first is that, while somewhat similar to prior work, this paper points out that the skip connection in the self-attention subblock could be removed, without loss of training speed.\n- The second is that the value and projection parameters in the sub-attention blocks could be fixed to the identity matrix, which reduces two parameterized matrices.\n- Third is that the MLP sub-block skip connection could also be removed in the parallel MHA and MLP structure.\n- The forth is that all normalization layers could be removed given that the proposed block has already taken the effect of normalization into account (to some extent?)."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "- Some interesting findings revealing the underlying working mechanism of the attention sub-block in the self-attention is reported. These findings, despite being empirical, also lead to a simplified self-attention block. It provides valuable insignts on how to design an efficient self-attention block. The community would like to see it.\n- The paper did a good job explaining the step-by-step simplification flow and have provided sufficient reasons/experiments to discuss why.\n- The paper is very well written, which is a pleasant read."
            },
            "weaknesses": {
                "value": "- Some critical designs in the proposed block are from existing literatures, e.g., the shaped attention (Noci et al. 2023) and the parallel structure (Wang & Komatsuzaki, 2021) of MHA and MLP sub-blocks.\n- While the block is simplified, the benefits of the simplification is not significant. The simplified transformers only match the per-update training speed and performance of standard transformers. While being 15% faster and having 15% fewer parameters, some part of the throughput gain is due to the use of the parallel structure by (Wang & Komatsuzaki, 2021).\n- The removal of normalization somewhat contradicts between the analysis and approaches. In Sec. 4.4, it says that the normalization layers are unnecessary, but it quickly comments that the normalization still has benefits and is still used in experiments. This somehow leads to a confusion of read.\n- The performance of the simplified block slightly falls behind the standard Pre-LN and Parallel in Table 1, which means in practice the community may not use the proposed simplified block."
            },
            "questions": {
                "value": "Depite the weaknesses, I generally like this paper as it does provide some deep insights of the self-attention mechanism. I also have a few additional questions that expect the authors to reply:\n- The simplification is mostly carried out in the context of skipless self-attention block. Why the block is preferred to be skipless? Is there any benefits? From the view of signal propagation theory, the skip connection benefits propagation, particularly for deeper models, and does not violate the philosophy of simplicity,.\n- From Fig. 19, the pre-LN block performs worse when setting values and projections to identity. An intuition is provided, but I am not totally convinced by this intuition. In fact, I see the performance difference is almost negligible. It seems OK to set the values and projections to identity in the standard attention block with skip connection. This also reduces the number of parameters.\n- Why is the performance SAS-P, no norm not reported? Is the training failed or the performance is significantly lower? In fact, I would suggest that the block can preserve the normalization layers to keep the consistency between analyses and experiments."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "details_of_ethics_concerns": {
                "value": "I do not find ethics issues."
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission1634/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1634/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1634/Reviewer_W1bM"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1634/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698986584245,
        "cdate": 1698986584245,
        "tmdate": 1699636091795,
        "mdate": 1699636091795,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "YusjJT16o2",
        "forum": "RtDok9eS3s",
        "replyto": "RtDok9eS3s",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_iboi"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1634/Reviewer_iboi"
        ],
        "content": {
            "summary": {
                "value": "This work presents a thorough investigation into the complexity of standard transformer blocks, questioning the necessity of various components commonly included in their design. Through a combination of signal propagation theory and empirical observations, the authors propose a simplified transformer architecture that maintains performance levels while offering benefits in terms of training speed and model parameter count.\nThe paper challenges the conventional wisdom of transformer design by systematically evaluating the impact of removing certain elements, such as skip connections, projection or value parameters, sequential sub-blocks, and normalization layers. The experimental results, as reported, demonstrate that these simplifications do not detrimentally affect the training speed and can lead to a 15% increase in training throughput and a similar reduction in parameter count."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "- As the work mentions, this is the first work which has simplified the transformer architecture with training throughput gains. Previous works which have tried to simplify transformer architectures have led to increase in training speeds.\n- The paper is overall well written. The authors discuss each design choice in detail, which helps in understanding the motivation behind the simplifications proposed.\n- The authors have appropriately discussed the limitations of their work."
            },
            "weaknesses": {
                "value": "- One weakness is that the results are limited to smaller models of size ~100M. It is not clear if the results would scale to bigger models. \n- Moreover, the authors only consider GLUE benchmark for downstream evaluation. It would be nice to include a more comprehensive evaluation across different task categories like classification, generation or reasoning."
            },
            "questions": {
                "value": "- The authors mention that there is a Pre-LN and a Post-LN block and the Pre-LN work is more popular because Post-LN suffers from training instability. Is this phenomenon observed in the signal propagation literature only or all the current LM works also use this Pre-LN variant?\n- The authors mention \u201cour simplified transformers match the per-update training speed and performance of standard transformers, while enjoying 15% faster training throughput\u201d. If the parameters are being reduced, why isn\u2019t the per update speed faster? And, why is the throughput faster?\n- On page 3, the authors mention skipless transformers are slower than those with skip connections. Why is that?\n- Are there any settings (data or tasks) where this simplified transformer does not work as well compared to the standard transformer?\n- What are the limitations of the proposed simplifications in terms of model expressiveness and capability?\n- What is the size of the model which has 18 blocks and 768 hidden dimensions?\n- In section 4,1 what is the motivation from going from SkipInit to ShapedAttention? Another question is since this work is adding identity addition to value and projection matrices, in what way this is simpler than the residual connection?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1634/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1699243495688,
        "cdate": 1699243495688,
        "tmdate": 1699636091726,
        "mdate": 1699636091726,
        "license": "CC BY 4.0",
        "version": 2
    }
]