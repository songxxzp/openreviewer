[
    {
        "id": "IxPboH2DNp",
        "forum": "qH8ADnIVII",
        "replyto": "qH8ADnIVII",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_NpsS"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_NpsS"
        ],
        "content": {
            "summary": {
                "value": "This paper proposed a dynamic demonstration controller to select the optimal number of demonstrations in the prompt. The proposed method can achieve similar performance with Oracle demonstration selection across different datasets and across different models. The proposed method can be integrated with existing prompt selection methods to achieve higher performance."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "- The paper is clearly written and easy to follow.\n\n - The ablation study is comprehensive."
            },
            "weaknesses": {
                "value": "- The evaluation and discussion can be further improved. \n\n    - It would be interesting to discuss what causes the observations in the pilot experiments. \n\n     - It is important to conduct experiments comparing demonstration number selection and demonstration selection. The original Table 2 shows that the proposed method can further improve based on the demonstration selection. However, it is still unclear which one is more effective among demonstration selection and dynamic demonstration number selection.\n\n\n - The limitation of the method is not fully discussed."
            },
            "questions": {
                "value": "- In terms of the limitations, when will the method fail, and when will the method have a good performance?\n\n - In Table 2, can you also show the performance of the \u201cdefault\u201d method, which is randomly sampling k-shot demonstrations? And also show the performance of \u201cD2Contoller\u201d along? It will be helpful to understand which one is more effective among demonstration selection and demonstration number selection.\n\n - What may cause the observations in Pilot experiments? For instance, in Figure 2, what aspects of the datasets cause the different optimal k for different datasets?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6744/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698609095965,
        "cdate": 1698609095965,
        "tmdate": 1699636776689,
        "mdate": 1699636776689,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "7DYio4sRDd",
        "forum": "qH8ADnIVII",
        "replyto": "qH8ADnIVII",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_tTZn"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_tTZn"
        ],
        "content": {
            "summary": {
                "value": "This paper aims to determine the optimal number of example demonstrations for in-context learning. The authors argue that the common belief that the number of demonstrations is positively correlated with model performance does not necessarily hold true. Therefore, it is critical to decide on the optimal number of example demonstrations. In this work, the authors propose a method to select representative in-context learning examples that minimize intra-class distance and maximize inter-class distance for each group of in-context examples from the training dataset. They then use these selected examples as a validation set to adjust the number of demonstrations dynamically. The authors perform experiments on a wide range of datasets and demonstrate the effectiveness of their proposed method."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. The authors have done an excellent job of motivating the problem and providing a thorough description of their research. The paper is well-written in a high-standard and easy to understand.\n\n2. The authors have conducted extensive experiments to demonstrate that the length of in-context learning examples is not necessarily better. Furthermore, the experimental evaluation shows that their proposed method has promising performance.\n\n3. Validation set selection is critical to in-context learning. Compared to other works, the authors propose a method to carefully curate a representative validation set. It is meaningful and makes sense."
            },
            "weaknesses": {
                "value": "The novelty of this paper is my main concern. The idea of minimizing intra-class distance and maximizing inter-class distance has been widely used in previous machine learning works [1][2]. Similarly, the paradigm of using a validation set to choose in-context learning examples/tune in-context learning hyperparameters has also been well-explored in previous works [3][4]. If the author can provide more content to illustrate their unique contribution, I will consider improving my score.\n\n[1] Nadagouda, N., Xu, A., & Davenport, M. A. (2023, July). Active metric learning and classification using similarity queries. In Uncertainty in Artificial Intelligence (pp. 1478-1488). PMLR.\n\n[2] Hoffer, E., & Ailon, N. (2015). Deep metric learning using triplet network. In Similarity-Based Pattern Recognition: Third International Workshop, SIMBAD 2015, Copenhagen, Denmark, October 12-14, 2015. Proceedings 3 (pp. 84-92). Springer International Publishing.\n\n[3] Chang, T. Y., & Jia, R. (2023, July). Data curation alone can stabilize in-context learning. In Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers) (pp. 8123-8144).\n\n[4] Li, X., & Qiu, X. (2023). Finding supporting examples for in-context learning. arXiv preprint arXiv:2302.13539."
            },
            "questions": {
                "value": "Could the authors provide more information on the cost of \u201cEvaluation Examples Selection\u201d and \u201cAccuracy-based Evaluation\u201d stages?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "details_of_ethics_concerns": {
                "value": "N/A"
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6744/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698631213981,
        "cdate": 1698631213981,
        "tmdate": 1699636776565,
        "mdate": 1699636776565,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "bkM3vzezXS",
        "forum": "qH8ADnIVII",
        "replyto": "qH8ADnIVII",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_t5tL"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_t5tL"
        ],
        "content": {
            "summary": {
                "value": "In this work, the authors study in-context learning and how different numbers of in-context examples affect an LLM's performance on a classification task. Specifically, the authors design and conduct some pilot experiments and report that a large number of in-context examples does not always guarantee the best model performance. Motivated by this, the authors propose the $D^2$ Controller, a method that dynamically determines an optimal number $k$ for $k$-shot ICL given a dataset. \n\nIn the $D^2$ Controller algorithm, for a given $k$ value, \n- first, $N_s$ groups of in-context examples are sampled; \n- second, for each group, a set of evaluation data points is selected, according to the proposed IICScore, which measures the similarity between a evaluation data point and the in-context examples in the group;\n- third, the accuracy of an LLM on the selected evaluation data, using the corresponding in-context examples, is obtained; \n- averaging all the above accuracy scores over the $N_s$ groups resulting an overall score for $k$;\n- finally, the optimal $k$ is selected according to the setting produces the highest averaged accuracy.\n\nIn experiments, the authors include a wide range of LLMs, including open-sourced LLMs and ones that can only be accessed via online APIs. The author also include 10 classification datasets. Results suggest that their method can indeed determine a better $k$ value than default settings used in prior works."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. Useful topic: As the authors describe, there are few work studying how the number of demonstrations impacts an LLM's performance in the ICL setting. I agree this is an important topic because empirically the study could benefit millions of LLM practitioners. \n\n2. Neat idea: I think the method is well designed, I especially like the IICScore part, where it takes both inter- and intra-class similarity into consideration. \n\n3. Experiments and results: The authors study their methods on a wide range of LLMs and ten datasets. The authors run five seeds and report average / standard deviation. Results show that the proposed method outperforms baselines. The authors also provide a list of ablation study to help understand their method."
            },
            "weaknesses": {
                "value": "Please see my questions and concerns below."
            },
            "questions": {
                "value": "### Questions and concerns\nQ1. How does $D^2$ Controller compare to a simple baseline where $k$ is optimized as a hyperparameter using a validation set?\n\nQ2. How does $D^2$ Controller work with `classification` tasks where options have no consistent meanings? For instance, below is a datapoint taken from the BigBenchHard dataset:\n  ```\n  Jane quited her job on Mar 20, 2020. 176 days have passed since then. What is the date today in MM/DD/YYYY?\n  (A) 09/12/2020\n  (B) 11/12/2020\n  (C) 12/12/2020\n  (D) 09/12/1961\n  (E) 09/17/2020\n  ```\nIn this case, computing IICScore per class makes less sense. Could the author provide more insights on this?\n\nQ3. How does $D^2$ Controller work when $k < |c|$?\n\nQ4. $D^2$ Controller measures data similarity in representation space. Did the authors compare different text encoders and see whether / how they affect $D^2$ Controller?\n\nQ5. In my opinion, adding GPT-3 in Section 5.4 could make the analysis stronger. \n\nQ6. The authors report a setting where they combine KATE and $D^2$ Controller, this is interesting. Now, KATE is selecting $k$ different IC examples per test data point, where $k$ is determined by $D^2$ Controller at a dataset level. While I understand the setting, could the authors provide some insights on, is it necessary, or is there a way to dynamically determine the $k$ for every test data point? \n\nQ7. Could the authors provide some insights on why sometimes LLMs fail to benefit from more IC examples? Do stronger LLMs (e.g., gpt-4) suffer less from this?\n\n### Typos and minor stuff\n1. There is an extra quotation mark in the 3rd line of Section 5.1, Datasets.\n2. DBPedia does not seem to be a good dataset to include in this work, because the longer text, there can be at most one example per class and thus it is not helpful to demonstrate the $D^2$ Controller. \n3. In Section 5.4.4, the authors mention that they get better performance with fewer demonstrations. Maybe a more straightforward way to present this is to report (on average) how many tokens their method queries an LLM, and how does that compare to prior work (default $k$).\n\n\n### Nov 21\n\nI have read the authors response including those answering other reviewers' questions. I appreciate the authors' effort on clarifying things so I'm happy to raise my score a bit. **However, please note, I give 6 -> 8 only because there is no option of 7. I don't think the current version is as mature as 8.** (E.g., the authors have included quite a bit of new experiments during the rebutal period, mainly in the appendices. It may require some efforts to merge some into the main content, with some non-trivial rewriting.)"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission6744/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6744/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6744/Reviewer_t5tL"
                ]
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6744/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698641144319,
        "cdate": 1698641144319,
        "tmdate": 1700572931615,
        "mdate": 1700572931615,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "9zQ8j27dqE",
        "forum": "qH8ADnIVII",
        "replyto": "qH8ADnIVII",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_mRAG"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6744/Reviewer_mRAG"
        ],
        "content": {
            "summary": {
                "value": "The paper proposes an algorithm to select the right number k of examples per class to compose an in-context learning prompt. The proposed Dynamic Demonstration Controller (D2Controller) algorithm chooses k based on a series of experiments with N different in-context learning example selections. In each experiment a validation set is chosen in a special way from the remaining training data that did not make it into the prompt. The k is chosen to maximize the average validation set performance over the N in-context learning support sets. \n\nThe paper\u2019s novelty is in the selection of the validation set for each of the N in-context learning support sets. For each of the C classes, the paper chooses an example out of the remaining training data by maximizing a score called IICScore. I did not fully understand the intuition behind the score, but it involves balancing the example\u2019s similarities to the class of interest and to the other classes. \n\nThe paper key points are that:\n- D2Controller selects k better than the typical settings from the prior work\n- D2Controller selects k better than taking as many examples as possible\n- D2Controller selects the validation sets better than taking *the same number of validation examples* at random\n- D2Controller is also helpful when it is combined with other demonstration selection or ordering methods"
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "The paper is most clearly written and methodologically sound. The research question makes sense, the set of baselines is large and appropriate. But there may be one crucial baseline that's missing (see Weaknesses Section)."
            },
            "weaknesses": {
                "value": "This is basically a hyperparameter selection paper, and as such it is missing a key baseline: what if one uses as many examples as possible for selecting k? That would correspond to the classic setting of having your dataset split into training, validation and test sets. While it would be more computationally expensive at the hyperparameter selection time, the key concern in practical applications of LLMs is the inference speed at test time, which would not be affected by using more validation examples to select k.\n\nI imagine that one justification for using fewer validation examples could be that there might be not that many examples available overall. The paper does not discuss this possible constraint though. The set of examples available for selection with IICScore would have to also be restricted. \n\nSome aspects of the paper were difficult to understand, see the next section of the review. I found Figure 5 very dense and difficult to understand. I did not find the motivation for IICScore clearly explained and compelling."
            },
            "questions": {
                "value": "- \u201cTo measure similarities, we transform each sentence x to a vector representation x, which essentially is a language modeling distribution, by querying LLMs with x and obtaining the output\u201d - what does this mean exactly?\n- Is your Oracle baseline using the test set examples? If it is, your explanation as to why it is not practical on Page 7 is a bit confusing. Because Oracle would not be a possible practical method, it\u2019s just a hypothetical baseline from above. \n- What set of in-context examples is used at the test time? Is it one the N sets you used to select k, or is it another one?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 4,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6744/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698867789706,
        "cdate": 1698867789706,
        "tmdate": 1699636776358,
        "mdate": 1699636776358,
        "license": "CC BY 4.0",
        "version": 2
    }
]