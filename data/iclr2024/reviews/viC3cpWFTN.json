[
    {
        "id": "0amZdqyF0d",
        "forum": "viC3cpWFTN",
        "replyto": "viC3cpWFTN",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_Sgc9"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_Sgc9"
        ],
        "content": {
            "summary": {
                "value": "Gradient clipping is a commonly-used technique in training deep neural networks to resolve the exploding gradient issue. This paper shows that in a distributed setting, naively clipping the client gradient would result in large estimation error. To overcome this challenge, this paper proposes the Clip21 mechanism inspired by the error-feedback framework. The authors establish theoretical guarantee for the convergence rate of Clip21 to stationary points, and the rate is faster than previous works. Finally, experiments are conducted to demonstrate the efficiency of the proposed approach."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1) The Clip21 method proposed in this paper seems to be novel. Although there are previous works on the error-feedback framework, none considers the setting of clipped gradients.\n\n2) The authors establish rigorous theoretical analysis for Clip21 under standard assumptions. Notably, heterogeneous client objective functions are allowed.\n\n3) Overall speaking, the paper is well written and all definitions and theorem are stated clearly."
            },
            "weaknesses": {
                "value": "1) While gradient clipping is originally known to solve the exploding gradient problem, it seems not reflected in theoretical analysis of this paper. This paper still considers the standard $L$-smooth setting rather than $(L_0,L_1)$-smoothness, so the benefit of using clipped gradients is unclear from the theory.\n\n2) This paper only considers the case for deterministic gradients. Although it is expected that similar results hold for stochastic gradients, in the gradient clipping literature more restrictive assumptions are made on noise (bounded noise tather than the more standard bounded variance, see e.g. [1]). It is unclear whether gradient noise is an issue in the distributed setting.\n\n[1] Zhang, J., He, T., Sra, S., & Jadbabaie, A. (2019). Why gradient clipping accelerates training: A theoretical justification for adaptivity. arXiv preprint arXiv:1905.11881."
            },
            "questions": {
                "value": "1) In your Example 1.1, what if one chooses different clipping thresholds for different clients, or use a 'soft clipping' $\\nabla f(x)/(\\|\\nabla f(x)\\|+a)$? In these cases the clipped gradient does not seem to cancel out.\n\n2) (related to weaknesses 1) What is the motivation of considering gradient clipping at the client level? Because in a distributed setting, one only wants to optimize the averaged objective function, can we just clipp the averaged gradient at the server to accelerate training? If you clip the server's gradient instead of the clients, then the problem demonstrated by Example 1.1 does not exist, and there may be a more straightforward approach.\n\nI am willing to increase my rating if my concerns are properly addressed."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6746/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698449710451,
        "cdate": 1698449710451,
        "tmdate": 1699636776719,
        "mdate": 1699636776719,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "AsslNhfvGE",
        "forum": "viC3cpWFTN",
        "replyto": "viC3cpWFTN",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_y5AM"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_y5AM"
        ],
        "content": {
            "summary": {
                "value": "This article presents Clip21-GD, a new  client-side gradient clipping algorithm designed for distributed training. The inspiration for Clip21-GD is drawn from the error feedback mechanism EF-21, employed to accelerate the convergence of gradient-compression distributed optimization algorithms. Notably, Clip21-GD achieves a convergence rate of $O(1/K)$, the same as standard distributed Gradient Descent (GD), and provides a more refined theoretical convergence analysis compared to EF-21, highlighting distinctions between clipping and compression operations."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "-The theoretical convergence analysis for Clip21-GD is a strong point, as it reveals valuable insights. The theoretical $O(1/K) $ convergence rate surpasses that of the CE-FedAvg, signifying faster convergence."
            },
            "weaknesses": {
                "value": "- The article's motivation may need further clarity. While it claims to address the importance of deep neural network (DNN) training, the use of gradient descent (GD) in Clip-GD may appear unsuitable for DNNs. While Clip-SGD is briefly mentioned in the appendix for VGG 11 training, its theoretical convergence rate is not thoroughly explored in the main text, leaving room for ambiguity.\n\n- The necessity of a client-side gradient clipping algorithm is not sufficiently explained. The implementation of clipping the average gradient of clients on the server side may seem more straightforward and effective in managing explosive gradients to prevent convergence issues."
            },
            "questions": {
                "value": "The article's disclosure that gradient clipping in Clip21-GD will not work after a specific number of steps ($K=O(1/\\tau)$) raises questions about the algorithm's practicality and long-term effectiveness. The purpose and usability of Clip21-GD beyond this threshold remain unclear."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6746/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698805481420,
        "cdate": 1698805481420,
        "tmdate": 1699636776606,
        "mdate": 1699636776606,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "qdqPqLJCIs",
        "forum": "viC3cpWFTN",
        "replyto": "viC3cpWFTN",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_HYZq"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6746/Reviewer_HYZq"
        ],
        "content": {
            "summary": {
                "value": "In this paper the authors study the convergence of Gradient Descent (GD) for the optimization of sum of functions $f:=\\frac{1}{n}\\sum_{i=1}^if_i(x_i)$ (which arises naturally in Empirical Risk Minimization) when each of the individual gradient $\\nabla_xf_i(x)$ is clipped. They assume Lipschitz gradient. Their contribution are the following:\n* naive gradient clipping fail convergence in simple cases, even on mean-estimation tasks\n* by fixing the mean estimation task with clipped gradients, it is possible to fix GD+clipping algorithm itself\n* different variants are proposed, with their own rates  \n  \nThe results are illustrated on logistic regression, *with* and *without* convex regularization (i.e. with a convex and a non-convex task). Importantly, the work generalizes the n=1 case, and retrieve the same rates as existing literature for n=1."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "### Clarity\nThe paper is extremely well written. The position of this work to the related work is clear. The problem is clearly stated. There are very convincing examples, progressive explanations of the proof strategies, and the \"right level\" of details.  \n\n### Significance & Quality\nElementwise Gradient clipping is widespread in the Differential Privacy literature; therefore these theoretical results are significant. The hypothesis on $f$ are realistic even in the context of deep learning, making the paper relevant for the community."
            },
            "weaknesses": {
                "value": "## Practical relevance\n\nWhile the paper is well written and provide interesting insights, I have a few concerns about its usefulness *in practice*.  \n\n### Relevance to Differential Privacy\n\nElement-wise gradient clipping is typically used DP-SGD (Abadi et al, 2016). DP-SGD uses clipping to control the sensitivity of gradient steps. Then DP-SGD adds a Gaussian noise to the clipped gradient to create a Gaussian mechanism. In Alg 1, the clipped vectors are aggregated, but the influence of a noise $\\zeta_i$ on the mean estimate $\\frac{1}{n}\\sum_iv_i$ is not studied, therefore it is not clear if this algorithm would work in the context of differential privacy.  \n\n### Relevance for exploding gradients\n\nAs written in the paper:\n\n> we are not employing clipping as a tool for taming the exploding gradients problem, and our work is fully complementary to this literature. [...] Clipping after averaging does not cause the severe bias and divergence issues we are addressing in our work.\n\n## Comparison against vanilla GD\n\nThe paper positions itself against the Clip-GD algorithm (among others... ), in all experiments. But experiments with comparison against **vanilla GD** are lacking.  \n\n### Conclusion\n\nSee my question below."
            },
            "questions": {
                "value": "### When do we care about the average ?  \n  \nThis is a high level question.  \n    \nThe idea of Algorithm 1 is to estimate the average $\\frac{1}{n}\\sum_ia_i$ *exactly*. Clipping may help to circumvent instabilities when some individual gradients $a_i$ are too high (whetever the reason, exploding gradient being an example, numerical inaccuracies another). In this case, **biasing the average direction** with clipping *is* the wanted behavior, since we don't want the descent step to be driven by a single example with exceedingly large gradient norm. The average operator $\\bar a:=a\\mapsto \\frac{1}{n}\\sum_ia_i$ is not robust by definition against outliers. \n\nBy building an estimator of this average operator $\\bar a$, aren't we falling back to the issues the average operator $\\bar a$ was suffering in the first place?  \n\n### Comparison against vanilla GD\n  \nCan you clarify what are the use-cases in which Clip21-GD overcomes **vanilla GD** (and not only Clip-GD) ? What makes your algorithm different from vanilla GD in practice? Experiments are lacking to compare against it.    \n\n### Typo\nFor citations, for example a top of page 5, I recommand to use `\\citep{}` instead of `\\cite{}`, for example in `Richt \u00b4arik et al. (2021); Fatkhullin et al. (2021); Richt \u00b4arik et al. (2022),`.  \n\n> it will become \u201cinactive\u201d in at most k\u22c6 steps (i.e., \u2207fi(xk) \u2212 vik\u22121 \u2264 \u03c4  \n\nMissing `)`."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission6746/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6746/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6746/Reviewer_HYZq"
                ]
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6746/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1699022849059,
        "cdate": 1699022849059,
        "tmdate": 1699636776485,
        "mdate": 1699636776485,
        "license": "CC BY 4.0",
        "version": 2
    }
]