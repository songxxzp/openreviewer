[
    {
        "id": "WJ7FAdUKSt",
        "forum": "ykhRO1mAg3",
        "replyto": "ykhRO1mAg3",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_uu7J"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_uu7J"
        ],
        "content": {
            "summary": {
                "value": "This study introduces a novel post-training quantization method, termed FPTQ, which effectively combines logarithmic equalization and layer-wise activation quantization for challenging layers, along with fine-grained weight quantization (W4A8). FPTQ establishes the practicality of W4A8 quantization for deploying large language models.\n\nThe paper underscores the significance of W4 \u2192 W8 dequantization for acceleration through INT8-GEMM in the summarization phase. Furthermore, it highlights the potential adoption of W4A8 in the weight-only quant kernel during the generation phase, emphasizing the preference for INT8-GEMM over FP16-GEMM."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "1 poor"
            },
            "strengths": {
                "value": "* This paper introduces the innovative W4A8 quantization method, marking the first utilization of the PTQ approach.\n* The proposed method is validated through extensive experimentation involving diverse model sizes and datasets.\n* The robustness of the proposed approach is demonstrated through ablation studies conducted on the calibration set.\n* Notably, it showcases superior accuracy with reduced data and time requirements when compared to alternative QAT methods."
            },
            "weaknesses": {
                "value": "* In assessing the capabilities of the LLM model, the MMLU score holds significant importance. Nevertheless,  the degradation of the FPTQ MMLU score is significant, even when accounting for variations in bit precision relative to existing methods.\n* The proposed approach, considering the inference characteristics observed on GPU during the context-decoder and self-decoder stages, suggests the effectiveness of W4A8. However, it is important to acknowledge that this observation might be applicable to a broad spectrum of quantization papers employing W4A8. Therefore, when assessing the significance of Fine-Grained, as emphasized in the paper, it may not be deemed a robust contribution from the perspective of the paper's overall contributions.\n* The utilization of LAE necessitates the definition of values for $v_0$ and $v_1$, a process that seems somewhat heuristic and potentially time-consuming to identify optimal settings. Moreover, the sensitivity of $v_0$ and $v_1$ to alterations remains unclear."
            },
            "questions": {
                "value": "* The Context-Decoding stage appears to be compute-bound, which may limit the I/O benefits of W4A8, and the additional overhead during the conversion from W4 to W8 could potentially lead to longer Context-Decoding times compared to W8A8.\n* How is the determination of the clipping value managed when employing activation static quantization?\n* Has KV cache quantization been implemented in the process?\n* It would be valuable to conduct a comparative analysis of LLM-QAT using the MMLU score as a reference.\n* An ablation study would provide insights into the sensitivity of the $v_0$ and $v_1$ values, which is currently unclear.\n* The significance of the bold numbers in Table 4 requires clarification.\n* Typo alert: In Table 5, HS, LLaMA-7B original accuracy seems to be exceptionally low."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Reviewer_uu7J"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1559/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698739295968,
        "cdate": 1698739295968,
        "tmdate": 1699636084259,
        "mdate": 1699636084259,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "N13d3rcQE9",
        "forum": "ykhRO1mAg3",
        "replyto": "ykhRO1mAg3",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_yeXC"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_yeXC"
        ],
        "content": {
            "summary": {
                "value": "This paper proposes a SmoothQuant-like approach to address the well-known \"channel-specific outlier problem\" for LLMs, i.e. some specific channels in activations tend to have much larger range compared to the others, which will cause difficulty in choosing quantization scaling factor and degradation in accuracy. The proposed method chooses the quantization scaling factor based on a log function of the max activations solely, i.e. as opposed to using both activations and weights in SmoothQuant. This method will be applied only when the range of activations of a given layer is between 15 and 150, above which the quantization scheme will fallback to per-token dynamic approach. The author then demonstrated the proposed method using W4A8 (INT4 and INT8) quantization settings and benchmarked with W8A8 (using SmoothQuant) and W4A16 (GPTQ FP16 matrix multiplication), showing comparable accuracy. The author argues that W4A8 would be a better combination than the other two cases, as the compute-intense stage in LLM could benefit from INT computations and the memory-bound stage in LLM could still enjoy the reduced communication due to INT4 weights."
            },
            "soundness": {
                "value": "1 poor"
            },
            "presentation": {
                "value": "1 poor"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. The proposed method is simple and straightforward to implement.\n2. sufficient experiments on different sizes of LLaMA family."
            },
            "weaknesses": {
                "value": "1. Novelty. The proposed method is very similar to SmoothQuant, main difference is the formula to calculate the scaling factor. Not only it seems like a variation from SmoothQuant, but it didn't show enough proofs that the proposed formula is superior than the original one. For example, the author doesn't show any W4A8 SmoothQuant results and contrast with the \"failed SmoothQuant.\" \n\n2. Unsupported claims. For example, it seems like the author didn't implement the W4A8 INT kernels for a real inference speed test, which makes Fig 2b a speculation rather than real data (which would be ok). However, this plot doesn't seem to be reasonable. If W4A8 is using the same 8bit INT GEMM engine as W8A8, it would require some additional conversion for W4 to W8 (similar for W4A16 case.) That means under compute-bound assumption, the best the \"blue box\" could do would be very close to W8A8, assuming the conversion overhead can be nicely overlapped with computation. Similar for the memory-bound portion compared to W4A16. This plot seems to exaggerate the benefit of W4A8 without solid support."
            },
            "questions": {
                "value": "1. A few details in the experiments seems to be missing. For example, in Table 4, how bad is SmoothQuant at W4A8? If SmoothQuant doesn't perform well, was it because the scaling factors or was it the layers need to be treated in the same way as in FPTQ, such that some FC2s are using dynamic per-token settings? And how was v0 and v1 chosen? What's the impact of those parameters? As a quantization method paper, these details would help the readers to build better understanding about the proposed method.\n\n2. The two main claims of this work are a) W4A8 with outlier treatment can work and b) W4A8 can bring new benefit in terms of inference speed. Considering there are a few works trying to tackle the same issue at even lower precisions, e.g. OmniQuant and QLLM shows W4A4 results, together with all the W8A8 works and W4A16 works..., if the second claim can be demonstrated with real hardware results, it would make this paper much stronger. If the author has any progress and results on that front and willing to share, please consider to add them to the manuscript."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Reviewer_yeXC"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1559/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698783086084,
        "cdate": 1698783086084,
        "tmdate": 1699636084167,
        "mdate": 1699636084167,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "JnFGEQXmec",
        "forum": "ykhRO1mAg3",
        "replyto": "ykhRO1mAg3",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_WDjT"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission1559/Reviewer_WDjT"
        ],
        "content": {
            "summary": {
                "value": "The authors propose a new quantization method for LLMs which can utilize both 4-bit weights for memory bandwidth saving and 8-bit activations for faster computation (W4A8). Especially, it's known that naive W4A8 method degrade model performance significantly. The authors use group-wise quantization for the model weights, and Logarithmic Activation Equalization (LAE) for the activations. In particular, it is challenging to quantize activations, and the authors use different strategies on different kinds of layers based on the statistics observed. For those strategy selections, the proposed method uses some calibration datasets. As a result, the author could achieve comparable quantization performance with W4A8. The authors show this on various LLMs including BLOOM, LLaMA and LLaMA2 on different tasks including MMLU, commonsense QA and etc."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "- Overall, the paper is well-organized and easy to follow. The motivation is well-introduced and the method is clearly described.\n- The proposed method is relatively simple, so it can be easily used for real-world application.\n- The proposed method achieves competitive scores, so it makes W4A8 practically usable."
            },
            "weaknesses": {
                "value": "- The paper doesn't provide actual inference speed. It is not clear how some of expensive operations such as per-token dynamic quantization of activation affect the end-to-end performance. Even some of the layer-wise performance comparison would be useful.\n- There still exist some performance gaps compared to FP16. As authors pointed, LLaMA-7B and LLaMA-13 show some degradations even compared to SmoothQuant. 2-3 MMLU score difference could be a blocker in real world applications."
            },
            "questions": {
                "value": "- It's not clear why v0 and v1 are set to 15 and 150.\n- At the bottom of page 5, what are the two strategies? It's not clear in the context.\n- In page 6, KV cache quantization is mentioned, but there's no more details.\n- In Table 4, it's not clear what numbers are marked bold font.\n- In Table 6, it seems there are variations with different calibration datasets. Is there any way to reduce the variations?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission1559/Reviewer_WDjT"
                ]
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission1559/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698796663931,
        "cdate": 1698796663931,
        "tmdate": 1699636084075,
        "mdate": 1699636084075,
        "license": "CC BY 4.0",
        "version": 2
    }
]