[
    {
        "id": "0zH6TJ4hGc",
        "forum": "0QAzIMq32X",
        "replyto": "0QAzIMq32X",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission610/Reviewer_UdAr"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission610/Reviewer_UdAr"
        ],
        "content": {
            "summary": {
                "value": "This paper introduces an enhancement of classifier-free guidance (CFG) for diffusion models, called inner classifier-free guidance (ICFG). The paper claims that CFG can be extended to ICFG when the condition is continuous, leading to further improvements. They provide a theoretical analysis based on the condition space assumption and Taylor expansion. They present the experimental results comparing CFG and ICFG."
            },
            "soundness": {
                "value": "1 poor"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "The idea of combining the guidance strength and condition is interesting because adjusting guidance strength is the effect of a trade-off between image fidelity and condition information."
            },
            "weaknesses": {
                "value": "1. Concerns about the theoretical analysis in Section 3\n* In the proof of Theorem 3.1, there is doubt about the validity of the third equality in Eq. 16. It seems that it may come from Eq. 15, which might change the equality to the proportion.\n* Additionally, the relationship between the last two terms in Eq. 16 is the proportional relationship, but I'm not sure why these two terms are equal after the logarithm, as shown in Eq. 17.\n* In the proof of Theorem 3.1, it would be helpful to provide a detailed explanation of why there is a contradiction unless $w=0$ or $q(x_0|x_t)$ is a Dirac delta distribution.\n* Theorem 3.1 claims necessary and sufficient conditions, but the proof only demonstrates one direction.\n* In the paper, all cases of the enhanced intermediate distribution are denoted $\\bar{q}$. (In addition, $\\beta(x_t)$ in Eq. (12) is not defined.) This is confusing, especially for the definition $\\bar{q}(x_t|c,\\beta):=\\bar{q}(x_t|\\beta c)$.\n* In the proof of Corollary 3.1.1, it is unclear whether the first proportion holds. It seems that $q$ is modified by $\\bar{q}$. Detailed derivation and explanation would be helpful.\n\n2. Not significant experimental results\n* The quantitative results suggest that the performance gain is marginal, and this may require very careful hyperparameter tuning. It would be beneficial to include results from other datasets to assess the tuning problem.\n* The implementation of ICFG in Algorithms 2 and 3 requires three network evaluations for each timestep ($\\epsilon(z_i), \\epsilon(z_i,c), \\epsilon(z_i,mc)$), which is 1.5 times more network evaluations than CFG. Consequently, ICFG has 1.5 times higher sampling cost compared to CFG."
            },
            "questions": {
                "value": "Please answer the questions in the Weaknesses section."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Reviewer_UdAr",
                    "ICLR.cc/2024/Conference/Submission610/Senior_Area_Chairs"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission610/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698727970199,
        "cdate": 1698727970199,
        "tmdate": 1700661464402,
        "mdate": 1700661464402,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "xkqbvcRjXN",
        "forum": "0QAzIMq32X",
        "replyto": "0QAzIMq32X",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission610/Reviewer_jYKn"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission610/Reviewer_jYKn"
        ],
        "content": {
            "summary": {
                "value": "This paper presents a generalized version of classifier-free guidance (CFG), i.e., inner classifier-free guidance. By exploiting the continuity of the generation condition, the author propose an interesting taylor expansion formulation to interpret CFG, where the classic CFG is viewed as the first order case of the proposed formulation. Given such novel formulation, the author proposed higher order version of CFG to achieve better image generation results."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. The proposed formulation is novel and insightful.\n2. The paper is easy-to-follow.\n3. The hyper-parameters introduced by the method is well-studied."
            },
            "weaknesses": {
                "value": "1) In the reviewer's viewpoint, the major weakness of the current submission is that the empirical validation is not sufficient. More qualitative results should be provided to justify the effectiveness of the method. One example is that it would be better if the provided qualitative samples could corroborate with the numerical experimental results. Another example is that the author could provided some examples showing that ICFG can resolve some of the well-known failure cases of Stable Diffusion.\n\n2) In addition, it would be good to show the effectiveness of ICFG on other fine-tuned variation of Stable Diffusion such as anything-V4 (https://huggingface.co/xyn-ai/anything-v4.0), etc."
            },
            "questions": {
                "value": "1. Is the few-shot training of ICFG on a small dataset generalizable to large scale setting? For example, as I understand, in this work, the authors trained with the ICFG policy on COCO dataset. I was wondering if this trained LoRA is readily available for generation beyond COCO dataset (e.g., on laion-level dataset)?\n\n2. Is the proposed ICFG applicable on other fine-tuned variation of Stable Diffusion such as anything-V4 (https://huggingface.co/xyn-ai/anything-v4.0), etc."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Reviewer_jYKn",
                    "ICLR.cc/2024/Conference/Submission610/Senior_Area_Chairs"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission610/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698856980845,
        "cdate": 1698856980845,
        "tmdate": 1700730681287,
        "mdate": 1700730681287,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "RMV9cTzYc7",
        "forum": "0QAzIMq32X",
        "replyto": "0QAzIMq32X",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission610/Reviewer_LfUU"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission610/Reviewer_LfUU"
        ],
        "content": {
            "summary": {
                "value": "This paper generalizes CFG for diffusion model guidance by adapting the guidance strength according to the relevance between the condition and a given sample. Conditions more relevant to a sample require weaker guidance strength."
            },
            "soundness": {
                "value": "4 excellent"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "The paper identifies an issue with the deviating SDE when guidance is added and proposes a solution with clearly defined assumptions. The paper strikes a good balance between theoretical analysis and empirical results. The theories are relevant to the technique and justify the design choice. Extensive ablation studies on hyperparameters of the method yield insight to the adoption of the technique in practice."
            },
            "weaknesses": {
                "value": "**Cone assumption**\n\nIt seems like the key point of ICFG working is for the conditional space to be a cone. Is there any method to check whether a conditional space is a cone beforehand for practioners to decide whether ICFG should be adopted? Are there any metrics for characterizing how cone-shaped a conditional space is?\n\n**Algorithm 3 relaxing 2nd order term**\n\nThe relaxation of the 2nd order term is concerning. The argument for ICFG with 2nd order Tayler Expansion working better than typical CFG is the additional information provided by the 2nd order term. However, if an additional hyperparmeter is introduced and optimized over, does this argument still hold? Does the performance gain of ICFG truly come from the 2nd order information or is it the mere additional of another tuning knob $v$?\n\n**3 forward passes for naive 2nd order ICFG implementation**\n\nThe last paragraph of the discussion section mentions one major drawback of 2nd-order ICFG, which would require 3 forward passes to estimate the 2nd order term. The authors mention a solution of \"reusing the points for the pre-order term\". Elaboration on how exactly this can be done is crucial for actual adoption of this technique. Paying a computation penalty of 3 forward passes is definitely not feasible. The authors should also compare theoretically and/or empirically how this approximation would affect the efficacy of ICFG."
            },
            "questions": {
                "value": "(see weaknesses)\n\nWilling to increase score if issues are adequately handled."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Reviewer_LfUU"
                ]
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission610/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1699321340466,
        "cdate": 1699321340466,
        "tmdate": 1700674359487,
        "mdate": 1700674359487,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "0JDy5bGcUt",
        "forum": "0QAzIMq32X",
        "replyto": "0QAzIMq32X",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission610/Reviewer_cPdv"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission610/Reviewer_cPdv"
        ],
        "content": {
            "summary": {
                "value": "This work presents a new perspective on classifier-free guidance (CFG) for diffusion models imposing specific assumptions on the space of condition. Assuming that the condition space has a cone structure, the previous CFG can be seen as the first-order Taylor expansion of the proposed ICFG, and this work further presents a second-order ICFG that improves the Stable Diffusion model."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "- The observation that there exists a mismatch between the transition distribution of the original forward process and the conditional forward process is new to the best of my knowledge. \n\n- The idea that the mismatch is alleviated when assuming that the condition space has a cone structure is interesting."
            },
            "weaknesses": {
                "value": "- The contribution of the proposed ICFG is not clear: Although the authors state that the second-order ICFG introduces new valuable information, it is not clear which additional information it provides, and further the experimental results show a marginal improvement over previous CFG, e.g., FID improvement from 15.42 (CFG) to 15.22 (ICFG) and CLIP Score from 26.45 (CFG) to 26.86 (ICFG), on only single dataset (MS-COCO). Especially, ICFG does not seem to provide an improved balance between FID and CLIP Score. What is the main reason we should use ICFG instead of CFG?\n\n- As the main motivation of this work is the mismatch between the transition kernels (in Theorem 3.1), this should be further analyzed, for example, how much difference in these kernels and how much it affects the generation quality. The proposed method should be evaluated after these validations.\n\n- The assumptions (Assumptions 3.1 and 4.1) made to achieve the proposed method do not seem realistic and were not verified in the experiments."
            },
            "questions": {
                "value": "- What is the main reason we should use ICFG instead of CFG?\n\n- How much does the enhanced transition kernel deviate from the original transition kernel (as in Theorem 3.1?) How much does the deviation affect the generation quality?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission610/Reviewer_cPdv",
                    "ICLR.cc/2024/Conference/Submission610/Senior_Area_Chairs"
                ]
            }
        },
        "number": 4,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission610/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1699360843822,
        "cdate": 1699360843822,
        "tmdate": 1700740566931,
        "mdate": 1700740566931,
        "license": "CC BY 4.0",
        "version": 2
    }
]