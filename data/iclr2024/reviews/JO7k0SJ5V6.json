[
    {
        "id": "CJnUl1K5P6",
        "forum": "JO7k0SJ5V6",
        "replyto": "JO7k0SJ5V6",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_Dcc1"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_Dcc1"
        ],
        "content": {
            "summary": {
                "value": "This paper studies how shall we scale the transformer context length up via modifying RoPE. Different from popular approaches that increase the rotary base, authors found both increasing and decreasing the rotary base could significantly enhance its extrapolation performance."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "1) This paper studies a very interesting problem: How shall we modify the 10^4 rotary base? \n2) Well-written. \n3) Some reasoning and insights are very cool. Such as the Q1 and Q2 in the introduction.\n4) The theoretical analysis of the benefits of a smaller rotary base would be helpful to the long seq community."
            },
            "weaknesses": {
                "value": "1) I have one strong concern about the evaluation of this paper. This paper only evaluates the scaled model on the long-context perplexity and short-context well-established benchmarks. Low ppl on long context language modeling cannot really reflect the good results on long-range reasoning. The short-context results can only show the proposed approach is not that harmful on short tasks. If so, there is no evidence showing that the proposed framework can really improve the long-range real-world tasks, which is exactly what we espect in the long-range modeling research.\n\n2) There is no related work section. It is \"okay\" for expert readers, but it would be very helpful to make a broader impact if authors can write one. I think authors should at least include:\n- scaling seq len with position embedding. The authors discussed some of these approaches, but it would be better to summarize them in a thread.\n- scaling seq len with efficient implementation, such as Flash attention 1&2 [1]\n- scaling seq len with a distributed system, such as Sequence Parallelism [2][3]\n \n\n[1] https://github.com/Dao-AILab/flash-attention\n\n[2] Li, Shenggui, et al. \"Sequence parallelism: Long sequence training from system perspective.\" arXiv preprint arXiv:2105.13120 (2021).\n\n[3] Jacobs, Sam Ade, et al. \"DeepSpeed Ulysses: System Optimizations for Enabling Training of Extreme Long Sequence Transformer Models.\" arXiv preprint arXiv:2309.14509 (2023).\n\n3) It would also be very interesting to study the filling-in-the-middle pattern after applying the proposed trick. Is the filling-in-the-middle related to the position embedding? This is just a bonus question. It is an okay paper without this study, but I suggest authors to study this to deliver more insights.\n\nI give a relatively negative score at this stage because of the lack of real-world task evaluation, but the insights of this paper are interesting to me. Authors need to further justify them. I can improve my score if the authors can add the real-world long-context evaluation into the draft."
            },
            "questions": {
                "value": "See weakness above."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Reviewer_Dcc1"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2660/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1697601704961,
        "cdate": 1697601704961,
        "tmdate": 1700122048184,
        "mdate": 1700122048184,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "sLFqPnR5Ji",
        "forum": "JO7k0SJ5V6",
        "replyto": "JO7k0SJ5V6",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_jipE"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_jipE"
        ],
        "content": {
            "summary": {
                "value": "This paper focuses on the extrapolation capability of Rotary Position Embedding (RoPE) in large language models (LLMs). The authors first observe that pre-training RoPE with smaller or larger bases can significantly enhance its extrapolation performance. Then, they propose the Scaling Laws of RoPE-based Extrapolation, a unified framework that describes the relationship between extrapolation performance and base value as well as tuning context length from a periodic perspective. Furthermore, they explain the origin of the RoPE-based extrapolation issue by the critical dimension for extrapolation. Finally, they achieve extrapolation up to 1 million context length within only 16K training length on LLaMA2 7B and 13B."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "- Observing that pre-training RoPE with smaller or larger bases can significantly enhance its extrapolation performance, providing a new perspective for extrapolation research.\n- Proposing the Scaling Laws of RoPE-based Extrapolation, offering a unified theoretical framework for RoPE extrapolation.\n- Explaining the origin of the RoPE-based extrapolation issue through the critical dimension for extrapolation.\n- Achieving extrapolation up to 1 million context length within only 16K training length on LLaMA2 7B and 13B, demonstrating the potential of RoPE extrapolation.\n- Providing guidance for other extrapolation methods, such as dynamic NTK and Code LLaMA."
            },
            "weaknesses": {
                "value": "- In fact, the analysis results of this article are basically available in the YaRN[4] paper, which had pointed out that certain dimensions have high frequency and enough turns are made during training, therefore, the training of these dimensions is sufficient and should remain unchanged during extrapolation; for those dimensions that are less than one circle, only interpolation (PI) can be used to ensure numerical stability. This is obviously the equivalent expression of the proposed concept \"critical dimension\" in this work.\n- Most experimental comparisons only report ppl, which does not represent real long context ability. The authors should conduct experiments on some practical benchmarks and tasks. Eg. PASSKEY RETRIEVAL[2], the Hugging Face Open LLM Leaderboard[3] (ARC, HellaSwag, TruthfulQA, etc).\n- The RoPE extrapolation methods discussed in the paper may have certain limitations in practical applications, it is just verified over perplexity, but not enough practical application scene.\n- Compared to baselines, it lacks some comparison results over computational resources and memory usage.\n- Missing reference. The work should compare results with ReRoPE[1].\n\n[1] J. Su. Rectified rotary position embeddings. https://github.com/bojone/rerope, 2023.\n\n[2] A. Mohtashami and M. Jaggi. Landmark attention: Random-access infinite context length for transformers, 2023. arXiv: 2305.16300.\n\n[3] Hugging Face. Open LLM Leaderboard, 2023. URL https://huggingface.co/spaces/ HuggingFaceH4/open_llm_leaderboard.\n\n[4] YaRN: Efficient Context Window Extension of Large Language Models"
            },
            "questions": {
                "value": "- Only 7B and 13B models are verified. Have you experimented with the proposed methods on larger or smaller models? So that the \"scaling law\" saying can be more convincing."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2660/Reviewer_jipE"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2660/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698670617287,
        "cdate": 1698670617287,
        "tmdate": 1700559096124,
        "mdate": 1700559096124,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "KiesQeTgMs",
        "forum": "JO7k0SJ5V6",
        "replyto": "JO7k0SJ5V6",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_Gdv1"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2660/Reviewer_Gdv1"
        ],
        "content": {
            "summary": {
                "value": "Rotary Position Embeddings have played a significant role in improving the scalability of LLMs. However, RoPE faces problems when trying to extrapolate beyond the length the model was trained on.\n\nVarious approaches have been taken to solve the issue with extrapolation, and this paper goes in depth describing why these issues exist and derives pretty good solutions as well. Apart from this, it presents a good understanding of why some of the existing methods work and why a base of 10,000 is not a good value for RoPE's base.\n\nAll the claims are very well substantiated with theoretical as well as empirical analysis."
            },
            "soundness": {
                "value": "4 excellent"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "4 excellent"
            },
            "strengths": {
                "value": "- Pretty useful theorems that shows why and how RoPE's beta impacts extrapolation.\n- Results on critical base, d_{extra}, and T_{extra} and their relationship is a very useful contribution in this area.\n- Both experimental and theoretical analysis are strong."
            },
            "weaknesses": {
                "value": "A bit more clarification around the calculation of critical beta, and why extrapolation capabilities exist even when beta values are large could be added since we will see OOD embeddings as soon as T is larger than T_{train} during inference."
            },
            "questions": {
                "value": "None."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "10: strong accept, should be highlighted at the conference"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2660/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698911203257,
        "cdate": 1698911203257,
        "tmdate": 1699636206276,
        "mdate": 1699636206276,
        "license": "CC BY 4.0",
        "version": 2
    }
]