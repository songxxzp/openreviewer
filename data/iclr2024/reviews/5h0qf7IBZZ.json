[
    {
        "id": "QbaMsCbvCV",
        "forum": "5h0qf7IBZZ",
        "replyto": "5h0qf7IBZZ",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_oknc"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_oknc"
        ],
        "content": {
            "summary": {
                "value": "For lowering computation cost required by large deep learning models, knowledge distillation (KD) is a popular approach. This study presents a knowledge distillation method applied to open-sourced large language models (LLMs). While the standard KD method uses a linear combination of cross entropy loss and Kullback-Leibler (KL) divergence referred to as forward KL divergence in this study, this study also examines a reverse KL divergence, which swaps teacher and student distributions and is used in computer vision and reinforcement learning literature. With the modified loss function, LMs trained on instruction-following datasets with teachers by their proposed approach (called MiniLLM) achieved higher average GPT-4 feedback scores than those trained with the same teacher model by a sequence-level KD (SeqKD) baseline."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "- The reviewer wants to value originality of this study as this study is focused on open-sourced LLMs as targets for knowledge distillation, and black-box APIs can change their internal behavior without notice or proper versioning.\n- This paper seems to well describe the proposed method and cites prior studies that inspired the authors to introduce key concepts in their method such as reverse KL divergence.\n- It is empirically shown that MiniLLMs achieved better performance than KD baselines considered in this paper with multiple evaluation settings and instruction-following datasets. It is also notable that the overall trend in Table 1 seem consistent over different student models in a variety of model sizes.\n- The ablation study attempts to test multiple hypotheses made when designing the proposed loss function."
            },
            "weaknesses": {
                "value": "## Presentation\nThis paper needs to improve the presentation and writing.\ne.g.,\n\n- MiniLLM model must be tautology (Mini large language model model) and should be referred to as just MiniLLM instead\n- \"distill <student model> from <teacher model>\" sounds weird to the reviewer, and the reviewer suggests \"distill (knowledge of) <teacher model> into <student model>\"\n- Itemized lists in this paper look very packed. Did the authors change the format and reduce space between items?\n- \"generative LLMs\" and \"generative language models\" also sound strange as language models themselves are generative models. The reviewer suggests just skipping \"generative\".\n- \"the vocab size\" should be \"the vocabulary size\"\n- \"similar to Learning from Human Feedback (RLFH; Ouyang et al., 2022).\" misses \"Reinforcement\"\n- Use [] for the second equation in Eq. (5) as well\n\n## GPT-4-based evaluation\n\nOverall experimental designs in this study look good, but the reviewer has a big concern about evaluations involving GPT-4. Specifically, it is very questionable how scientifically meaningful the evaluations are when leaving all the evaluations to GPT-4, and the reviewer did not find any reasonable justifications of using GPT-4 as part of the evaluation process. Rouge-L should be sufficient for Tables 1 and 4, and the reviewer strongly recommends use of Rouge-L instead of GPT-4 feedback (score) for Figures 1 and 5. The reviewer will improve rating if GPT-4-based evaluations are removed and replaced with Rouge-L."
            },
            "questions": {
                "value": "1. What is the definition of \"white-box\" KD/model in this paper? White-box in this paper sounds misleading. \n2. Why is the specific $w_t$ between Eqs. (5) and (6) expected to reduce the variance of the estimator in Eq. (5)?\n3. What is the definition of \"Exposure Bias\" ?(conceptual definition, not mathematical definition)\n4. What is \"the responses' distinct 4-gram proportion\"?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission2166/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2166/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission2166/Reviewer_oknc"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2166/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1697863522005,
        "cdate": 1697863522005,
        "tmdate": 1700378338776,
        "mdate": 1700378338776,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "GuIPtFb6kD",
        "forum": "5h0qf7IBZZ",
        "replyto": "5h0qf7IBZZ",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_BHa2"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_BHa2"
        ],
        "content": {
            "summary": {
                "value": "This paper proposes to use Reverse KL Divergence for distilling large-language models. The paper starts from the Reverse KLD objective in section 2, describes the difference with forward KLD and its advantage that it is mode-seaking that is preferred when student has low capacity. Then in section 2.2 they review the challenges of optimizing for Reverse KLD and revisit ideas from prior work to improve it. To resolve challenges of reverse KLD, they propose 3 strategies to mitigate:\n1) Decompose gradient into the gradient for single-step prediction and long sentence prediction\n2) Prevent reward hacking by mixing the teacher/student distributions for sampling next token\n3) Normalize the reward to prefer longer sequences.\nThey refer to Reverse KLD together with their strategies as MiniLLM.\nIn section 3, they evaluate the effectiveness of MiniLLM on instruction-following generation tasks. They use various teacher/student architectures including GPT-2, OPT, and LLaMA. They compare to baselines with and without knowledge distillation. Section 3.2 provides positive improvements using MiniLLM and section 3.3 provides analysis that shows the method scales well, gives well-calibrated models, and generates diverse outputs. Section 3.4 provides ablations on the three elements of MiniLLM."
            },
            "soundness": {
                "value": "4 excellent"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "4 excellent"
            },
            "strengths": {
                "value": "- Significant gains and improvements compared with various baselines. The results show that improvements increase as the teacher gets bigger and all students at all parameter counts improve. So consistently large improvements.\n- Figure 1: MiniLM is 5% better than SeqKD on GPT4 score.\n- Table 1: MiniLM is up to 10% better than SFT w/o KD while KD is up to 5% better and SeqKD is up to 1% better than KD.\n- Table 1: MiniLM is up to 8% better than the teacher while no other baseline surpasses the teacher.\n- Comprehensive evaluations and ablations."
            },
            "weaknesses": {
                "value": "- The results seem to point that Reverse KLD might be harder to tune and requires all the strategies in MiniLM for performing better than baselines. This can be a challenge for reproduction and further research. I am specifically pointing to Table 4 and comparing to baseline numbers in Table 1: Why is MiniLM without either length-normalization (DollyEval GPT-4 22.4) or teacher-student distribution mixing (36.1) is significantly worse than comparable SeqKD (41.2) or KD (40.3) or SFT w/o KD (38.6) in Table 1? Does that mean Reverse KLD is generally harder to train without these strategies?\n- Wall-clock time analysis of the method compared with baselines should be discussed. What is the training efficiency? How slow is the training with the MiniLM loss compared with SFT w/o KD, KD, and SeqKD? If the method is slower per iteration, what if baselines are trained for more iterations to match the wall-clock time of the method? Would they match the performance gains?"
            },
            "questions": {
                "value": "- Page 2, introduction, line 11: How can one force q, the teacher, to do something? The teacher is not learnable. I\u2019m assuming this is a typo and p/q_theta should be exchanged.\n- Why is this work \u201cwhite-box\u201d KD? How is the method using the parameters of the teacher and not just the predictions of the teacher, p(y|x)?\n- All experiments seem to be on instruction-following generation tasks. How would this distillation method perform for pretraining only? Can it help speed-up the pre-training of small models?\n- Table 1: Can you provide examples of cases where the student is better than the teacher and provide a qualitative analysis of why? 8% improvement should show consistent improved behavior.\n- Figure 5: Does MiniLM benefit more from scaling the teacher compared with SeqKD? Can you report the relative improvements of SeqKD and MiniLM as the teacher is scaled compared with a base teacher? If yes, it is useful for future scaling endeavors.\n- Figure 8: y-axis says \u201cForward KLD\u201d but the caption says \u201creverse KLD\u201d, which value is plotted?\n- Does the method have any hyperparameters specific to MiniLLM? For example, is there any thresholding of the ratio of q/q or p/q in Eq. 7 or epsilon in the denominator? If so, can you provide ablations?\n\nSuggestions\n- MiniLLM is a self-contradictory name as it expands to Mini Large Language Model. Please consider changing it, for example, to MiniLM.\n- Figure 1: Please consider adding more description of sequence-level KD in the caption or the intro close to the reference to Figure 1. A reader not familiar with the literature does not learn about SeqKD until page 5.\n- Eq 1 and A.1: For consistency it would help to use the KL with negative sign throughout (Eq. 1 is without negative sign but Eq. 8 is with negative sign). It would also help to highlight the difference in Eq 13 and 14 by color. It\u2019s hard to notice the difference.\n- Eq 7: It might help to use single/long gradients to simplify this equation and other predefined terms. This equation is not easily digestible as a summary equation.\n\nTypos:\n- Page 2: \u201c... approximately minimizes the forward KLD\u201d -> \u201cminimize\u201d\n- Page 3: \u201c... the quality of the each \u2026\u201d -> \u201cthe quality of each\u201d"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "8: accept, good paper"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2166/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698611199815,
        "cdate": 1698611199815,
        "tmdate": 1699636149886,
        "mdate": 1699636149886,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "4dpPpr1zQI",
        "forum": "5h0qf7IBZZ",
        "replyto": "5h0qf7IBZZ",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_HmVQ"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_HmVQ"
        ],
        "content": {
            "summary": {
                "value": "This work primarily concerns distillation of large language models (LLMs) into smaller, more portable versions. Compared to standard distillation approaches, the authors advocate the substitution of reverse KL instead of the more typical forward KL divergence objective. This incentivizes the model to pursue mode-seeking behavior, rather than coverage-seeking behavior, leading to more precise answers, with a lower probability of generating data outside of the teacher distribution. A policy gradient objective function is modified with single-step decomposition, teacher-mixed sampling, and length normalization to further improve optimization. Experiments with three families of LLMs (GPT-2, OPT, LLaMA) on a variety of benchmarks show that the proposed method (MiniLLM) indeed outperforms the baseline distillation approaches, across a range of student sizes."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "## S1. Relevant topic\nGiven the recent advances and widespread usage of LLMs, ways of compressing models for faster and cheaper deployment can have significant real-world impacts in promoting wider spread usage of such models. The proposed approach shows promise being able to reduce model size without suffering as much performance decay as the baseline approach (Fig 1). This can have the effect of allowing more people to run LLMs, with the hardware they have available.\n\n## S2. Experiments\n1) Models: The experiments are on 3 model families (GPT-2, OPT, LLaMA), across a range of student model sizes (3 each for GPT-2 and OPT). This is a pretty good spread and helps give a sense of how well the proposed method generalizes, and the relation between student model size and performance.\n2) Evaluation: Models are evaluated on DollyEval, SelfInst, VicunaEval, S-NI, and UnNI. Rouge-L, GPT4, and human evaluation are used as metrics. Results are reported on 5 generations from separate random seeds, which gives a better sense of the evaluation\u2019s reliability. \n3) Results: The main results suggest that MiniLLM indeed outperform the baselines, and occasionally even the teacher in certain cases. Taken at face value, this is pretty impressive, as some of the student models are considerably smaller (>10x for GPT=2, 10x for OPT). However, I have some concerns about the metrics and whether they\u2019re capturing the full picture here (see W1.1).\n\n## S3. Writing\nI\u2019ve listed a few miscellaneous corrections below, but overall, the writing is fairly clear and well-written."
            },
            "weaknesses": {
                "value": "## W1. Reverse KL vs Forward KL\nOne of the primary contributions of the paper is the substitution of reverse KL Divergence for forward KL divergence. This leads the student model to pursue \u201cmode-seeking behavior\u201d, as opposed to \u201ccoverage-seeking behavior\u201d. While this does cut down on unrealistic generation samples, the trade-off is that such an approach will cause much of the long tail to be lost as well. This leads to a couple concerns:\n1) The loss of sample diversity is not captured by the paper\u2019s metrics, which primarily focus on realism/precision, so the baseline forward KL divergence is at a distinct disadvantage. Specifically, the metrics specifically measure where forward KL is weakest (correctness of samples), while ignoring where it is strongest (sample coverage). As such, the evaluation is somewhat unfair. Some sort of metric that captures sample diversity may yield a different story.\n2) The long-tail knowledge of LLMs is arguably one of their most impressive and valuable properties, so sacrificing this in the name of realism is somewhat disappointing. In particular, this also raises potential ethical or fairness issues, as loss of diversity could lead to loss of minority representation or amplification of stereotypes.\n3) Why do we have to make this tradeoff in the first place? Why not use both forward and reverse KL (see Q1), as in [a]?\n\n## W2. Novelty/Contributions\nFrom the abstract and introduction, it would seem that that the primary contributions are a) the focus on white-box KD for generative LLMs and b) the substitution of reverse KL instead of the more typical forward KL. Additionally, an amalgam of modifications (single-step decomposition, teacher-mixed sampling, length normalization) improves the policy gradient objective function to the final form (Equation 7) used in this paper. Some concerns/questions:\n1) This is not a reason for rejection in and of itself, but individually, neither of these are particularly new concepts. White-box KL has been explored in the past, and the merits of forward vs reverse KL (as well as other divergences) for generative modeling has also been well explored. \n2) It\u2019s not clear how related whitebox KD for generative LLMs and a reverse KL optimization are. In fact, they seem almost entirely orthogonal from each other.\n3) It\u2019s not clear from the Methods section how whitebox KL was used in the method. Where does having the teacher model\u2019s parameters play a role?\n4) The methods in Section 2.2 seems to be a series of cobbled together heuristics, and it appears that they aren\u2019t necessarily novel either, as there are clear connections with (cited) prior work. I\u2019m not necessarily saying that that\u2019s a bad thing to have as part of the method, but it doesn\u2019t appear to be something that should be counted as a contribution of this work.\n\n\n## Miscellaneous:\n- The name \u201cMiniLLM\u201d doesn\u2019t fully capture the method. Yes, the model is a smaller LLM, but the same can be said of a distilled LLM learned by forward KL divergence as well, so the name fails to distinguish one of the primary points of the paper.\n- pg 2: \u201cfinite-number classes\u201d => \u201ca finite number of classes\u201d\n- Appendix entries out of order\n- pg 5: \u201cOuyang et al. (2022)\u201d citation at top of the page should be parenthetical?\n- pg 9: Sec 4 \u2013 Knowledge Distillation: [b] may be a relevant related work\n- pg 9: Fig 8: The y-axis says \u201cForward KLD\u201d, while the caption says \u201creverse KLD\u201d. Also, doesn\u2019t this graph imply that w/o teacher-mixed sampling is better, if trained long enough?\n\n[a] Chen, Liqun, et al. \"Symmetric variational autoencoder and connections to adversarial learning.\" AISTATS, 2018.\\\n[b] Liang, K., et al. \"Mixkd: Towards efficient distillation of large-scale language models.\" ICLR 2021."
            },
            "questions": {
                "value": "Q1. Given that forward and reverse KL each clearly have their own advantages and disadvantages, why not use both, e.g. as in [a]? See also [c] for a more general treatment of f-divergences for generative modeling.\n\nQ2. The student models outperforming the teacher model in Table 1 is somewhat surprising. Why do you think this is the case? Does it have to do with the specific choice of metrics? I\u2019m somewhat doubtful for example that a 120M parameter GPT-2 model is truly outperforming the 1.5 B parameter teacher model.\n\n[a] Chen, Liqun, et al. \"Symmetric variational autoencoder and connections to adversarial learning.\" AISTATS, 2018.\\\n[c] Nowozin, Sebastian, Botond Cseke, and Ryota Tomioka. \"f-gan: Training generative neural samplers using variational divergence minimization.\" NeurIPS 2016."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2166/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698697322413,
        "cdate": 1698697322413,
        "tmdate": 1699636149798,
        "mdate": 1699636149798,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "U9xCYMADYu",
        "forum": "5h0qf7IBZZ",
        "replyto": "5h0qf7IBZZ",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_v2PG"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission2166/Reviewer_v2PG"
        ],
        "content": {
            "summary": {
                "value": "The paper proposes a method called MiniLLM for knowledge distillation of large language models (LLMs). The method focuses on distilling smaller language models from generative larger language models. It replaces the forward Kullback-Leibler divergence (KLD) objective in standard knowledge distillation approaches with reverse KLD, which is more suitable for generative language models."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "- The paper introduces an application for knowledge distillation of generative language models.\n- The proposed method is supported by well-structured experiments and evaluation on various datasets, demonstrating its effectiveness in generating more precise responses with higher overall quality, lower exposure bias, better calibration, and higher long-text generation performance."
            },
            "weaknesses": {
                "value": "(major) The novelty of this paper is limited. It is just a simple application of reverse KL Divergence to knowledge distillation. However, distill models with reverse KLD have been researched before. The claim in the abstract \"how to effectively distill the knowledge \u2026 is still under-explored\" is not convincing. For example [1]. More importantly, this paper is not cited by the authors.\n\n(minor) In Table 1, the student model even outperforms the teacher model which lacks intuition. Although the authors attributed such results to the exposure bias issue of teacher-forcing, I doubt there is an overfitting problem with the experiments. Could the authors provide the hyper-parameters and the variance of each experiment?\n\n[1] Self-Knowledge Distillation via Dropout"
            },
            "questions": {
                "value": "See Weaknessed."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 4,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission2166/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698843655889,
        "cdate": 1698843655889,
        "tmdate": 1699636149723,
        "mdate": 1699636149723,
        "license": "CC BY 4.0",
        "version": 2
    }
]