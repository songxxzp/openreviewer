[
    {
        "id": "IR1EhJUNDr",
        "forum": "QHzzAU7Qf9",
        "replyto": "QHzzAU7Qf9",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_y2t1"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_y2t1"
        ],
        "content": {
            "summary": {
                "value": "This paper proposes a simple method to avoid discrete routings in mixture-of-expert models by merging weights of experts during training and inference. Experiments over GLUE and DomainNet with T5-base and ResNet models demonstrate that the proposed approach is computationally efficient and achieves better performance than other MoE methods."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "- The proposed method is simple, efficient, and achieves better performance than learned routing in presented experiments\n- The choice of baselines are extensive, ranging from ensemble methods, learned routings, and pre-defined routings.\n- I appreciate analysis of learned routing by the proposed method."
            },
            "weaknesses": {
                "value": "- The main weakness is the small scale of the data and models studied in the paper. I believe the challenge of reducing computational cost with mixture-of-expert models is more relevant to larger models. The authors however only presented results on ResNet and T5-base (with only 200M parameters). Experiment results with larger models are appreciated.\n\n- If experiments with larger models are not feasible, I hope authors can discuss potential limitations of the study under those larger-scale scenarios. Do you expect the findings in Figure 2 change in larger scale setups? \n\n- The author's hypothesis about the shortcomings of learned routings in existing works that \"stem from the gradient estimation techniques used to train modular models that use non-differentiable discrete routing decisions\" is not supported with evidence other than the performance of final models in Figure 2. If you visualize the learned routing of these baselines (as in Figure 3), will you notice flaws in these learned routing? Do they yield degenerated routing, or routing that is uniform across all the experts?"
            },
            "questions": {
                "value": "Following listed items in weakness, I hope authors can address:\n- What do you expect the performance looks like in larger-scale models?\n- How does the routing learned by reported baselines look like?\n\nFinally, the appendix and full text does not have to be in separate pdfs."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission6566/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6566/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6566/Reviewer_y2t1"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6566/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698728747114,
        "cdate": 1698728747114,
        "tmdate": 1700597074780,
        "mdate": 1700597074780,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "yBr96TxJc3",
        "forum": "QHzzAU7Qf9",
        "replyto": "QHzzAU7Qf9",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_uHR4"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_uHR4"
        ],
        "content": {
            "summary": {
                "value": "This paper focuses on shortcomings of models with discrete routing among experts that can lead them to underperform heuristic non-learned routing. The authors hypothesize that issues with conditional computation stem from issues with gradient estimation, which is a technique utilized to provide approximate gradients for models involving discrete adaptive routing. The authors introduce SMERA for training modular models by computing a weighted average of the parameters of the individual experts."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. Underperformance of models that use conditional computation is an important topic.\n2. This paper provides some empirical analyses to verify the effectiveness of the proposed method."
            },
            "weaknesses": {
                "value": "1. The implementation details of the proposed method are not clear enough. For example, what routing function $R(\\cdot)$ do you use? And what is the specific form of the objective function in the training process?\n2. This paper lacks sufficient novelty. Can you explain what are the differences and advantages of the proposed method, compared to the $\\pi$-Tuning method proposed in [1] (Section 2.2 and Section 3.5)?\n   \n[1] Wu, Chengyue, et al. \"$\\pi$-Tuning: Transferring Multimodal Foundation Models with Optimal Multi-task Interpolation.\" International Conference on Machine Learning. 2023."
            },
            "questions": {
                "value": "1. What routing function $R(\\cdot)$ do you use? \n2. What is the specific form of the objective function in the training process?\n3. Can you explain what are the differences and advantages of the proposed method, compared to the $\\pi$-Tuning method proposed in [1] (Section 2.2 and Section 3.5)?\n   \n[1] Wu, Chengyue, et al. \"$\\pi$-Tuning: Transferring Multimodal Foundation Models with Optimal Multi-task Interpolation.\" International Conference on Machine Learning. 2023."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission6566/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission6566/Reviewer_uHR4",
                    "ICLR.cc/2024/Conference/Submission6566/Senior_Area_Chairs"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6566/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698804861048,
        "cdate": 1698804861048,
        "tmdate": 1700621748829,
        "mdate": 1700621748829,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "QHGVbwwgra",
        "forum": "QHzzAU7Qf9",
        "replyto": "QHzzAU7Qf9",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_dSc4"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission6566/Reviewer_dSc4"
        ],
        "content": {
            "summary": {
                "value": "This paper presents a novel method for routing experts in Mixture of Experts (MoE) models. Compared to methods that seek discrete routing policies and require gradient estimators (REINFORCE, Gumbel-Softmax), the authors propose an adaptive technique which is fully differentiable. Motivated by work on _merging models_,  SMEAR is presented, which computes a weighted average of expert parameters within each MoE block; thus enabling a fully differentiable routing policy. Authors validate on GLUE and DomainNet. They show that the method outperforms other discrete MoE models at equivalent inference rates."
            },
            "soundness": {
                "value": "3 good"
            },
            "presentation": {
                "value": "4 excellent"
            },
            "contribution": {
                "value": "3 good"
            },
            "strengths": {
                "value": "1. This is very well written paper, clear it its aims, hypotheses, presented method and results. The manuscript offers an extensive analysis of the literature and corresponding baseline methods (gradient estimators, routing policies (top-k, d-select k etc.), heuristic routing, modular models) in addition to related work.\n\n2. Merging expert parameters in MoE networks is under-explored and a straightforward *yet* elegant solution for adaptive routing of experts. The results are convincing although the improvement in accuracy does seem marginal at best (1% over REINFORCE Fig 2a, 2-3% TopK etc.)\n\n3. The paper is a nice and interesting addition to the modular/MoE literature and presents interesting new research direction as pointed by the authors and beyond."
            },
            "weaknesses": {
                "value": "1. One weakness of the manuscript is the lack of a detail explanation on the central hypothesis of the work. The authors claim:\n\n_\"As we will later show in section 4, the gradient estimation techniques used to train models with discrete routing often fail to produce performant routing strategies.\"_\n\nThis is shown throughout quantitative results but as a reader, I was expecting a substantial theoretical explanation as to why discrete routing methods may fail related to how gradients may be routed, instabilities etc. Additionally, Figure 3 offers qualitative explanation of the learned policy through SMEAR. How does this relate to Top-K, DSelect-K etc. Are the policies that much different?\n\n2. Many MoE methods often seen instabilities in training - mode collapse i.e. an expert being chosen much more, non-optimal solutions etc. The presented method is a weighted average of parameters. How does such a method regularise against particularly known failure modes of MoEs which often require explicit regularisation such as through load, importance, entropy, or Mutual Information?"
            },
            "questions": {
                "value": "1. How would you go about encouraging exploration across experts in SMEAR to help determine which expert weighting is most beneficial per token/image etc.? In a discrete scenario, one might look at dropout and/or jitter noise on incoming representations? Did the authors try something similar to investigate performance?\n\n2. The computational cost of the averaging works _\"as long as there is a modest number of expert\"_. In papers such as Switch Transformer, they use 128 experts compared to the 16 used in Scaling experiments. Would this method work in this context?\n\n3. Can you foresee any pitfalls from where weight averaging might not be beneficial? What are the main limitations of the method?\n\n4. How much specialisation do you learn as get one gets deeper into the network? Can you control this and would it get better results if you learned? There is a lot of learned sparsity in Figure3a but is this necessarily good? It could be a limitation that not enough exploration occurs through the proposed learning scheme.\n\n[extra]\nFormatting - not a question. but a comment on legibility. Section 4.1. needs to be broken up into paragraphs."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "6: marginally above the acceptance threshold"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission6566/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698942279652,
        "cdate": 1698942279652,
        "tmdate": 1699636743428,
        "mdate": 1699636743428,
        "license": "CC BY 4.0",
        "version": 2
    }
]