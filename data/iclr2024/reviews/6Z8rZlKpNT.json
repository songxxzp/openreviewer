[
    {
        "id": "z2NeMgQqMJ",
        "forum": "6Z8rZlKpNT",
        "replyto": "6Z8rZlKpNT",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_avuP"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_avuP"
        ],
        "content": {
            "summary": {
                "value": "The authors propose applying the latent density estimation via normalizing flows at the last layer of pre-trained classifiers. The method trains a lightweight auxiliary normalizing flow model to perform the out-of-distribution detection via density thresholding. Experimental results are good on incomplete CIFAR10 and ImageNet-1k benchmarks."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "1 poor"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "The only strength to me is the idea of combining generative OOD detection methods with discriminative ones. The idea is novel and interesting--somehow merges the two research lines and proposes a combined method."
            },
            "weaknesses": {
                "value": "1. **More baselines are needed for comparison.** This method does not belong to either generative or discriminative OOD detection. It uses the activation of the discriminative model to perform generative modeling to get the density. It is somewhere between the two branches of research lines. Thus, I think the model needs to be compared to many other discriminative OOD detection baselines [1,2]. Also, some recent generative OOD detection methods [3,4] need to be compared. At least the authors should discuss the recent approaches in the literature review. \n\n>[1] RankFeat: Rank-1 Feature Removal for Out-of-distribution Detection. NeurIPS 2022.\n>\n>[2] Extremely Simple Activation Shaping for Out-of-Distribution Detection. ICLR 2023.\n>\n>[3] The Tiled Variational Autoencoders: Improving Out-of-distribution Detection. ICLR 2023.\n>\n>[4] Harnessing Out-of-distribution Examples via Augmenting Content and Styles. ICLR 2023.\n\n\n2. **Missing Details of the CNF of ResNet activations.** The method section is quite unclear to me. The author simply wrote \"_learning an invertible mapping between the latent space and a Gaussian probability distribution._\" What is the mean and variance of the target Gaussian distribution? How is the model trained? Did you freeze the weight of the main classification branch? Did you still enforce the cross-entropy between class predictions and the ground truth? How do you match the transformed distributions to Gaussian marginals? There are too many important implementation details missing.  After all, it is quite weird that the core method part is quite short and unclear -- even shorter than the introduction of NF and BPD measures. \n \n3. **More OOD datasets are needed for the CIFAR10 benchmark.** Conventionally, OOD detection papers evaluated on CIFAR10 take 6 or 5 OOD datasets, including LSUN-crop, LSUN-resize, iSUN, Places365, and SVHN. However, this paper only chooses SVHN, which does not really capture diverse OOD scenarios and makes the actual average performance across datasets questionable.\n\n4. **Paper Structure.** The paper is poorly written and not organized well. The authors spend 2 pages on related work but use half a page for the method. Actually, some paragraphs in related work are unnecessary, especially the normalizing flow part. Moreover, some subsection in the discussion needs prior knowledge in the method section, such as Sec. 6.3 and 6.2. You need to first tell the audience you perform normalization in the method, and then it makes more sense to discuss why normalization is necessary."
            },
            "questions": {
                "value": "I strongly suggest the authors detail the methodology section. Given too many important details missing, I can only give reject in its current version."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Reviewer_avuP"
                ]
            }
        },
        "number": 1,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission4578/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1697627266709,
        "cdate": 1697627266709,
        "tmdate": 1699636435722,
        "mdate": 1699636435722,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "5Kyz157daq",
        "forum": "6Z8rZlKpNT",
        "replyto": "6Z8rZlKpNT",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_gGnx"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_gGnx"
        ],
        "content": {
            "summary": {
                "value": "The author proposed a post-hoc OOD detection method by training a lightweight auxiliary normalizing flow model and density thresholding. Specifically, the penultimate layer\u2019s activations are used as latent variables for density estimation. The existing normalizing flows are used for learning an invertible mapping between the latent space and a Gaussian probability distribution."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "2 fair"
            },
            "strengths": {
                "value": "1. Previous works assert that normalizing flows are not effective for OOD detection (Kirichenko et al., 2020; Nalisnick et al., 2019), while the authors demonstrate that normalizing flows could achieve competitive results by 1) performing density estimation in the latent space, 2) normalizing the latent representations, and 3) stopping flow training early."
            },
            "weaknesses": {
                "value": "1. I did not capture the gist of Section 3.2, what is the take-away for this section and how this is connected to the experiments?\n2. The authors compare several discriminative model-based OOD detection methods [Energy, MSP], but omit generative model-based OOD detection methods.   For instance: [Provable Guarantees for Understanding Out-of-distribution Detection, AAAI 2022]. Moreover, more advanced OOD detection methods are omit for comparison, such as [ASH,Extremely Simple Activation Shaping for Out-of-Distribution Detection, ICLR 2023].  \n3. Contribution is limited. [Why Normalizing Flows Fail to Detect Out-of-Distribution Data, NeurIPS 2020] already claimed that normalizing flow on features are better than normalizing flow on the input image."
            },
            "questions": {
                "value": "Please see the Weeknesses Section."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Reviewer_gGnx"
                ]
            }
        },
        "number": 2,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission4578/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698638730776,
        "cdate": 1698638730776,
        "tmdate": 1699636435651,
        "mdate": 1699636435651,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "gw2WJefEWs",
        "forum": "6Z8rZlKpNT",
        "replyto": "6Z8rZlKpNT",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_wdco"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_wdco"
        ],
        "content": {
            "summary": {
                "value": "This paper proposes to do density estimation in the learned latent space of normalizing flows for the OOD task in a fully unsupervised way."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "1 poor"
            },
            "contribution": {
                "value": "1 poor"
            },
            "strengths": {
                "value": "This method is a post-hoc method that could be applied to any pretrained normalization flows."
            },
            "weaknesses": {
                "value": "**W1:** The idea is nothing new. Exploiting the latent space of deep generative models has many existing works, but this paper lacks a discussion and comparison of them [1, 2, 3, 4, 5]. \nBesides, the latent variable's dimension of a flow model is the same as the input image but VAEs latent space dimension could be lower, if the authors claim the property \"lightweight\", maybe VAEs would be better.\n\n[1] Density of States Estimation for Out of Distribution Detection. AISTATS 2021.\n\n[2] Detecting Out-of-Distribution Inputs to Deep Generative Models Using a Test for Typicality.\n\n[3] Hierarchical VAEs Know What They Don't Know. ICML 2021.\n\n[4] Out-of-distribution detection with an adaptive likelihood ratio on informative hierarchical vae. NeurIPS 2022.\n\n[5] The Tilted Variational Autoencoder: Improving Out-of-Distribution Detection. ICLR 2023.\n\n**W2:** The experiments are not sufficient and convincing, where the compared baselines are limited and too old."
            },
            "questions": {
                "value": "See the weakness."
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            },
            "first_time_reviewer": {
                "value": "Yes",
                "readers": [
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission4578/Reviewer_wdco"
                ]
            }
        },
        "number": 3,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission4578/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698739162391,
        "cdate": 1698739162391,
        "tmdate": 1699636435583,
        "mdate": 1699636435583,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "t2NliUYmoD",
        "forum": "6Z8rZlKpNT",
        "replyto": "6Z8rZlKpNT",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_qftB"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_qftB"
        ],
        "content": {
            "summary": {
                "value": "This submission proposes to address the problem of Out-of-distribution (OOD) detection through the use of density estimation under normalizing flow models. \n\nPre-existing flow architectures are employed to perform density estimation in the latent space of pre-trained classification models. Samples can then be classified as OOD in standard fashion, i.e. if their (latent) representations are evaluated to be of low likelihood under the flow model (are smaller than a threshold value). Quantitative evaluation of the proposed strategy is reported and involves measuring AUROC under six standard datasets used as OOD test scenarios, in comparison with alternative OOD detection methods. Examples of favourable performance are reported."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "2 fair"
            },
            "contribution": {
                "value": "1 poor"
            },
            "strengths": {
                "value": "The problem being addressed here is real, and is important -- principled solutions and progress towards techniques that can reliably perform Out-of-distribution detection will be of high value to the community and additionally likely result in useful practical advances. I encourage the authors to consider thinking about these problems. Preliminary investigations into the nature, properties of the latent space with respect to OOD performance (Sec 6.5) are considered interesting."
            },
            "weaknesses": {
                "value": "As discussed OOD detection is a worthy topic of study, however the current version of the submission raises several key concerns. Namely questions remain over lack of sufficient novelty and contradictions within the crux of the message, in important parts. \n\nCrucially, previous work has already evidenced that 'flows are much better at OOD detection on image embeddings than on the original image datasets'; see Sec. 8, [a]. Somewhat confusingly, the current submission (also) cites [a] when claiming that 'normalizing flows are not effective for OOD detection in this domain'. Authors may wish to comment on this apparent contradiction. \n\nThe submission reports upon an experimental search for better performance down various well-trodden paths (e.g. PCA, early stopping, normalisation), however details of innovation are unclear.\n\nSome terminology issues and sloppy writing may serve to distract the reader. Suggest to tighten the exposition and take more care to keep the readership invested. As example:\n\n* Sec 2.3 states both that:\n'Normalizing flows [...] have historically performed very poorly for OOD detection in image classification'\nand also:\n'Zhang et al. demonstrate strong OOD detection performance using normalizing flows in image classification'\n\n* Highlighting problems such as 'few theoretical guarantees' exist and then proceeding with an empirical study leads to confusion. Suggest that authors are instead more focused, in terms of how they prime their readership, for their contributions.\n\n* The abstract claims to present a method 'avoiding researcher bias in OOD sample selection' yet Sec. 6.2 strongly recommends that practitioners 'evaluate [...] on both the original validation and a representative OOD dataset'. Authors may want to extend the latter point by qualifying the aforementioned bias-related issue.\n\nFinally, experimental work can be considered somewhat insufficient. This could be made stronger by considering wider comparisons with additional recent work. There is a large and growing body of OOD work that the authors may wish to also acknowledge and consider (non-exhaustive eg. [b,c,d]).\n\n\nSummary: \n\n* Concern over the novelty of the hypothesis, insights and sufficiency of both the technical contributions, experimental investigation.\n\n* Contradictory sentiments and statements make it, on occasion, difficult to follow the logical argument and message. Unfortunately the composition of the paper is in a premature state. \n\n\n Minor:\n\n* Some figures (e.g. Figure 1, Figure 2) are not referenced in the main body text. \n* Tab. 4: typos exist.\n\nReferences:\n\na. Kirichenko et al. \"Why normalizing flows fail to detect out-of-distribution data\". NeurIPS 2020.\n\nb. Liang et al. \"Enhancing The Reliability of Out-of-distribution Image Detection in Neural Networks\". ICLR 2018.\n\nc. Zhang et al. \"On the Out-of-distribution Generalization of Probabilistic Image Modelling\". NeurIPS 2021.\n\nd. Wang et al. \"Out-of-distribution Detection with Implicit Outlier Transformation\". ICLR 2023."
            },
            "questions": {
                "value": "It has been noted that, in performing OOD detection, the inductive biases of normalizing flows can cause difficulty for image space learning. One interesting question going forward, might be to look at how such biases interact with the noted differences in latent distributions that arise from supervised, unsupervised backbones models (Sec 6.5). \n\nSince flows tend to learn representations that achieve high likelihood through local pixel correlations in the image space, rather than discovering semantic structure, can analogous observations be drawn about differences in the 'shapes' of (un)supervised latent spaces?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "details_of_ethics_concerns": {
                "value": "Ethical issues are not discussed by the authors."
            },
            "rating": {
                "value": "5: marginally below the acceptance threshold"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 4,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission4578/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698767181486,
        "cdate": 1698767181486,
        "tmdate": 1699636435480,
        "mdate": 1699636435480,
        "license": "CC BY 4.0",
        "version": 2
    },
    {
        "id": "yVHhBcjwJd",
        "forum": "6Z8rZlKpNT",
        "replyto": "6Z8rZlKpNT",
        "signatures": [
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_E6xa"
        ],
        "nonreaders": [],
        "readers": [
            "everyone"
        ],
        "writers": [
            "ICLR.cc/2024/Conference",
            "ICLR.cc/2024/Conference/Submission4578/Reviewer_E6xa"
        ],
        "content": {
            "summary": {
                "value": "In this paper the authors propose using a normalizing flow to model the pre-logit activations of a classification network to detect OOD inputs. They show that flow models can yield good OOD detection performance if they are learned on the normalized latent representations from a pre-trained model backbone, with early stopping."
            },
            "soundness": {
                "value": "2 fair"
            },
            "presentation": {
                "value": "3 good"
            },
            "contribution": {
                "value": "1 poor"
            },
            "strengths": {
                "value": "- The paper is written clearly, and I appreciated the in-depth discussion and motivation of the problem of out-of-distribution detection. \n- The goal of further investigating the capabilities of normalizing flow models in OOD detection is an important research direction.\n- The discussion of key considerations required to achieve good OOD detection performance with normalizing flows shares interesting insights.\n- Results on Far-OOD detection are strong"
            },
            "weaknesses": {
                "value": "- The core method of modeling flows in the latent space lacks novelty: [Kirichenko et al., 2020], which the authors cite, explicitly mentions that while flows on the input-space don't perform well, latent-space flows perform much better.\n- The authors claim a benefit of their method does not require OOD data. However, in the discussion section, the authors state that representative OOD data is useful to determine when to stop flow training. If early stopping is necessary for good flow performance, the authors should detail how they chose when to stop training in the models used to evaluate the results.\n- The experimental evaluation is limited:\n\t- Results are reported without error bars. Error bars can be computed for a metric like AUROC by using a technique like bootstrapping or cross validation.\n\t- Missing OOD detection baselines such as ODIN [1] or Mahalanobis Distance based detection [2] which outperform the proposed method on the CIFAR10/SVHN task.\n\t- Many interesting hypotheses proposed in the discussion section lack quantitative empirical evidence. The observation that compactness of in-distribution class representations in the backbone seemed to correlate with better OOD detection performance was interesting, and worthy of a more extensive study. Adding more datapoints beyond the two shown in the paper (trained supervised vs trained unsupervised), for example by comparing against models with different architectures or different degrees of training performance would significantly strengthen the paper."
            },
            "questions": {
                "value": "The discussion section of the paper is frank about the practical challenges in getting flow models to work well for OOD detection, and that, in particular, there are considerations on early stopping during training. How did the authors choose when to stop training for the flow models whose OOD detection results are shown in Tables 1 and 2?"
            },
            "flag_for_ethics_review": {
                "value": [
                    "No ethics review needed."
                ]
            },
            "rating": {
                "value": "3: reject, not good enough"
            },
            "confidence": {
                "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
            },
            "code_of_conduct": {
                "value": "Yes"
            }
        },
        "number": 5,
        "invitations": [
            "ICLR.cc/2024/Conference/Submission4578/-/Official_Review",
            "ICLR.cc/2024/Conference/-/Edit"
        ],
        "domain": "ICLR.cc/2024/Conference",
        "tcdate": 1698811741898,
        "cdate": 1698811741898,
        "tmdate": 1699636435389,
        "mdate": 1699636435389,
        "license": "CC BY 4.0",
        "version": 2
    }
]