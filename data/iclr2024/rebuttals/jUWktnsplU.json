[
    {
        "title": "Hybrid Distillation: Connecting Masked Autoencoders with Contrastive Learners"
    },
    {
        "review": {
            "id": "w87YUBZIH9",
            "forum": "jUWktnsplU",
            "replyto": "jUWktnsplU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_4NJ5"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_4NJ5"
            ],
            "content": {
                "summary": {
                    "value": "The paper proposes hybrid distillation, which uses a supervised/CL teacher and a MIM teacher for a balance between discrimination and diversity. The authors use average attention distance and NMI metric to analyze the disadvantages of previous methods with respect to the above two properties, and then design hybrid distillation according to the disadvantages. Hybrid distillation achieves strong performances on various downstream tasks (classification/detection/segmentation) using ViT-B/L models."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "1. The proposed hybrid distillation is simple and reasonable according to the discrimination and diversity.\n2. Better performances on various downstream tasks.\n3. Good writing and abundant visualization."
                },
                "weaknesses": {
                    "value": "1. It seems that using two teachers for distillation really boosts the performances on downstream tasks. Will it take a longer pre-training time compared to only using CLIP as the teacher? I hope the authors can show the training time and the memory usage during distillation.\n2. Previous CL-based methods outperform MAE on linear probing because they own strong discrimination abilities. Since the hybrid distillation keeps this ability, can authors show the linear probing performances on ImageNet-1k?"
                },
                "questions": {
                    "value": "Please refer to weakness."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission1178/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission1178/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission1178/Reviewer_4NJ5"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1178/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698751170543,
            "cdate": 1698751170543,
            "tmdate": 1699636044216,
            "mdate": 1699636044216,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "RTm95cH2tN",
                "forum": "jUWktnsplU",
                "replyto": "w87YUBZIH9",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "To Reviewer 4NJ5"
                    },
                    "comment": {
                        "value": "**Q1: [The training time and memory usage.]:**\n\nPlease refer to Q1 for the general response, we claim that introducing additional teacher models inevitably brings more overhead, but the increase is tolerable. Besides, Hybrid Distill **enjoys shorter one-epoch training time and lower memory usage compared to dBOT[1]**. Hence, we believe that the computational cost of Hybrid Distill is acceptable compared to other distillation methods. \n\n**Q2: [Linear probing results on ImageNet-1K.]:**\n\nThe linear probing performances on ImageNet-1k are shown in the table below. The subpar performance of dBOT further validates our perspective discussed in Section 2.3, which suggests that its increase in diversity comes at the expense of sacrificing discrimination. In contrast, Hybrid Distill consistently maintains outstanding linear probing performance, thus confirming the effectiveness of our approach in simultaneously promoting diversity and discrimination.\n\n**Results for linear probing. $\\star$: using MAE+DeiT teachers. $\\dagger$: using MAE+CLIP teachers.**\n\n| Method                   | Linear Probing |\n| :----------------------- | :------------: | \n| MAE                      |      67.8      |\n| dBOT                     |      67.9      |\n| Hybrid Distill $\\star$   |      80.9      |\n| Hybrid Distill $\\dagger$ |      80.1      |\n\n[1] Exploring target representations for masked autoencoders, 2022."
                    }
                },
                "number": 8,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700147097216,
                "cdate": 1700147097216,
                "tmdate": 1700147097216,
                "mdate": 1700147097216,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "oGs667Bk0h",
            "forum": "jUWktnsplU",
            "replyto": "jUWktnsplU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_ZCMG"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_ZCMG"
            ],
            "content": {
                "summary": {
                    "value": "The paper studies the feature spaces and models from two different pretraining paradigms, contrastive learning  (CL) and masked image modelling (MIM). It reaffirms differences around discrimination of the produced features as well as the attention diversity and makes a number of interesting observations. Based on those, the paper proposes Hybrid Distill, a hybrid distillation method that tries to get the best of both CL and MIM. An MIM teacher is used at intermediate layers and a CL teacher at the output and this leads to models with both token diversity as well as features with strong discrimination."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "* The paper studies very interesting properties and tries to understand the difference in behaviour between common learning paradigms like CL and MIM.\n\n* The study of sec 2 is sound and with interesting observations.\n\n* The method presented in Sec 3 is to my knowledge technically novel. \n\n* The experimental validation seems complete and shows some gains for the proposed approach on the common setting."
                },
                "weaknesses": {
                    "value": "1. Sec 2 does not discuss performance, ie the \"discrimination\" aspect. It is unclear if this is because the two paradigms work equally well on downstream tasks? Probably thats not exactly the case, and generalization is in the end what we care about, ie what we use these features for. Also, wrt 2.2, studies (eg Wang et al and Sariyildiz et al below as well as the papers that introduce such projectors) have shown that the size of projector/\"asymmetric decoder\" matters wrt to downstream task behaviour.\n\n\n2. The method proposed in Sec 3 tries to get the best of both worlds by using two teachers, something that makes training harder and requires more memory.\n\n3. More of a note than a weakness:  It is now hard to compare the relevant rows in Tables 1 and 2. Tab 1 would be more easy to understand and compare if the two sections are wrt the two different backbones (ie ViT-B on top, ViT-L on the bottom). Inside each section, a separate split should be wrt what is the teacher. The models that distill clip should be clearly separated, cause they start from a much stronger teacher. Same for the ViT-L from the authors, that distills im21k.  These results are not comparable to the rest, and the im21k-distilled row seems out of place in both tables. Please make sure to separte accordingly.\n\nWang, Yizhou, et al. \"Revisiting the transferability of supervised pretraining: an mlp perspective.\" Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition. 2022.\n\nSariyildiz, Mert Bulent, et al. \"No reason for no supervision: Improved generalization in supervised models.\" ICLR 2023-International Conference on Learning Representations. 2023."
                },
                "questions": {
                    "value": "- What do the authors mean by \"s. For ViT-L, the distillation is based on both ImageNet-1K and ImageNet-21K\"? It is for different models or for the same model?\n\n- \"The hyperparameter \u03b1 and \u03b2 are set to 1.0\" - how is performance affected if the two teacher losses are not balanced like this?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1178/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698829179984,
            "cdate": 1698829179984,
            "tmdate": 1699636044144,
            "mdate": 1699636044144,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "JwqFNGeEOs",
                "forum": "jUWktnsplU",
                "replyto": "oGs667Bk0h",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "To Reviewer ZCMG"
                    },
                    "comment": {
                        "value": "**Q1: [Sec 2 does not discuss performance.]:** \n\ni)  We have demonstrated the inherent difficulty of achieving both diversity and discrimination through direct feature distillation in Section 2. Therefore, discussing the performance in Section 2 is essentially equivalent to **comparing the superiority of these two properties with respect to different downstream tasks since the student can only guarantee one of these properties, and this comparison has already been discussed in the second paragraph of Section 1 and in previous related works [1-2]**. Specifically, models with better discrimination exhibit advantages in recognition tasks, particularly in linear probing, while models with better diversity excel in dense-level tasks. \n\nii) In Q2 ii) of the general response, we have verified that models with better discrimination indeed exhibit superior linear probing performance. However, according to previous works [2-3] and our experience, longer pre-training or distillation periods (e.g., 1600 epochs in [2-3]) are required to achieve sufficient diversity and reap dense-level downstream benefits. In Section 2, we only conduct 100 epoch distillation to compare the distillation trends, which is insufficient to fully reflect the downstream advantages of diversity. Therefore, performance comparisons at this stage have limited value. Nonetheless, our Hybrid Distill design is based on the analysis presented in Section 2, and we consider its effectiveness on dense-level tasks as reliable evidence supporting this analysis. \n\niii)  Regarding the two papers you mentioned, they primarily discuss the impact of projectors on CL and Supervised models, whereas our focus is on their influence on the trend of distillation. As a result, they have different motivations with our studies.\n\n**Q2: [The method makes training harder and requires more memory.]:**\n\ni) Please refer to Q1 of the general response, Hybrid Distill **enjoys lower memory usage compared to MAE and dBOT**. Hence, we believe that the computational cost of Hybrid Distill is acceptable compared to other distillation methods.\n\nii) Regarding the training difficulty, we argue that Hybrid Distill actually mitigates this issue since the required properties can be directly obtained from teacher models. This claim is supported by the results presented in Table 10, as well as the discussion provided in Section E of the appendix. Specifically, Hybrid Distill can achieve better performance with much fewer training epochs compared to dBOT.\n\n**Q3: [Hard to compare the relevant rows in Tables 1 and 2.]:** \n\nThanks for your suggestion and we have reorganized Table 1 and Table 2 in the revised version.\n\n**Q4: [The distillation schedule when using ViT-L.]:** \n\nFor ViT-L, we offer two distinct models that are derived through different distillation processes. The first model is obtained through a 100-epoch distillation process using ImageNet-1k, while the second model is derived from a 40-epoch distillation process with ImageNet-21k. We have made revisions to the description in order to improve its clarity.\n\n**Q5: [The hyperparameter \u03b1 and \u03b2.]:**\n\nPlease refer to Table 13 and Table 14 and the discussion in Section A.5 of the appendix, we ablate the setting of \u03b1 and \u03b2 and conclude that: i) Combining two teachers for hybrid distillation can lead to performance gains towards only using one teacher, regardless of the value of hyperparameters \u03b1 and \u03b2. ii) Ensuring the weights of the more powerful model among the two teacher models count for better performance. iii) Setting both \u03b1 and \u03b2 to 1 for simplicity can already yield satisfactory results.\n\n[1] What Do Self-Supervised Vision Transformers Learn? 2023.\n\n[2] Revealing the Dark Secrets of Masked Image Modeling, 2022.\n\n[3] Masked Autoencoders Are Scalable Vision Learners, 2021."
                    }
                },
                "number": 4,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700146846608,
                "cdate": 1700146846608,
                "tmdate": 1700149677066,
                "mdate": 1700149677066,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "gM4HKo2ypV",
                "forum": "jUWktnsplU",
                "replyto": "JwqFNGeEOs",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Reviewer_ZCMG"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Reviewer_ZCMG"
                ],
                "content": {
                    "title": {
                        "value": "Thank you for your responses"
                    },
                    "comment": {
                        "value": "I think my questions have been successfully covered with the responses  and keep my accept recomendation for now. Looking forward to more discussion with the other reviewers."
                    }
                },
                "number": 9,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700647980837,
                "cdate": 1700647980837,
                "tmdate": 1700647980837,
                "mdate": 1700647980837,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "3mKSkwBlD4",
            "forum": "jUWktnsplU",
            "replyto": "jUWktnsplU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_zDe2"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_zDe2"
            ],
            "content": {
                "summary": {
                    "value": "This paper proposes a distillation or learning method for pretraining visual representation. Motivated from the differences in MAE, DeiT, CLIP models, in terms of feature diversity and attention distance, this paper proposes to distill differently for the two targets, specifically learn features from DeiT/CLIP models and attention maps from MAE methods. Results show some improvements over baselines on classification, detection, segmentation."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "1. The motivation is presented quite clearly given existing studies on average attention distance and NMI.\n2. The ablations are extensive and convincing that HybridDistill helps compared with vanilla MAE or DeiT."
                },
                "weaknesses": {
                    "value": "1. Unfair comparison. Table 1 compares to many vanilla training methods on ImageNet-1K but Hybrid Distill exploits CLIP targets and ImageNet-21K for training. Other methods exploiting the joint objectives, better models, or larger scale data are not compared.\n2. The two metrics of average attention distance and NMI are existing metrics. They provide insights to models but are still neither necessary or sufficient condition for a good representation. Existing works such as dBOT also visualized the average attention distance differences in existing methods (DeiT, DINO, MAE, etc.) and even different distillation stages and observed similar conclusion as well. Existing joint learning work with the distillation objective is producing good representation already.\n3. HybridDistill is complicated and designed specifically to ViT architecture with global attention map. Therefore, it looks challenging to apply to other architectures such as Swin or MViT or CNNs.\n4. Marginal performance gain compared with existing solutions in fair comparison. E.g. SdAE in Table 1 achieves 84.1, iBOT achieves 84.0, etc. with ViT-B without CLIP or ImageNet-21K, but Hybrid Distill achieving 83.7 lags behind. Similarly limited gain is observed with CLIP targets, e.g. dBOT 87.8% vs. this paper 87.6% with ViT-L ImageNet-1K CLIP targets, and Cascaded detection settings and ADE20K segmentation.\n5. Runtime compared with baselines. Since Hybrid Distill requires inferencing with multiple backbones and uses less aggressive masking strategy, what is the runtime of one epoch compared with vanilla MAE?\n6. The claim of using fewer epochs isn\u2019t quite important here considering the computation used in training all the targets (including CLIP)."
                },
                "questions": {
                    "value": "(see weakness for details)"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1178/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699205744545,
            "cdate": 1699205744545,
            "tmdate": 1699636044081,
            "mdate": 1699636044081,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "qHwgHTshUJ",
                "forum": "jUWktnsplU",
                "replyto": "3mKSkwBlD4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "To Reviewer zDe2 (1/2)"
                    },
                    "comment": {
                        "value": "**Q1: [Unfair comparison in Table 1.]:** \n\ni) Since the main purpose of our work is to reveal the incompleteness of previous works and to verify the benefits of promoting diversity and discrimination simultaneously, **we conduct most of our experiments in a basic setting**. As shown in Table 1 and Table 9 of our appendix, we **conduct 300 epochs of distillation utilizing the ImageNet-1K dataset and ViT-B/L as backbones**. We only report the results with ImageNet-21K in the last row of Table 1 to illustrate the potential benefits of larger-scale distillation, **while all other results are reported within the basic setting for fair comparisons**.\n\nii) Besides the CLIP+MAE targets you mentioned, **Hybrid Distill also provides results of using DeiT+MAE targets** and both results showcase consistent benefits towards teacher models and distillation baselines on dense-level detection and segmentation tasks, illustrating the effectiveness of our Hybrid Distill. We have reorganized Table 1 to make the relevant comparisons easy to understand. \n\n**Q2: [Average attention distance and NMI are existing metrics.]:** \n\nWe agree that average attention distance and NMI do not directly indicate good representation, as they are merely tools used to assess model behavior. However, **we argue that these two metrics have been inadequately interpreted in previous works**. In fact, our work is dedicated to **solving the limitations of the distillation works you mentioned, including dBOT [1]**. We present evidence that the diversity brought by dBOT is derived from its asymmetric decoder design (Section 2.2), while the asymmetric decoder design de facto hinders discrimination (Section 2.3). **This loss in discrimination also explains the phenomenon you mentioned, where models with different teachers (DeiT, DINO, MAE, etc.) exhibit similar behavior in dBOT after multi-stage distillation**. In summary, in Section 2, we have confirmed that **existing works are still far from achieving good representation from analyzing the diversity and discrimination perspectives**. \n\n**Q3: [Apply to other architectures such as Swin or MViT or CNNs.]:** \n\nThe core of our Hybrid Distill is to utilize MAE and Supervised/CL teachers to ensure both diversity and discrimination. Since **these two kinds of teachers have been confirmed to demonstrate similar behavior in hierarchical transformer structures (e.g., Swin) [2]** when compared to the plain ViT structure, we believe that our designs can be effectively adapted to these hierarchical structures as well. However, our analysis relies on the available pretrained models for efficiency, and the challenge lies in that previous methods have not provided pre-training weights (e.g., CLIP) or baseline results (e.g., [1,3-5]) for these structures. Therefore, further comprehensive validation will be conducted in the future, in parallel with the research progress of the community."
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700146949234,
                "cdate": 1700146949234,
                "tmdate": 1700149473934,
                "mdate": 1700149473934,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "lBhvULNK0F",
                "forum": "jUWktnsplU",
                "replyto": "Bi6ZtrkSVm",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Reviewer_zDe2"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Reviewer_zDe2"
                ],
                "content": {
                    "title": {
                        "value": "Follow up discussion/comment on Q4 and Q6."
                    },
                    "comment": {
                        "value": "Thanks for the detailed response. Here are more discussions/comments related to Q4 and Q6:\n\nIn practice, there are two cases where the proposed distillation method may be useful for practitioners:\n\n(1) When someone has in-house data likely from a different domain and wants to learn representation on such custom data (assuming the CLIP model still applies to this domain): In this case, reproducing HybridDistill on custom data will require 1600 epochs of the original MAE training plus the 300 epochs of distillation (1900 in total), which will put HybridDistill at a disadvantage in both cost and performance even compared with 1600 epochs of distillation in dBOT (Table 10). In this case, the fewer epochs of HybridDistill or the memory-saving property of HybridDistill won't matter because a custom MAE stage is needed on the custom data. In this case, HybridDistill is more costly.\n\n(2) When someone is simply interested in using a general visual representation on ImageNet and wants to exploit anything that exists online in a model zoo or hugging face, then the most reasonable action is probably to download the 1600-epoch dBOT-CLIP (i.e. 0 epoch of custom training needed) instead of downloading the 1600-epoch MAE and then training 300-epoch of HybridDistill. In this case, dBOT-CLIP provides better representation."
                    }
                },
                "number": 11,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700697586508,
                "cdate": 1700697586508,
                "tmdate": 1700697586508,
                "mdate": 1700697586508,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "C9stX6dK0j",
                "forum": "jUWktnsplU",
                "replyto": "3mKSkwBlD4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Reply to further comment"
                    },
                    "comment": {
                        "value": "Thanks for your detailed comment.\n\n**Q1: [Using in-house data from a different domain.]:** \n\ni) Compared with directly distilling on custom data, we think that distilling on a large-scale, general dataset and then fine-tuning on custom datasets (typically with small-scale supervised data or weakly supervised data) may be more applicable for its effectiveness in acquiring high-quality representation and preventing potential overfitting. Additionally, models obtained through large-scale distillation have the capability to quickly adapt to different custom data, as downstream tasks only require further fine-tuning on relatively small-scale datasets. While **for large-scale distillation itself**, as mentioned in our response to Q5 and Q6, **Hybrid Distill has efficiency advantages** towards dBOT.\n\n\nii)\u00a0**Even in cases where distillation needs to be performed on custom data, the MAE model obtained through large-scale pre-training can still serve as a good teacher**. As demonstrated in Section 2 of our updated supplementary materials,\u00a0**the unsupervised training paradigm of the MAE teacher allows it to maintain considerable diversity even when applied to data from different domains**. Therefore, we believe that utilizing this model to provide diversity for Hybrid Distill is still effective and the efficiency advantages of our Hybrid Distill can still be maintained.\n\n\n**Q2: [Using a general visual representation on ImageNet.]:** \n\ni) In our response to Q6, we have emphasized that Hybrid Distill is more efficient than dBOT in utilizing the off-the-shelf teacher models (e.g., DeiT, CLIP, and MAE) for distillation. **While the dBOT models**, obtained through distillation, do not belong to these base teacher models and they **should be compared with our Hybrid Distill models (also obtained through distillation) for fair comparisons**. We have further improved our revised version's description about 'fewer epochs' to improve clarity.\n\nii) Note that\u00a0 **dBOT also requires custom training, specifically through the process of distillation**. The models provided by dBOT to the community have already undergone **1600 epochs of custom training** under the guidance of a pre-trained teacher, but this does not mean that custom training is unnecessary for dBOT.  The advantages of our Hybrid Distill lie in its distillation strategy, which results in a significantly lower custom training cost compared to dBOT. Therefore, **we can also provide the community with performance-enhanced models that require less custom training cost (e.g., 300 epochs, or 500 epochs for further benefits) by leveraging our Hybrid Distill paradigm**, and releasing such models is in our plan."
                    }
                },
                "number": 12,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700731527092,
                "cdate": 1700731527092,
                "tmdate": 1700737124027,
                "mdate": 1700737124027,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "FfxeyjpqR3",
            "forum": "jUWktnsplU",
            "replyto": "jUWktnsplU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_mHak"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1178/Reviewer_mHak"
            ],
            "content": {
                "summary": {
                    "value": "After discussing the \"diversity\" and \"discrimination\" in the features of a distilled Transformer, this paper proposed a hybrid distillation framework that simultaneously distills knowledge from two distinctively different pre-trained teacher. Specifically, HybridDistill designs the distilling target and location from a pre-trained MIM model and a supervised/CL model. A progressive redundant token masking strategy is also proposed for reducing the distilling costs."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The paper provides many results and discussion on comparing the pre-head attention distance with different types of teacher model, which could be a helpful resource for the community.\n- The paper provides through ablation studies on each component of the proposed method."
                },
                "weaknesses": {
                    "value": "- My biggest concerns are on the validity of the motivation to encourage both \"diversity\" and \"discrimination\" in the Transformer.\n  - About \"diversity\":\n    - This submission claims that \"diversity\" ```means that the model pays attention to both local and global information and can achieve more evenly distributed representations```. What is ```evenly distributed representations'''? Specifically, which does it mean by \"distributed representation\"?\n    - My understanding is that the \"diversity\" is quantitively measured by both average attention distance and NMI. I am not sure if \"diversity\" is a good terminology in this case, which oversimplified many necessary context. I suggest, for example, \"different per-head attention distance\", to more accurately describe the discussed property. For simplicity, I will still use \"diversity\" in my review.\n    - I am **especially** not fully convinced that \u201cdiversity\u201d itself is something clearly worth to pursue in a pre-trained Transformer. Yes, \"diversity\" is evaluated in several previous works, but often as a side information/evidence to better understand the self-attentions. However, it is not convincing that \u201cdiversity\u201d in the last layers is something to specially encouraging. For a starter, what *should* be *ideal* per-head attention distance in each layer already requires serious discussion. It is hard to believe that focusing on long-term/global information in the last layers is unquestionably bad. If the authors argue that \"diversity\" in last layers may help dense-level tasks, while, then why not simply make better usage of multi-layer features in these dense tasks instead of forcing last layer features to be \"diverse\"?\n  - About \"discrimination\":\n    - This is a question: what metric is used to quantitively evaluate \"discrimination\" in the experiments?\n \n- Questions on results:\n  - Why MAE's COCO results in the main Table (Table 1) are **lower** than the results reported in MAE's original paper? For example, in MAE, a ViT-B is reported to get 50.3 APbox and 44.9 APmask, but 48.4 APbox and 42.6 APmask in this submission? Please highlights the experimental setting differences to MAE and other compared baselines in the paper if this is the reason. However, if the setting difference is the reason for performance difference on COCO, then why ADE20K results are matched?\n  - If directly distilling CLIP's feature harms dense tasks for its inadequate \"diversity\" in self-attention distance, then why results reported in MILAN outperforms the proposed method on COCO detection/instance segmentation and ADE20K semantic segmentation? I think MILAN directly predictions CLIP's features. Also, MILAN is not cited and compared in the submission.\n\n[MILAN] Hou et al, MILAN: Masked Image Pretraining on Language Assisted Representation."
                },
                "questions": {
                    "value": "Discussions/addressing the questions in **bold** in Weakness will be very helpful. Thanks!"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1178/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699468995908,
            "cdate": 1699468995908,
            "tmdate": 1699636044000,
            "mdate": 1699636044000,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "ok4VuMNc76",
                "forum": "jUWktnsplU",
                "replyto": "FfxeyjpqR3",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "To Reviewer mHak (1/2)"
                    },
                    "comment": {
                        "value": "**Q1: [Questions about diversity and discrimination.]:** \n\nWe actually share a similar viewpoint as you, i.e., we acknowledge **the importance of preserving long-term information (i.e., discrimination) in the last layers** and **do not believe that diversity is the only property to pursue**. The fundamental principle of our Hybrid Distill is thus to **retain this long-term information while simultaneously promoting diversity**. In the following, we talk about your concerns about diversity and discrimination point by point.\n\n**[The definition of diversity.]** \n\nThe term 'evenly distributed representations' is derived from [1], indicating that the representations are acquired through more evenly distributed attention across different attention distances. Your interpretation is also accurate, as diversity does represent the existence of 'different, or diverse, per-head attention distances'. In the revised version, we have adjusted the description for clarity.\n\n**[Is diversity itself clearly worth to pursue?]** \n\ni) As mentioned at the beginning, we also recognize the importance of preserving long-term information in the last layers as well as the limitation of judging the model with only diversity like previous works [1-2]. We emphasize that **increasing diversity should not be at the expense of sacrificing discrimination (i.e., long-term/global information in the last layer)**. This notion forms the core of our discussion in Section 2 and serves as the foundation for the development of Hybrid Distill in Section 3.\n\nii)  We acknowledge the significance of long-term information, **but the problem lies in the fact that the model uses too many transformer layers to represent homogeneous long-term information**. We introduce diversity to address this homogeneity, not to replace this information entirely. It is worth noting that although this problem is more apparent in the later layers, the trend of homogeneity can already be observed in earlier layers of CL/Supervised teachers. Therefore, relying solely on multi-layer features is not an essential solution to this problem. In fact, **we have already incorporated multi-layer features in our downstream tests for detection and segmentation** (r.f., Section C of the appendix), and the clear advantages of our Hybrid Distill over direct distillation (r.f., Table 1 of our paper) in these downstream provide support for our claim.\n\n**[The quantitively evaluation of discrimination.]** \n\nPlease refer to Q2 of the general response, we utilize average attention distance and NMI to judge both diversity and discrimination. Besides, we have included additional linear probing results  in the revised version, and the results align with the analysis of discrimination presented in Section 2.\n\n**Q2: [MAE results. ]:** \n\nSorry for the confusion, the difference between reported performance and original values in the MAE paper is attributed to **variations in downstream settings**.  We follow the settings of recent works  [3-5] (which are also widely adopted currently) for employing pretrained models in downstream tasks of COCO detection and ADE20K segmentation. For COCO detection:\n\ni) **The MAE paper finetunes the pretrained model for 100 epochs**, which is time-consuming and not a common downstream setting. Besides, MAE does not release the official codes for COCO detection and some fine-tuning details are missing. Therefore, we follow the common practice in [3-5] that **employs a 1x schedule (12 epochs)** for fine-tuning, and our reported MAE results align with these papers (48.4 $AP_{box}$ and 42.6 $AP_{mask}$). \n\nii) In Table 10 of our appendix, **we also provide another set of COCO detection results using Cascaded Mask-RCNN for comprehensiveness**. According to [2], the reported MAE result under this setting is 50.6 $AP_{box}$, while our Hybrid Distill achieves 53.0 $AP_{box}$, which is 2.4 points higher than MAE. This clearly demonstrates the advantages of our method compared to MAE across different settings."
                    }
                },
                "number": 2,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700146760740,
                "cdate": 1700146760740,
                "tmdate": 1700146760740,
                "mdate": 1700146760740,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "SdzXh5qSl2",
                "forum": "jUWktnsplU",
                "replyto": "FfxeyjpqR3",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1178/Authors"
                ],
                "content": {
                    "title": {
                        "value": "To Reviewer mHak (2/2)"
                    },
                    "comment": {
                        "value": "**Q3: [MILAN is not cited and compared in the submission.]:**\n\ni) **MILAN does not directly distill features**. Instead, it introduces a prompting decoder design that involves freezing the unmasked tokens. These tokens are then used as keys and values to interact with learnable mask tokens in the decoder. In our updated supplementary materials, we have verified that this design can alleviate the discrimination loss caused by the asymmetric decoder, resulting in improved performance. Therefore, the reason for its performance gain compared to direct distillation can be explained by the metrics in our paper, i.e.,  it successfully improves diversity while still maintaining a certain level of discrimination. We have cited this paper in the revised version.  \n\nii) MILAN follows the downstream setting of MAE and also does not disclose its details. Therefore, **we re-evaluate the performance of MILAN under our 1x downstream setting for a fair comparison, and our method outperforms MILAN by 0.9 $AP_{box}$ and 0.7 $AP_{mask}$**, as demonstrated in the table below. Evidence for this improvement can be found in the supplementary materials, i.e., MILAN does not exhibit the same level of diversity gain and discrimination preservation capabilities as our Hybrid Distill.\n\n**Results compared with MILAN**\n\n| Method         |   Teacher    | $AP_{box}$ | $AP_{mask}$ |\n| :------------- | :----------: | :--------: | ----------: |\n| MILAN          |     CLIP     |    49.7    |        43.7 |\n| Hybrid Distill | MAE and DeiT |    50.3    |        44.2 |\n| Hybrid Distill | MAE and CLIP |    50.6    |        44.4 |\n\n\n[1] Contrastive Learning Rivals Masked Image Modeling in Fine-tuning via Feature Distillation, 2022.\n\n[2] Exploring target representations for masked autoencoders, 2022.\n\n[3] Context Autoencoder for Self-Supervised Representation Learning, 2022.\n\n[4] Sdae: Self-distillated Masked Autoencoder, 2022.\n\n[5] Progressively Compressed Auto-Encoder for Self-Supervised Representation Learning, 2023."
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1178/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700146779351,
                "cdate": 1700146779351,
                "tmdate": 1700651476816,
                "mdate": 1700651476816,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]