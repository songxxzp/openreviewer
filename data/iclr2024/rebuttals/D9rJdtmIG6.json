[
    {
        "title": "SpaCE: The Spatial Confounding Environment"
    },
    {
        "review": {
            "id": "ul1nE7W8Nf",
            "forum": "D9rJdtmIG6",
            "replyto": "D9rJdtmIG6",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_oEAN"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_oEAN"
            ],
            "content": {
                "summary": {
                    "value": "The authors focus on the problem of latent spatial confounding, where a number of latent variables that vary smoothly across space causally affect both treatment and outcome.  Some algorithms have been proposed to account for this.  However, evaluation of these algorithms is hindered by a lack of empirical datasets with known ground truth.  To fill this void, the authors propose a method for generating semi-synthetic data with realistic dynamics and spatial confounding.  The spatial variables can then be removed from the training data to create a dataset with latent spatial confounding.  The authors create sets of empirical data in 6 domains, describe the process of generating the semi-synthetic data, and evaluate the performance of multiple spatially-aware causal discovery algorithms across various data settings.  The entire processing framework is encapsulated in a Python package."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "4 excellent"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "This is a well-written paper!  As someone familiar with causal modeling but largely unaware of advances in spatial modeling, this paper does a great job of motivating the problem.  While the contribution (generating semi-synthetic data from realistic treatment, outcome and confounders) isn't novel in and of itself, the combination of the extension to a spatial setting, the curation of six data collections, and the creation of a Python package to support the full pipeline are important enough contributions on their own.  I think this paper has a logical flow and explains each piece well, making it a smooth read.  While I can not speak to the algorithms compared, the hyper-parameters varied (smoothness, level of confounding, and binary vs continuous treatment) provide a nice coverage.  I also appreciate the authors' treatment of future work and ethical considerations."
                },
                "weaknesses": {
                    "value": "In Section 2, Figure 2 is described as illustrating that \"The closer locations s and s' are, the more correlated X_sMiss and X_s'Miss become.  While Figure 2 does show correlation between two locations s and s', the graphic certainly doesn't show that the correlation increases as s and s' get closer...\n\nGiven how information-dense Figure 4 is, I wish more analysis were provided of the results.  As it stands, there is only a single paragraph in Section 5 that discusses findings in Table 4.  In addition, With table 4 being aggregated across all 6 datasets, we're unable to assess how the performance differs across them.  While Figure 10 in the Appendix does show the breakdown by dataset, there is no discussion of the results.  I understand that space is tight, but I think including a bit more analysis in the paper, or at the very least in the appendix, would help the experimental results feel more impactful.\n\nAt the end of the second paragraph of Section 2, it says \"When a confounder is not unobserved, identification is not guaranteed\" - did you mean to say 'When a confounder is not observed\" or \"unobserved\"?\n\nMinor error: in the second to last paragraph of the Introduction, there's the line \"SpaCE offers Each dataset has a set of known missing confounders [...]\""
                },
                "questions": {
                    "value": "No questions"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8502/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698899070800,
            "cdate": 1698899070800,
            "tmdate": 1699637061986,
            "mdate": 1699637061986,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "MeguijDY8E",
                "forum": "D9rJdtmIG6",
                "replyto": "ul1nE7W8Nf",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We are extremely thankful for your positive feedback. We have made revisions following your suggestions, marked with magenta color in the revised text. We address your comments in order.\n\n1) We experimented with variations of Fig. 2 but found it the most convenient solution to clarify in the caption that the correlations are stronger as s and s\u2019 get closer. \n\n2) It is true that we had space limitations and had preferred to expand on clarity at the expense of the analysis of the results. Nonetheless, based on your suggestion, we moved some of the description of data collections in Section 3 to the appendix to make more space for the analysis of the experiments. We thus added two new analysis paragraphs in Section 5. \nThe first of these paragraphs presents the results by environment in Fig. 10 of the appendix, providing some new insights, for instance, about the case when the graph neural network outperforms other models. The second paragraph presents a new analysis of the performance by confounding and smoothness score. We use mixed effects regression model adjusting by random effects by environment, allowing us to conclude that higher errors are associated with lower smoothness scores and higher confounding scores as desired. We hope that these new paragraphs increase the impact of the results, as suggested by the reviewer.\n\n3) Thank you for pointing out the two minor typos. These have been fixed in the revision."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8502/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700195474036,
                "cdate": 1700195474036,
                "tmdate": 1700233115598,
                "mdate": 1700233115598,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "MzD2OfIzdN",
            "forum": "D9rJdtmIG6",
            "replyto": "D9rJdtmIG6",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_189J"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_189J"
            ],
            "content": {
                "summary": {
                    "value": "The authors introduce SpaCE, to provide benchmark datasets and tools for systematically evaluating causal inference methods designed to alleviate spatial confounding. In SpaCE, each dataset includes training data, true counterfactuals, a spatial graph with coordinates, and smoothness and confounding scores. It also includes realistic semi-synthetic outcomes and counterfactuals, generated using state-of-the-art machine learning ensembles, following best practices for causal inference benchmarks."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "The paper targets a meaningful problem and tries to provide a solution. The structure of the paper is good, and code is provided. The authors provide examples and experiment results to show the effectiveness of the dataset."
                },
                "weaknesses": {
                    "value": "The reviewer has several concerns that need the authors to address.\n\n1. In equation 1. if R_s is the\u00a0autocorrelation with neighbors, why do the authors consider only an additive model? What if Y = f(X, a, R)? Does the method fail in the cases of Y = f(X, a, R)?\u00a0\n\n2. Counterfactual inference/generation typically starts from the abduction step that infers the value or distribution of exogenous variables. However, in causal model (1), it is not clear which letter(s) denotes the exogenous variable(s).\u00a0\n\n3. What is the relationship between the residual R and the exogenous variable in the generation of Y? If R is the exogenous variable for Y, the authors need to consider a more general causal mechanism, rather than just the additive noise model (ANM). If R is not the exogenous variable, why the authors can use equation 1 for counterfactual inference?"
                },
                "questions": {
                    "value": "See the weaknesses.\nIf the authors address my concerns, I will increase the score."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8502/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8502/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8502/Reviewer_189J"
                    ]
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8502/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699016534406,
            "cdate": 1699016534406,
            "tmdate": 1700693258284,
            "mdate": 1700693258284,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "Gmy6mQIfCD",
                "forum": "D9rJdtmIG6",
                "replyto": "MzD2OfIzdN",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We are thankful for your positive remarks on the structure of the paper and your accurate summary. We have made improvements in Section 4 of the revision based on your comments, marked with red color.\n\nPerhaps there is still some confusion about the counterfactual generation procedure. The process can be summarized in four steps: First, we learn $f$ that best predicts $Y_s$ from $(X_s, A_s)$ using AutoML. Second, we estimate the empirical additive errors $\\hat{R}\\_s = Y_s - f(X_s, A_s)$ and their joint (spatial) distribution $(\\hat{R}\\_s)\\_{s\\in\\mathbb{S}} \\sim P_R$. Third, we replace these endogenous empirical residuals with an independent similarly distributed exogenous noise $(R\\_s)\\_{s\\in\\mathbb{S}} \\sim P_R$. Finally, we obtain counterfactuals by varying the treatment while holding constant the confounders and the exogenous noise. We added this summary in Section 4 for additional clarity.\n\nWe answer your questions directly.  As quick remarks,  $R_s$ is indeed the exogenous noise (Q3), and the abduction step is indeed what the reviewer suggests as the typical thing to do (Q2).  \n\nThe reviewer is concerned about the limitations of additive noise models (ANMs) (Q1, Q3). First, notice that while eq. (1) is additive, SpaCE's benchmark datasets can exhibit complex forms of non-additive noise due to the interactions with the missing confounder, which becomes part of the noise when masked.  The post-masking causal model can be written as $\\tilde{Y}_s=f(X^\\text{obs}_s, A_s, U_s)$ where the effect of the noise $U_s=(R_s, X_s^\\text{miss})$ is likely not additive due to interactions of $X_s^\\text{miss}$. Second, it is worth noticing that ANMs remain the focus and leading open challenge in the spatial confounding literature that our paper builds upon (c.f., [2,3,4,5]).  Are the reviewer's concerns motivated by the use and limitations of ANMs in causal discovery tasks [1, 6]? The spatial confounding literature we build upon mainly concerns causal effect estimation, not discovery. While there can be challenges for cause-effect estimation under non-additive noise models too, simple techniques complementing spatial confounding methods for ANMs have been used; for example,  with generalized linear models (e.g., Poisson regression) or outcome transformations (e.g., logarithms) for count-based or binary outcomes [5]. Thus, SpaCE's benchmark datasets are highly relevant to the current state of the art in spatial confounding adjustment. \n\nRegarding potential failures (Q1), the ANM will be a sensible model when the empirical residuals are approximately symmetric and continuously supported, as exemplified in Fig. 3c. We have documented the outcome transformations and stored histograms of the empirical and synthetic residuals with each environment in the Harvard Dataverse platform to ensure validity. We have also emphasized this in the revision.\n\n*References*\n\n- [1] Janzing & Steudel, 2010. \u201cJustifying additive noise model-based causal discovery via algorithmic information theory\u201d\n- [2] Kamal et al. 2023. \u201cSpatial Causality: A Systematic Review on Spatial Causal Inference\u201d. *Geographic Analysis*.\n- [3] Dupont et al. 2022. \u201cSpatial+: a novel approach to spatial confounding\u201d\n- [4] Paciorek, 2010. \u201cThe importance of scale for spatial-confounding bias and precision of spatial regression estimators\u201d\n- [5] Urdangarin et al. 2023. \u201cEvaluating recent methods to overcome spatial confounding\u201d\n- [6] Peters et al. 2004. \"Causal Discovery with Continuous Additive Noise Models.\""
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8502/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700157985188,
                "cdate": 1700157985188,
                "tmdate": 1700233009904,
                "mdate": 1700233009904,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "3Ny0VFwC3S",
                "forum": "D9rJdtmIG6",
                "replyto": "Gmy6mQIfCD",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8502/Reviewer_189J"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8502/Reviewer_189J"
                ],
                "content": {
                    "title": {
                        "value": "Response to reviewer's comment"
                    },
                    "comment": {
                        "value": "The authors' comments have addressed my concerns, and I would like to increase the score to 6."
                    }
                },
                "number": 12,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8502/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700693426228,
                "cdate": 1700693426228,
                "tmdate": 1700693426228,
                "mdate": 1700693426228,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "ifhqyEq2Pw",
            "forum": "D9rJdtmIG6",
            "replyto": "D9rJdtmIG6",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_ykyy"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8502/Reviewer_ykyy"
            ],
            "content": {
                "summary": {
                    "value": "The authors describe a framework for evaluating methods for causal inference in spatial data."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "4 excellent"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "The authors propose an environment for producing realistic benchmark data sets. Opinions may differ about whether this is a significant contribution, but it is certainly an important step toward verifiable research progress in causal inference.\n\nDespite the problems outlined below, this paper is still worth accepting. The paper itself is well-written and detailed, and the work itself provides valuable infrastructure for later research."
                },
                "weaknesses": {
                    "value": "The decision to defer work on interference is dubious. There are many ways in which the treatments, outcomes, and covariates of neighboring units can interact, including treatment of one unit causing outcome in neighboring units, treatments causing treatments, and outcomes causing outcomes (and even outcomes causing treatments). It would seem reasonable to construct semi-synthetic data generation methods that could, in principle, produce all of these effects.\n\nThe authors produce a variety of data sets that use real treatments and covariates (and synthetic outcomes). Given that real treatments are used, there clearly could be spatial correlations among those variables. Thus, generated data sets may already have some degree of treatment-to-treatment spillover or covariate to (multiple) treatment dependence that produces that spatial dependence among treatment values.\n\nThe authors do not cite a large and recent literature on evaluation methods for causal inference. While this literature is not about spatial confounding specifically, it provides a large number of analogs in the context of non-spatial confounding and it is worth citing. These include:\n\nDorie, V., Hill, J., Shalit, U., Scott, M., & Cervone, D. (2019). Automated versus Do-It-Yourself Methods for Causal Inference. Statistical Science, 34(1), 43-68.\n\nGentzel, A. M., Pruthi, P., & Jensen, D. (2021, July). How and why to use experimental data to evaluate methods for observational causal inference. In International Conference on Machine Learning (pp. 3660-3671). PMLR.\n\nCheng, L., Guo, R., Moraffah, R., Sheth, P., Candan, K. S., & Liu, H. (2022). Evaluation methods and measures for causal learning algorithms. IEEE Transactions on Artificial Intelligence, 3(6), 924-943."
                },
                "questions": {
                    "value": "Why not include various types of effects (see above) besides confounding?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8502/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699145600811,
            "cdate": 1699145600811,
            "tmdate": 1699637061755,
            "mdate": 1699637061755,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "xPrNN7oio0",
                "forum": "D9rJdtmIG6",
                "replyto": "ifhqyEq2Pw",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your positive notes on the paper's strengths. We now address your other comments and questions. The text in the revision addressing these comments will be highlighted in blue.\n\nWe included your recommended citations for works related to causal evaluation (outside spatial confounding) in the introduction. \n\nRegarding the deferral of interference to future work, this decision came after careful consideration. The three main reasons are the lack of ensembling methods allowing for spill-overs, the need for spill-over-specific metrics, and the different dataset domains typically considered in the literature. We clarify below:\n\n*Lack of ensembling and ML techniques for interference*. The literature has yet to significantly develop ML models for counterfactual generation under interference. Most existing approaches typically rely on limited manually constructed spill-over exposure maps characterizing interference (e.g., assuming that the nature of interference depends only on the average treatment of neighbors) [1,4]. Graph neural networks (GNNs) are promising to reduce the dependency on manually constructed features [2], but extensive evaluation and research justifying their correct utilization is still needed [3]. Even if considering GNNs, a core design element in SpaCE uses AutoML (including boosting, random forests, NNs, etc.) to avoid artificially favoring a specific machine learning model. Currently, generated synthetic datasets do not exhibit spill-overs since, conditional on the confounders, AutoML baselines do not allow local outcomes to depend on non-local treatments.\n\n*Contrasting estimands and metrics*. The focus of interference research is on estimating spill-over/indirect effects vs direct effects [1]. Spill-over effects, as typically defined [4], are specified in terms of assumptions in changes in the distribution of the treatment of neighbors. These estimands and associated metrics must be defined and explained in detail, deviating from those used for confounding. Tests and evaluations for interference would also require different algorithmic baselines. Addressing these differences within the space limitations of a single conference paper would have required a significant deviation at the expense of clarity and focus on the increasingly important topic of spatial confounding.\n\n*Different focus on the nature of the data*. It is true that, as pointed out by the reviewer, some of our raw data collections could exhibit spillovers. However, the interference literature has more frequently focused on other types of networked data, such as social networks [1, 5], which have traditionally been outside the main concern of the spatial confounding literature. Based on the reference recommended by the reviewer, Cheng et al. (2022), it can also be pointed out that some datasets for interference already exist based on social networks, while no current solution using realistic representative data exists for spatial confounding, which is the important gap filled by SpaCE. \n\nWe have included a summarized version of this discussion in section 6.\n\n*References*\n\n- [1] Forastiere et al., 2021. \u201cForastiere, Laura, Edoardo M. Airoldi, and Fabrizia Mealli. \"Identification and estimation of treatment and interference effects in observational studies on networks.\"\n- [2] Ma & Volker., 2021. \u201cCausal inference under networked interference and intervention policy enhancement\u201d\t\n- [3] Jian & Sun., 2022. \u201cEstimating Causal Effects on Networked Observational Data via Representation Learning\u201d. \n- [4] Hudgens & Halloran, 2008. \u201cToward causal inference with interference.\u201d\n- [5] Cheng et al. 2022. \u201cEvaluation methods and measures for causal learning algorithms.\u201d"
                    }
                },
                "number": 5,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8502/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700157623698,
                "cdate": 1700157623698,
                "tmdate": 1700171936015,
                "mdate": 1700171936015,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "UNGl6CwB7b",
                "forum": "D9rJdtmIG6",
                "replyto": "ifhqyEq2Pw",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8502/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Dear reviewer, as the author/reviewer discussion period ends today, we would be very grateful if you could indicate if you have additional questions. We are understanding that the deadline is very tight. We also highlight to the reviewer the additional analysis and experiments indicated in color text in the revision and summarized in the comment to all reviewers [here](https://openreview.net/forum?id=D9rJdtmIG6&noteId=oLoyfbjF9G)."
                    }
                },
                "number": 10,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8502/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700660690175,
                "cdate": 1700660690175,
                "tmdate": 1700660890411,
                "mdate": 1700660890411,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]