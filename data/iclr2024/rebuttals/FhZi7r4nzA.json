[
    {
        "title": "DiPmark: A Stealthy, Efficient and Resilient Watermark for Large Language Models"
    },
    {
        "review": {
            "id": "SG7dt4pKDc",
            "forum": "FhZi7r4nzA",
            "replyto": "FhZi7r4nzA",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_6R4r"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_6R4r"
            ],
            "content": {
                "summary": {
                    "value": "The authors proposed the \"DiPmark\" method, a novel watermarking technique specifically for Large Language Models (LLMs). A key feature of this method is its ability to preserve data distribution, ensuring that the performance of LLMs remain unaffected when watermarked. Comprehensive experiments demonstrate that the proposed method is robust to typical text manipulation attacks like insertions, substitutions, and deletions. Moreover, its efficient watermark detection enhances its applicability and relevance in real-world scenarios."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "Originality: The proposed method is a novel watermarking technique designed for LLMs. Unlike other methods, the proposed method offers a balance between being stealthy, efficient, and robust.\n\n    Quality: The paper is well-researched. It has a solid theoretical foundation and is supported by substantial experimental results, which back up the authors' claims.\n\n    Clarity: The paper is organized in a clear and logical manner, with sections building upon each other and clear visuals and tables. This approach provides readers with a clear understanding of the proposed methods and how they compare to existing watermarking techniques.\n\n    Significance: In today's world, where LLMs are increasingly significant in various fields, ensuring the security, authenticity, and traceability of their outputs is crucial. The proposed method addresses this need by ensuring that generated texts can be traced back to their origin without compromising the performance of LLMs."
                },
                "weaknesses": {
                    "value": "Limited Comparative Analysis: The proposed method only compares with a single baseline method, which might not provide a comprehensive view of its performance against a variety of existing watermarking techniques.\n\n    Performance Parity with Baselines: The proposed method does not always outperform the baseline. In certain scenarios, the baseline even demonstrates superior performance. A more in-depth analysis explaining these anomalies would be beneficial, and there's a potential need to further optimize the proposed method to ensure its consistent superiority.\n\n    Efficiency Claims: While the authors emphasize the efficiency of the proposed method, there isn't a dedicated experiment to test its detection efficiency. Including such an experiment would substantiate their claims and make the paper more convincing.\n\n    Lack of Open Source Code: The absence of publicly available code for the proposed method may raise concerns about the reproducibility of the experimental results. Sharing the code can validate the findings and enhance the paper's credibility."
                },
                "questions": {
                    "value": "Given that the proposed method was compared with one baseline, could the authors clarify the rationale behind this choice? Are there other existing watermarking techniques that might have been considered for comparison?\n\n    In some scenarios, the baseline seemed to outperform the proposed method. Could the authors shed light on what factors might have contributed to this? Is it intrinsic to the design of the methods, or were there other external factors?\n\n    The paper claims the efficiency of the proposed method, particularly in terms of detection. An experimental section dedicated to this would be beneficial.\n\n    While it's understood that there might be proprietary reasons for not sharing the code, could the authors consider releasing a limited version or a pseudocode to aid in understanding the finer details of the implementation?\n\n    The resilience of the proposed method was tested against standard text manipulation attacks. Are there more complicated attacks that might challenge the proposed method?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission1938/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission1938/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission1938/Reviewer_6R4r"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1938/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698248980633,
            "cdate": 1698248980633,
            "tmdate": 1699636125134,
            "mdate": 1699636125134,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "G22u1lfat0",
                "forum": "FhZi7r4nzA",
                "replyto": "SG7dt4pKDc",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors response to Reviewer 6R4r (Part 1/2)"
                    },
                    "comment": {
                        "value": "Thanks for your detailed and valuable feedback. We address your concerns as below.\n\n**W1 & Q1. Limited Comparative Analysis.**\n\n>**A1.** The topic of reweight-based watermarking in LLMs is a novel area of research, initially introduced by Kirchenbauer et al. (2023) (outstanding paper of ICML 2023). To date, there are only three concurrent studies that explore this subject: Christ et al. (2023), Kuditipudi et al. (2023), and Hu et al. (2023). These works collectively represent the emerging body of research related to reweight-based watermarking in LLMs. According to the ICLR reviewer guide (https://iclr.cc/Conferences/2024/ReviewerGuide), 'if a paper was published (i.e., at a peer-reviewed venue) on or after May 28, 2023, authors are not required to compare their own work to that paper'. We are not expected to compare with Christ et al. (2023), Kuditipudi et al. (2023), and Hu et al (2023) as all of them were published on arXiv within four months and without peer-reviewing. Thus, W1 should not be a weakness of our paper. Despite that, we still provide additional results with Kuditipudi et al. (2023) and Hu et al. (2023). We are not able to compare with Christ et al. (2023) as it is a pure theoretical paper with no experiments and codes.\n\n### **Stealthy:**\n\nPerformance of different watermarking methods on machine translation and text summarization\n|                          | Machine Translation |       | Text Summarization |       |        |\n|--------------------------|---------------------|-------|--------------------|-------|--------|\n|                          | BERTScore\u2191          | BLEU\u2191 | BERTScore\u2191         | Perplexity\u2193 | ROUGH-1\u2191 |\n| No Watermark         | 0.559\u00b10.003         | 21.8\u00b10.3 | 0.3273\u00b10.0008      | 5.021\u00b10.018 | 0.3855\u00b10.0009 |\n| Soft (\u03b4=1.5)         | 0.550\u00b10.003         | 20.4\u00b10.3 | 0.3209\u00b10.0008      | 5.660\u00b10.021 | 0.3793\u00b10.0009 |\n| Soft (\u03b4=2.0)         | 0.539\u00b10.003         | 19.4\u00b10.3 | 0.3146\u00b10.0008      | 6.241\u00b10.023 | 0.3725\u00b10.0009 |\n| Kuditipudi et al (2023)         | 0.560\u00b10.003         | 21.7\u00b10.3 | 0.3270\u00b10.0008      | 5.021\u00b10.018 | 0.3854\u00b10.0009 |\n| Hu et al (2023)         | 0.563\u00b10.003         | 21.8\u00b10.3 | 0.3271\u00b10.0008      | 5.023\u00b10.018 | 0.3857\u00b10.0009 |\n| **DiPmark (\u03b1=0.45)**     | 0.562\u00b10.003         | 21.9\u00b10.3 | 0.3269\u00b10.0008      | 5.024\u00b10.018 | 0.3852\u00b10.0009 |\n\nResult analysis: Kuditipudi et al (2023), Hu et al (2023), and DiPmark preserve the text quality, while the soft watermark (Kirchenbauer et al (2023)) degrades the output text quality.\n\n### **Efficient:**\n\nWe compare the time for detecting one and 1000 (100 batches) watermarked texts with different detection algorithms. The task is poetry generation with LLaMA-2 (chat, 7B). We use the same GPU (NVIDIA A6000) for all experiments.\n\n|  Number of samples | 1 | 1000 |\n|--------------------------|---------------------|-------|\n| Soft(Kirchenbauer et al (2023))| **0.3s**  | 92s |\n| Kuditipudi et al (2023)  | 80s       | 12h |\n| Hu et al (2023) (require LM access)| 3.4s  | 412s | \n| **DiPmark**     | **0.3s** |**90s** |\n\nWe also compare the time for adding watermarks. As all four watermark generator algorithms are reweight-based, which only modify the output logits of tokens,  there is no significant difference between the cost of adding watermarks. The extra time introduced by all watermarking methods in text generation is below 0.01s/100 tokens.\n\nResult analysis: the detection algorithms of Soft and DiPmark are efficient without accessing LMs, while Hu et al (2023) requires additional access to LMs and Kuditipudi et al (2023) need significantly longer time.\n\n### **Resilient:**\n\nAUC score of different watermarks under varying attack strength \u03b5 on poetry generation task with LLaMA-2 (chat, 7B).\n| Random text modification (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|---------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**   | **0.9883**  | **0.9521**  | 0.8033  |\n| Kuditipudi et al (2023) | 0.9951 | 0.9461  | 0.8979  | 0.7815  |\n| Hu et al (2023)          | 0.9936 | 0.9297  | 0.8391  | 0.7574  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990** | 0.9859  | 0.9515  | **0.8060**  |\n\n\n\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| Kuditipudi et al (2023)| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| Hu et al (2023)          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |\n\nResult analysis: All watermark algorithms are resilient to random text modification and paraphrasing attacks, while DiPmark and Soft watermark slightly outperform the other two algorithms."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700056610869,
                "cdate": 1700056610869,
                "tmdate": 1700068850981,
                "mdate": 1700068850981,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "8am34aUfAv",
                "forum": "FhZi7r4nzA",
                "replyto": "SG7dt4pKDc",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors response to Reviewer 6R4r (Part 2/2)"
                    },
                    "comment": {
                        "value": "**W2 & Q2. Performance Parity with Baselines.**\n\n>**A2.** Our work mainly focuses on building a stealthy, efficient, and resilient watermark. And we have demonstrated those three properties through our theoretical analysis and experiments. The detectability of baseline Kirchenbauer et al (2023) slightly outperformed DiPmark in some scenarios. However, building a watermark with super strong detectability is not the focus of our work, and we have demonstrated in Section 6.2 that DiPmark has comparable detectability to Kirchenbauer et al (2023) in most cases.\n\n**W3 & Q3. Efficiency Claims.**\n\n>**A3.** That's a nice suggestion. Please check the efficient result in A1, we add the comparison of the efficiency of different watermarks. DiPmark can achieve the best watermark detection efficiency.\n\n**W4 & Q4. Lack of Open Sourced Code**\n\n>**A4.** We upload the code of our DiPmark generator algorithm to the supplementary material (this is the major contribution of our work), please check it. We will release the full implementation in the final revision.\n\n**Q5. The resilience of the proposed method under stronger attacks.**\n\n>**A5.** According to Kirchenbauer et al (2023), the text modification attack is the one of the strongest attacks against the reweight-based watermarks. In our experiment we evaluate the resilience of our model against random text modifications, which indicates our threat model is strong enough. Below we provide the resilience of DiPmark under paraphrasing attacks in Kirchenbauer et al (2023), which is another type of text modification attack. We see DiPmark is also robust against the paraphrasing attacks.\n\nAUC score of different watermarks under varying attack strength \u03b5 on the poetry generation task with LLaMA-2 (chat, 7B).\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| **Soft (\u03b4=1.5)**             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| **Kuditipudi et al (2023)**| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| **Hu et al (2023)**          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |"
                    }
                },
                "number": 8,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700056684938,
                "cdate": 1700056684938,
                "tmdate": 1700068859113,
                "mdate": 1700068859113,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "zD6olOVEKb",
                "forum": "FhZi7r4nzA",
                "replyto": "SG7dt4pKDc",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Follow up with reviewer 6R4r"
                    },
                    "comment": {
                        "value": "We really appreciate reviewer 6R4r for the insightful and constructive feedback. As the discussion phase approaches its end, we would be grateful to receive any further comments or insights you may have regarding our response and we are more than happy to address them. Moreover, should our rebuttal have adequately addressed your concerns, we would deeply appreciate it if you would consider revising your evaluation scores. Once again, thank you for your valuable time and efforts!"
                    }
                },
                "number": 18,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700670517308,
                "cdate": 1700670517308,
                "tmdate": 1700670517308,
                "mdate": 1700670517308,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "bo98gHBKYx",
            "forum": "FhZi7r4nzA",
            "replyto": "FhZi7r4nzA",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_NL4L"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_NL4L"
            ],
            "content": {
                "summary": {
                    "value": "In this work, the authors propose a distribution-preserving watermark, called DiPmark. DiPmark introduces a new reweight approach and a hash function that enable the watermark to be stealthy, efficient and resilient. The authors provide theoretical analysis and proofs for the watermark generation and detection. They evaluate DiPmark and compare its performance to the Soft watermark presented in the ICML 2023 best paper."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "1.\tThis work is clearly motivated. The proposed DiPmark aims to achieve stealthiness, efficiency and resilience while the existing watermarking techniques don\u2019t possess all three characteristics at the same time.\n2.\tThe authors provide a solid theoretical support for the design of DiPmark generator and detector.\n3.\tThe authors also provide a detailed analysis of the resilience against text modification, which supports the claim that DiPmark is provably robust."
                },
                "weaknesses": {
                    "value": "1.\tThe experiment section does not explicitly reflect the contributions and strength of the work. It would be nice to make the evaluation metrics of stealthiness, efficiency and resilience clear and highlight the results of DiPmark. Make the analysis and explanation of experiment results more readable and straightforward.\n2.\tThe authors mainly compare DiPmark to the Soft watermark (ICML 2023 best paper) in the experiments. I suggest enriching the experiments and including more results and comparisons to other watermarking techniques mentioned in the paper, which can help others have a better understanding of the performance of DiPmark."
                },
                "questions": {
                    "value": "See weaknesses."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1938/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698512800958,
            "cdate": 1698512800958,
            "tmdate": 1699636124870,
            "mdate": 1699636124870,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "T68euvE7ct",
                "forum": "FhZi7r4nzA",
                "replyto": "bo98gHBKYx",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors response to Reviewer NL4L"
                    },
                    "comment": {
                        "value": "Thanks for your positive and valuable feedback, below we address the concerns:\n\n**W1. Make the evaluation metrics of stealthiness, efficiency and resilience clear and highlight the results of DiPmark.**\n\n>**A1.** That\u2019s a great suggestion! We evaluate the stealthiness, efficiency and resilience of our model, see the experimental results in A2.\n\n**W2. Enriching the experiments and including more results and comparisons to other watermarking techniques mentioned in the paper.**\n\n>**A2.**  According to the ICLR reviewer guide (https://iclr.cc/Conferences/2024/ReviewerGuide), 'if a paper was published (i.e., at a peer-reviewed venue) on or after May 28, 2023, authors are not required to compare their own work to that paper'. We are not obligated to compare with Christ et al. (2023), Kuditipudi et al. (2023), and Hu et al (2023) as all of them were published on arXiv within four months and without peer-reviewing. Thus, W2 should not be a weakness of our paper. Despite that, we still provide additional results with Kuditipudi et al. (2023) and Hu et al. (2023). We are not able to compare with Christ et al. (2023) as it is a pure theoretical paper with no experiments and code.\n\n### **Stealthy:**\n\nPerformance of different watermarking methods on machine translation and text summarization\n|                          | Machine Translation |       | Text Summarization |       |        |\n|--------------------------|---------------------|-------|--------------------|-------|--------|\n|                          | BERTScore\u2191          | BLEU\u2191 | BERTScore\u2191         | Perplexity\u2193 | ROUGH-1\u2191 |\n| No Watermark         | 0.559\u00b10.003         | 21.8\u00b10.3 | 0.3273\u00b10.0008      | 5.021\u00b10.018 | 0.3855\u00b10.0009 |\n| Soft (\u03b4=1.5)         | 0.550\u00b10.003         | 20.4\u00b10.3 | 0.3209\u00b10.0008      | 5.660\u00b10.021 | 0.3793\u00b10.0009 |\n| Soft (\u03b4=2.0)         | 0.539\u00b10.003         | 19.4\u00b10.3 | 0.3146\u00b10.0008      | 6.241\u00b10.023 | 0.3725\u00b10.0009 |\n| Kuditipudi et al (2023)         | 0.560\u00b10.003         | 21.7\u00b10.3 | 0.3270\u00b10.0008      | 5.021\u00b10.018 | 0.3854\u00b10.0009 |\n| Hu et al (2023)         | 0.563\u00b10.003         | 21.8\u00b10.3 | 0.3271\u00b10.0008      | 5.023\u00b10.018 | 0.3857\u00b10.0009 |\n| **DiPmark (\u03b1=0.45)**     | 0.562\u00b10.003         | 21.9\u00b10.3 | 0.3269\u00b10.0008      | 5.024\u00b10.018 | 0.3852\u00b10.0009 |\n\nResult analysis: Kuditipudi et al (2023), Hu et al (2023), and DiPmark preserve the text quality, while the soft watermark (Kirchenbauer et al (2023)) degrades the output text quality.\n\n### **Efficient:**\n\nWe compare the time for detecting one and 1000 (100 batches) watermarked texts with different detection algorithms. The task is poetry generation with LLaMA-2 (chat, 7B). We use the same GPU (NVIDIA A6000) for all experiments.\n\n|  Number of samples | 1 | 1000 |\n|--------------------------|---------------------|-------|\n| Soft(Kirchenbauer et al (2023))| **0.3s**  | 92s |\n| Kuditipudi et al (2023)  | 80s       | 12h |\n| Hu et al (2023) (require LM access)| 3.4s  | 412s | \n| **DiPmark**     | **0.3s** |**90s** |\n\nWe also compare the time for adding watermarks. As all four watermark generator algorithms are reweight-based, which only modify the output logits of tokens,  there is no significant difference between the cost of adding watermarks. The extra time introduced by all watermarking methods in text generation is below 0.01s/100 tokens.\n\nResult analysis: the detection algorithms of Soft and DiPmark are efficient without accessing LMs, while Hu et al (2023) requires additional access to LMs and Kuditipudi et al (2023) need significantly longer time.\n\n### **Resilient:**\n\nAUC score of different watermarks under varying attack strength \u03b5 on poetry generation task with LLaMA-2 (chat, 7B).\n| Random text modification (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|---------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**   | **0.9883**  | **0.9521**  | 0.8033  |\n| Kuditipudi et al (2023) | 0.9951 | 0.9461  | 0.8979  | 0.7815  |\n| Hu et al (2023)          | 0.9936 | 0.9297  | 0.8391  | 0.7574  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990** | 0.9859  | 0.9515  | **0.8060**  |\n\n\n\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| Kuditipudi et al (2023)| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| Hu et al (2023)          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |\n\nResult analysis: All watermark algorithms are resilient to random text modification and paraphrasing attacks, while DiPmark and Soft watermark slightly outperform the other two algorithms."
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700056378999,
                "cdate": 1700056378999,
                "tmdate": 1700058449715,
                "mdate": 1700058449715,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "piqUETC0ve",
                "forum": "FhZi7r4nzA",
                "replyto": "bo98gHBKYx",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Follow up with reviewer NL4L"
                    },
                    "comment": {
                        "value": "We really appreciate reviewer NL4L for the insightful and constructive feedback. As the discussion phase approaches its end, we would be grateful to receive any further comments or insights you may have regarding our response and we are more than happy to address them. Moreover, should our rebuttal have adequately addressed your concerns, we would deeply appreciate it if you would consider revising your evaluation scores. Once again, thank you for your valuable time and efforts!"
                    }
                },
                "number": 17,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700670489335,
                "cdate": 1700670489335,
                "tmdate": 1700670489335,
                "mdate": 1700670489335,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "88mYtbLvef",
                "forum": "FhZi7r4nzA",
                "replyto": "piqUETC0ve",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Reviewer_NL4L"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Reviewer_NL4L"
                ],
                "content": {
                    "title": {
                        "value": "Thanks for your response!"
                    },
                    "comment": {
                        "value": "I appreciate your response. I am inclined to keep my rating."
                    }
                },
                "number": 19,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700707038721,
                "cdate": 1700707038721,
                "tmdate": 1700707038721,
                "mdate": 1700707038721,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "5kVptrYquX",
            "forum": "FhZi7r4nzA",
            "replyto": "FhZi7r4nzA",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_mbUM"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_mbUM"
            ],
            "content": {
                "summary": {
                    "value": "This submission is an extension to an existing soft watermarking framework for LLMs that aims at the preservation of output distribution. The proposed method claims to preserve the original token distributions, works without access to the LLM, and is \"resilient to moderate\" changes in the tokens. The proposed method is heavily based on the watermarking technique from Kirchenbauer et al. (2023). In general, the results do not show a big difference from soft watermarking. The only difference is the better preservation of the output distribution, which is not presented clearly in the experimental section."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "1 poor"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "1. The method is claimed to provide 3 crucial properties for watermarking of outputs from language models: (1) stealthiness (difficulty in detection), (2) efficiency (in embedding and detection of a watermark_, and (3) resilience (to the changes in the watermarked text)."
                },
                "weaknesses": {
                    "value": "1. The access to the LLM via the API is not a problem, regarding this claim: (other methods) \"require the language model API during detection (Hu et al., 2023)\". The LLM is already exposed via an API, so why can't we access it? Moreover, the API answers thousands or more queries per second, so if we require thousands of inference steps during the detection process, it is not a problem. This weak claim is repeated here: \"Hu et al. (2023) used inverse sampling and permutation-based reweight methods for watermarking, but the detector requires access of the language model API, undermining its operational efficiency\" (by the way, should be: access \"to\" and not \"of\")\n2. DiPmark is compared only with the Soft watermark introduced in Kirchenbauer et al. (2023). The comparison with other watermarks from Christ et al. (2023), Kuditipudi et al. (2023), and Hu et al. (2023) is missing. The experimental results should contain a thorough comparison with 4 previously introduced watermarks along the emphasized axis: stealthiness (differences between watermarked and non-watermarked text), efficiency (e.g., the wall clock time to add and detect the watermark), and resilience (to the manipulations of the watermarked text output).\n3. The difference between this method and the Soft Watermark from Kirchenbauer et al. (2023) is to ensure in this method that the distribution of output tokens is preserved despite the addition of the watermark.\n4. DiPMark exhibits poor watermark detectability, similar to the Soft Watermark from Kirchenbauer et al. (2023). \n\nOther points:\n1. The text is sprinkled with many sophisticated words but is a bit difficult to read. More in the minor points below. For example, \"Our watermarking framework, in alignment with pre-existing schema,\" Where is the citation to the pre-existing schema? Another phrase: \"often fall short in terms of *detectable and resilient*\" - not dramatically correct. \n3. In Section 2 on \"Related Work\" it should be mentioned how this submission solves the problems enumerated for the previous watermarking schemes.\n1. The intuition behind the method is not understandable from the abstract: \"This is achieved by incorporating a novel reweight strategy, combined with a hash function that assigns unique i.i.d. watermark codes based on the context.\" what is reweighted? where are the codes assigned to? is the context from a prompt? This intuition should be on a higher level.\n2. This is totally not grammatical, and starts at the end of page 1: \"Conventional steganographic methods, intended for subtle embedding within language model-generated texts, often fall short in terms of *detectable and resilient* (Ziegler et al., 2019; Kaptchuk et al., 2021).\"\n3. \"that encompass all three pivotal attributes\" - this text sounds a bit unnatural. \n4. \"the reweight approach maintains indisputable stealth\" - \"indisputably\"? \"the reweighting approach\"? \n5. \"property of Dipmark by evaluating the generated text quality\" - you change the way you write \"DiPmark\"? It is inconsistent. In another bullet point, it is written: \"We develop an effective watermark detection mechanism for DiPmark\" or \"Figure 1: Empirical verification of distribution-preserving property of *Dipmark*.\" You can use a macro in LaTex.\n6. What is important is how much time it takes to detect a single watermarked text instead of 1000. This is with respect to: \"Notably, the\ndetection time for 1,000 watermarked sequences produced by LLaMA-2 stands at a mere 90 seconds without the need of API access.\" Additionally, detecting a watermark is not a race - it can take even longer than a second per a watermarked sequence. \n7. The resilience to change of the watermark sequence should not be measured with random but deliberate changes: \"Dipmark exhibits robustness even when subjected to 20% to 30% *random text modifications*, encompassing insertions, deletions, and substitutions.\"\n8. \"method faces resilience issues under modifications or change\" - what is the difference between modifications and changes?\n9. Correct the capitalization: \"n the context of a language Model, \" why is \"Model\" uppercased? \n10. There is a problem with the capitalization, even after the full stop: \"and the context x1:n. we name the PW as the reweight strategy of the watermark.\"\n11. \"In summary, we present DiPmark, an ingenious watermarking solution tailored for LLMs.\" The authors could be a bit more modest.\n12. The section on page 4: \"Significance of preserving text distribution in watermarking.\" should be much earlier in the text. It comes a bit unexpected after we delve deeper into the methods. \n13. In Figure 1 - it is very hard to compare DiPmark and Soft. How can the parameters from DiPmark and Soft be aligned?\n14. Would the authors run their watermarking technique on their text in this submission?\n15. Table 2 claims: \"Table 2: Performance of different watermarking methods\" but there is only DiPMark and Soft mark. Where are at least 3 other watermarking techniques compared?\n16. Section 6 should be called \"Experiments\"\n17. \"Our experiment section\" -> \"Experimental section\"\n18. \"A detailed experimental settings is in Appendix E\" is -> are or settings -> setting\n19. The results for the best outcomes should be bolded. Otherwise, it is difficult to read the tables."
                },
                "questions": {
                    "value": "Please, refer to the questions in the section on \"Weaknesses\"."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1938/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698822820898,
            "cdate": 1698822820898,
            "tmdate": 1699636124775,
            "mdate": 1699636124775,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "qVxzyf86UG",
                "forum": "FhZi7r4nzA",
                "replyto": "5kVptrYquX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors Response to Reviewer mbUM (Part 1/4)"
                    },
                    "comment": {
                        "value": "Thanks for your detailed and valuable feedback. We address your concerns as below.\n\n**W0. In general, the results do not show a big difference from soft watermarking. The only difference is the better preservation of the output distribution, which is not presented clearly in the experimental section.**\n\n>**A0.** First of all, we respectfully disagree that the **only** difference between our work and Kirchenbauer et al (2023) is the distribution-preserving property. As detailed in Section 5, our analysis identifies and addresses limitations in the detection algorithm of Kirchenbauer et al. (2023). We introduce a novel detection statistic based on a thorough examination of the red-green list distribution, and demonstrate that our detection algorithm is **provably** resilient to text modifications. These aspects are not covered by Kirchenbauer et al (2023) and should be considered as the contributions of our paper.\n>\n>\n>Secondly, we underscore the significance of the distribution-preserving property in our research. To achieve this, we developed an innovative distribution-preserving reweight method and watermarking algorithm, distinctly different from the soft watermark approach of Kirchenbauer et al. (2023). We have also addressed the importance of this distribution-preserving property in stealthy watermarking and industry-Level LLM applications in the paragraph \u201cSignificance of preserving text distribution in watermarking\u201d of Section 4. We provide theoretical evidence of DiPmark's distribution-preserving nature (Corollary 4.3), in contrast to the non-preserving nature of the soft watermark (Section 3). Additionally, Section 6.1 is designed to empirically illustrate DiPmark's distribution-preserving characteristics. Thus, we believe that our work significantly diverges from Kirchenbauer et al. (2023) and our contributions are substantial. We hope this explanation clarifies the extent and value of our contributions for the reviewer.\n\n\n**W1. The access to the LLM via the API is not a problem.**\n\n>**A1.** Kirchenbauer et al. (2023) highlighted the critical property of the reweight-based watermark, stating that \u2018The watermark can be algorithmically detected without any knowledge of the model parameters or access to the language model API\u2019. Building upon Kirchenbauer et al. (2023), we also emphasize this property in our discussion on efficiency. While we acknowledge that API access to a Large Language Model (LLM) may not significantly impact detection time, there are other notable considerations: \n>\n>\n>a) The detection method in Hu et al (2023) requires both the logits of the LLM and also the prompt used to generate the watermarked text. These elements are typically not accessible in industry-level LLMs such as GPT-3.5 or GPT-4.\n>\n>\n> b) Using APIs of such industry-level language models incurs financial costs, which can become expensive with large-scale watermark detection requirements (this scenario is realistic as governments around the world have expressed concerns about the misuse of large foundation models). For example, the cost of GPT-4 is \\\\$0.06/1K tokens, which can lead to a cost of \\\\$300 for analyzing 10,000 news articles with an average length of 500 tokens each . In contrast, our proposed method removes the need for API access, and offers a cost-effective alternative. We will add these points in the introduction to strengthen our claims."
                    }
                },
                "number": 9,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700057487385,
                "cdate": 1700057487385,
                "tmdate": 1700068814132,
                "mdate": 1700068814132,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "vrooaFXxRw",
                "forum": "FhZi7r4nzA",
                "replyto": "5kVptrYquX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors Response to Reviewer mbUM (Part 2/4)"
                    },
                    "comment": {
                        "value": "**W2. Related work comparison from the stealthiness, efficient, and resilient perspective.**\n\n>**A2.** Organizing the experimental result from the stealthiness, efficient, and resilient perspective is an excellent suggestion. According to the ICLR reviewer guide (https://iclr.cc/Conferences/2024/ReviewerGuide), 'if a paper was published (i.e., at a peer-reviewed venue) on or after May 28, 2023, authors are not required to compare their own work to that paper'. We are not expected to compare with Christ et al. (2023), Kuditipudi et al. (2023), and Hu et al (2023) as all of them were published on arXiv within four months and without peer-reviewing. Thus, W2 should not be a weakness of our paper. Despite that, we still provide additional results with Kuditipudi et al. (2023) and Hu et al. (2023) below. We are not able to compare with Christ et al. (2023) as it is a pure theoretical paper with no experiments and code.\n\n### **Stealthy:**\n\nPerformance of different watermarking methods on machine translation and text summarization\n|                          | Machine Translation |       | Text Summarization |       |        |\n|--------------------------|---------------------|-------|--------------------|-------|--------|\n|                          | BERTScore\u2191          | BLEU\u2191 | BERTScore\u2191         | Perplexity\u2193 | ROUGH-1\u2191 |\n| No Watermark         | 0.559\u00b10.003         | 21.8\u00b10.3 | 0.3273\u00b10.0008      | 5.021\u00b10.018 | 0.3855\u00b10.0009 |\n| Soft (\u03b4=1.5)         | 0.550\u00b10.003         | 20.4\u00b10.3 | 0.3209\u00b10.0008      | 5.660\u00b10.021 | 0.3793\u00b10.0009 |\n| Soft (\u03b4=2.0)         | 0.539\u00b10.003         | 19.4\u00b10.3 | 0.3146\u00b10.0008      | 6.241\u00b10.023 | 0.3725\u00b10.0009 |\n| Kuditipudi et al (2023)         | 0.560\u00b10.003         | 21.7\u00b10.3 | 0.3270\u00b10.0008      | 5.021\u00b10.018 | 0.3854\u00b10.0009 |\n| Hu et al (2023)         | 0.563\u00b10.003         | 21.8\u00b10.3 | 0.3271\u00b10.0008      | 5.023\u00b10.018 | 0.3857\u00b10.0009 |\n| **DiPmark (\u03b1=0.45)**     | 0.562\u00b10.003         | 21.9\u00b10.3 | 0.3269\u00b10.0008      | 5.024\u00b10.018 | 0.3852\u00b10.0009 |\n\nResult analysis: Kuditipudi et al (2023), Hu et al (2023), and DiPmark preserve the text quality, while the soft watermark (Kirchenbauer et al (2023)) degrades the output text quality.\n\n### **Efficient:**\n\nWe compare the time for detecting one and 1000 (100 batches) watermarked texts with different detection algorithms. The task is poetry generation with LLaMA-2 (chat, 7B). We use the same GPU (NVIDIA A6000) for all experiments.\n\n|  Number of samples | 1 | 1000 |\n|--------------------------|---------------------|-------|\n| Soft(Kirchenbauer et al (2023))| **0.3s**  | 92s |\n| Kuditipudi et al (2023)  | 80s       | 12h |\n| Hu et al (2023) (require LM access)| 3.4s  | 412s | \n| **DiPmark**     | **0.3s** |**90s** |\n\nWe also compare the time for adding watermarks. As all four watermark generator algorithms are reweight-based, which only modify the output logits of tokens,  there is no significant difference between the cost of adding watermarks. The extra time introduced by all watermarking methods in text generation is below 0.01s/100 tokens.\n\nResult analysis: the detection algorithms of Soft and DiPmark are efficient without accessing LMs, while Hu et al (2023) requires additional access to LMs and Kuditipudi et al (2023) need significantly longer time.\n\n### **Resilient:**\n\nAUC score of different watermarks under varying attack strength \u03b5 on poetry generation task with LLaMA-2 (chat, 7B).\n| Random text modification (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|---------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**   | **0.9883**  | **0.9521**  | 0.8033  |\n| Kuditipudi et al (2023) | 0.9951 | 0.9461  | 0.8979  | 0.7815  |\n| Hu et al (2023)          | 0.9936 | 0.9297  | 0.8391  | 0.7574  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990** | 0.9859  | 0.9515  | **0.8060**  |\n\n\n\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| Soft (\u03b4=1.5)             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| Kuditipudi et al (2023)| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| Hu et al (2023)          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |\n\nResult analysis: All watermark algorithms are resilient to random text modification and paraphrasing attacks, while DiPmark and Soft watermark slightly outperform the other two algorithms."
                    }
                },
                "number": 10,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700057679753,
                "cdate": 1700057679753,
                "tmdate": 1700068822949,
                "mdate": 1700068822949,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "bh6eNUsra3",
                "forum": "FhZi7r4nzA",
                "replyto": "5kVptrYquX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors Response to Reviewer mbUM (Part 3/4)"
                    },
                    "comment": {
                        "value": "**W3. Difference between our work and the Soft Watermark.**\n\n>**A3.** As we claimed in A0, we highlighted this difference as one of the most important contributions of this paper, which should be addressed as a positive point rather than a limitation of our work. We design an effective reweight method and a watermarking algorithm, which preserves the distribution of the watermark and enables its potential applications in the industry-level LLMs. This contribution is also acknowledged by reviewers Gfoi, NL4L, and 6R4r. We would greatly value further clarification from the reviewer regarding their perspective on why this distinction might be perceived as a weakness. Such feedback would be instrumental in enhancing our understanding and addressing any concerns effectively.\n\n**W4. DiPmark exhibits poor watermark detectability, similar to the Soft Watermark from Kirchenbauer et al. (2023).**\n\n>**A4.** We respectfully disagree with this comment. To the best of our knowledge, Kirchenbauer et al. (2023) (ICML 2023 outstanding paper) is the only peer-reviewed work featuring a reweight-based watermark approach. Currently, there are no other peer-reviewed methods in this domain that have surpassed the detectability performance of the soft watermark technique presented by Kirchenbauer et al. (2023). Consequently, there is no substantiated evidence indicating that the soft watermark suffers from poor detectability. We would greatly appreciate it if the reviewer could provide references to any studies or methods that have demonstrated superior performance compared to Kirchenbauer et al. (2023) and DiPmark.\n>\n>Furthermore, DiPmark is designed to ensure stealth, efficiency, and resilience, while also maintaining state-of-the-art detectability. The primary objective of our paper is to develop a watermark with enhanced applicability, focusing on stealth, efficiency, and resilience, rather than exclusively on achieving exceptionally strong detectability. We kindly request the reviewer to reconsider this perceived limitation in the context of the contributions our work makes to the field."
                    }
                },
                "number": 11,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700057802781,
                "cdate": 1700057802781,
                "tmdate": 1700068831734,
                "mdate": 1700068831734,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "XOByDCQ64h",
                "forum": "FhZi7r4nzA",
                "replyto": "5kVptrYquX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors Response to Reviewer mbUM (Part 4/4)"
                    },
                    "comment": {
                        "value": "Minor points:\n\nThank you again for pointing out the grammatical errors in our work, we will polish the content and add the missing references based on your suggestions M1-7, M11-14, and M18-21. Below we will address the rest of the concerns.\n\n**M2: In Section 2 on \"Related Work\" it should be mentioned how this submission solves the problems enumerated for the previous watermarking schemes.**\n\n>A: Thanks for the suggestion, we have such a discussion in the detailed related work in Appendix C. We will also add the discussion to our main content.\n\n**M8: What is important is how much time it takes to detect a single watermarked text instead of 1000.**\n\n>A: For the detection time comparison of a single watermarked text, please see the efficient table in A2. Besides, we believe the efficiency of watermark detection is also important. Since governments around the world have expressed concerns about the misuse of large foundation models, there is likely to be a need for large-scale detection of text watermarks in the future. An efficient detecting algorithm can effectively reduce the time and financial cost.\n\n**M9: The resilience to change of the watermark sequence should not be measured with random but deliberate changes.**\n\n>A: Deliberate / random change of the watermark sequence should have the same effect on the resilience of watermark under the black-box attack settings in Kirchenbauer et al (2023). As we have discussed in Appendix B, deliberate / random change of a token will affect the red/green list of $a+1$ tokens if we use the preceding $a$ tokens as the texture key. We also evaluate the resilience of DiPmark under paraphrasing attack using the settings in Kirchenbauer et al (2023), please check the table below. DiPmark is still resilient against deliberate change of the watermark sequence.\n\nAUC score of different watermarks under varying attack strength \u03b5 on the poetry generation task with LLaMA-2 (chat, 7B).\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| **Soft (\u03b4=1.5)**             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| **Kuditipudi et al (2023)**| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| **Hu et al (2023)**          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |\n\n\n\n**M10: What is the difference between modifications and changes?**\n\n>A: There is no difference between modifications and changes, we will change this sentence to \u201cmethod faces resilience issues under modifications\u201d\n\n**M15: How can the parameters from DiPmark and Soft be aligned?**\n\n>A: As DiPmark and Soft watermark have totally different reweight strategy and watermark algorithm, their parameters represent different properties respectively and thus could not be aligned.\n\n**M16: Would the authors run their watermarking technique on their text in this submission?**\n\n>A: We don\u2019t understand the purpose of this question, as it is neither related to the quality of our presentation nor the discussion of our methods. According to ICLR 2024 submission policy \u201cThe use of LLMs is allowed as a general-purpose writing assist tool\u201d. We will definitely be willing to run our watermarking technique on our text in this submission :).\n\n**M17: Other 3 related work for comparison**\n\n>A: See A2."
                    }
                },
                "number": 12,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700057956452,
                "cdate": 1700057956452,
                "tmdate": 1700068839231,
                "mdate": 1700068839231,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "cuCAkMRvUm",
                "forum": "FhZi7r4nzA",
                "replyto": "5kVptrYquX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Follow up with reviewer mbUM"
                    },
                    "comment": {
                        "value": "We really appreciate reviewer mbUM for the insightful and constructive feedback. As the discussion phase approaches its end, we would be grateful to receive any further comments or insights you may have regarding our response and we are more than happy to address them. Moreover, should our rebuttal have adequately addressed your concerns, we would deeply appreciate it if you would consider revising your evaluation scores. Once again, thank you for your valuable time and efforts!"
                    }
                },
                "number": 16,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700670438090,
                "cdate": 1700670438090,
                "tmdate": 1700670438090,
                "mdate": 1700670438090,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "u8xphkFZNk",
            "forum": "FhZi7r4nzA",
            "replyto": "FhZi7r4nzA",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_Gfoi"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission1938/Reviewer_Gfoi"
            ],
            "content": {
                "summary": {
                    "value": "This paper presents DiPmark, a novel watermarking framework for large language models (LLMs). The main contribution is the development of a stealthy, efficient, and resilient watermarking mechanism that preserves the original token distribution during watermarking. This is achieved through a novel reweight strategy combined with a hash function that assigns unique i.i.d. ciphers based on the context. The authors validate the three key properties of the watermark (stealthiness, efficiency, and resilience) through experimental assessments of major language models, including the BART-large model and LLaMA-2."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "(1) The paper introduces a novel approach to watermarking LLMs, which addresses the current limitations of existing methods in terms of distribution preservation, efficiency, and resilience.\n\n(2) The authors provide a comprehensive and well-structured review of relevant literature, highlighting the gaps that their work addresses.\n\n(3) The empirical benchmarks provided demonstrate the robustness of DiPmark, adding credibility to the authors' claims of its stealthiness, efficiency, and resilience."
                },
                "weaknesses": {
                    "value": "(1) The author claimed the method used a hash function to assign unique i.i.d. ciphers based on the context $x_{1:i-1}$. However, in the resilience analysis, they state they use only the preceding $a$ tokens as the key to generate the token permutation. Using all previous tokens versus just the preceding $a$ tokens could potentially make a significant difference.\n\n(2) For the experimental robustness analysis, it would also be beneficial to consider paraphrasing attacks, which could alter the preceding $a$ tokens used for watermark detection."
                },
                "questions": {
                    "value": "How the random function is implemented is not very clear."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission1938/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699036575801,
            "cdate": 1699036575801,
            "tmdate": 1699636124713,
            "mdate": 1699636124713,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "59FPoNyrms",
                "forum": "FhZi7r4nzA",
                "replyto": "u8xphkFZNk",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors Response to Reviewer Gfoi"
                    },
                    "comment": {
                        "value": "Thanks for your positive and valuable feedback. We address your concerns as below.\n\n**W1: Using all previous tokens versus just the preceding tokens could potentially make a significant difference.**\n\n>**A1:** We apologize for any confusion regarding the cipher settings. To clarify, our independent and identically distributed (i.i.d.) ciphers are typically derived from a **fragment** of the preceding context (e.g. $x_{i-5:i-1}$), rather than utilizing the entire previous context $x_{1:i-1}$. This approach is detailed in the first paragraph of Section 3, where it states: 'The cipher $\\theta_i$ is usually generated by a secret key $k$ and a fragment of the previous context, named texture key, $s_i$'. Additionally, in our experiments, the generation of our i.i.d. ciphers also incorporate the $a=5$ preceding tokens, as described in Appendix E under the section titled 'Watermark Setup'.\n\n**W2. For the experimental robustness analysis, it would also be beneficial to consider paraphrasing attacks, which could alter the preceding $a$ tokens used for watermark detection.**\n\n>**A2:** Thank you for your suggestion. We have included the results of paraphrasing attacks with the settings in Kirchenbauer et al. (2023) in the table below. Our findings indicate that DiPmark maintains robustness against these paraphrasing attacks. According to Kirchenbauer et al (2023), paraphrasing attack is a subclass of text modification attacks, leading to similar resilient results as random text modifications. Furthermore, we wish to emphasize that altering even a **single** token among the preceding $a$ tokens significantly impacts watermark detection for the current token. This effect arises because we utilize all preceding $a$ tokens to generate a random seed, which in turn is used to create the cipher. Therefore, any alteration within these $a$ tokens changes the random seed and consequently the cipher. Based on this understanding, we posit that random text substitution is a sufficiently strong method for attacking the reweight-based watermark.\n\nAUC score of different watermarks under varying attack strength \u03b5 on the poetry generation task with LLaMA-2 (chat, 7B).\n| Paraphrasing attack (AUC) | \u03b5 = 0.0 | \u03b5 = 0.1 | \u03b5 = 0.2 | \u03b5 = 0.3 |\n|------------------------------|----------|---------|---------|---------|\n| **Soft (\u03b4=1.5)**             | **0.9990**  | **0.9894**  | 0.9469  | 0.8157  |\n| **Kuditipudi et al (2023)**| 0.9951  | 0.9529.  | 0.9013  | 0.7711  |\n| **Hu et al (2023)**          | 0.9936  | 0.9368   | 0.8325  | 0.7661  |\n| **DiPmark (\u03b1=0.45)**         |**0.9990**   | 0.9871  | **0.9503**  | **0.8216**  |\n\n\n**Q1. How the random function is implemented is not very clear.**\n\n>A. We show the python implementation of the random function as below:\n```\nInput: context $x_{1:n-1}$, secret_key, vocab_size\n\n# Extracts the preceding $a$ tokens in the context for generating ciphers\ntexture_key =  context[-self.a :].detach().cpu().numpy().tobytes()\n\n# Create a torch.Generator() object for cipher generation\nrng = torch.Generator().manual_seed(texture_key+secret_key) \n\n# Generate cipher (random permutation of the token set)\ncipher = torch.randperm(vocab_size, generator=rng, device=rng.device)\n```"
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700015618528,
                "cdate": 1700015618528,
                "tmdate": 1700058071007,
                "mdate": 1700058071007,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "o4OJDhDsQx",
                "forum": "FhZi7r4nzA",
                "replyto": "u8xphkFZNk",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission1938/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Follow up with reviewer Gfoi"
                    },
                    "comment": {
                        "value": "We really appreciate reviewer Gfoi for the insightful and constructive feedback. As the discussion phase approaches its end, we would be grateful to receive any further comments or insights you may have regarding our response and we are more than happy to address them. Moreover, should our rebuttal have adequately addressed your concerns, we would deeply appreciate it if you would consider revising your evaluation scores. Once again, thank you for your valuable time and efforts!"
                    }
                },
                "number": 15,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission1938/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700670392931,
                "cdate": 1700670392931,
                "tmdate": 1700670392931,
                "mdate": 1700670392931,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]