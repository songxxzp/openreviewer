[
    {
        "title": "On the Effectiveness of One-Shot Federated Ensembles in Heterogeneous Cross-Silo Settings"
    },
    {
        "review": {
            "id": "TpLwlKIMXT",
            "forum": "gTWaUlxxWi",
            "replyto": "gTWaUlxxWi",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_ne5T"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_ne5T"
            ],
            "content": {
                "summary": {
                    "value": "The authors investigate in which situations iterative FL is truly needed wrt using different ensembling techniques (so-called one-shot FL) while focusing on the cross-silo FL setting. The authors identify scenarii with both toy datasets (SVHN and CIFAR-10) and realistic ones (FLamby) where ensembling is sufficient to match or outperform iterative FL."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "The paper highlights a question that is interesting and still opens to this day: is it always worth going through all the troubles to do FL ? Can ensembles be sufficient ? Especially in medical settings where privacy is an issue.\nThe paper moves progressively from developing an intuition using toy datasets and then testing/validating this intuition on a more realistic dataset.\nExperiments on data starvation and changing heterogeneity are interesting\nThe paper writing is fair and the paper is clear."
                },
                "weaknesses": {
                    "value": "Major:\n- The model fusion strategy labeled as FENS is a specific case of what we call \"late fusion\" in the multimodal ML literature (see i.e. the references 39 and 40 in [1]), which has been already explored in depth (see all the rich literature on various fusion modules Multimodal Low-rank Bilinear pooling (MLB) / Multimodal Compact Bilinear (MCB), Multimodal Tucker Fusion, Attention, etc.). \nThe authors should orient the paper more towards examining late fusion schemes vs FL instead of proposing a new method because the method is far from new. In this respect the title of the article is fine: the focus should be on comparing ensembles to (iterative) FL.\nThe reviewer encourages the authors to drop the term FENS and to either remove or considerably shorten the corresponding sections 3.2 and 3.3.\n- It is very mysterious for the reviewer the impact of having access to Dproxy in the server. The reviewer questions even adding Dproxy in the first place as the question tackled by the paper should be whether ensembling methods can match FL and with the current framing it becomes: \"what is the effect of post-training on another dataset ?\".  If the authors want to use this Dproxy anyway they should add a comparison with an (iteratively)-FL trained model fine-tuned on Dproxy. Note that some concerns are also linked to the two first questions of the reviewer. Authors should change Figure 2b) to compare the best FL method (aka FedAdam) vs the best trained and the best untrained ensembling methods vs the best FL method fine-tuned on Dproxy.\n- Experiments on FLamby are inconclusive at best FENS does seem to outperform FL methods on Camelyon16 for Fed-Heart Disease and Fed-ISIC it is not the case so that goes a bit in the opposite direction that the paper argues. Note that Fed-IXI and Fed-TCGA-BRCA are also part of FLamby and relatively small the reviewer would like experiments on such datasets in order to form a more complete picture. Figure 4 would also benefit from including non-trained aggregation methods.\n- All the discussion on communication efficience Table 1 and 2 is wasteful. By design, ensembles will require order of magnitudes less communications no need to hammer the point with two tables at least they should go in the supplementary. If the authors want to keep it at least they should compare to efficient (sparse and quantified) iterative FL approach but the reviewer thinks this is not a very interesting thing to add to the paper.\n- So many more experiments would be needed to make this paper into a great paper. The reviewer already mentioned other FLamby datasets but also different experiments varying the heterogeneity source between centers by introducing artificial spurious correlations would be interesting (aka in once center all SVHN images are red and the center has a majority of one digit). Are there scaling laws for FL to be preferred to ensembles, aka starting from which critical mass does FL become interesting ? Does it depend on the task ? Is there a good formula to predict the gap between FL and ensembles from say #samples in local centers and alpha ? Does this formula transfer to realistic settings ? What about differential privacy ? For a fixed privacy budget is it better to do ensemble ? This is such an interesting question and there are so few experiments in the paper !\n\nMinor\n\n- The argument on model reusability in the conclusion should be dropped nothing prevents from reusing an iteratively trained model. The argument on easier unlearning for ensembles is a bit far-fetched\n- Fed-Camelyon16 learns on small (and not large) ResNet features extracted from large breast slides (and not brain !). Features are larger than traditional clinical data (relative) but not large (asolute)\n- The reviewers encourage the authors to insist on the privacy aspect of the ensemble methods because the two real gains of FENS in medical settings is easier IT setup and contractualization and better privacy.\n\n\nSummary: the authors study a great question but do not provide enough high-quality experiments and ablation-study for it to be sufficiently interesting for ICLR.\n\n\n\n\n[1] Liu, Kuan, et al. \"Learn to combine modalities in multimodal deep learning.\" arXiv preprint arXiv:1805.11730 (2018)."
                },
                "questions": {
                    "value": "- It is unclear to the reviewer whether Dproxy is contained in the local dataset used in FL for CIFAR-10/SVHN and FLamby experiments. Even for FLamby the sentence: \"We note that clients in other FL algorithms use 100% of their local datasets for training\" is unclear.\n- Are error bars averaged across different random selection of Dproxys ?\n\nSee Weaknesses for additional experiments to include to strenghten the submission."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Reviewer_ne5T"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission6345/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698248268161,
            "cdate": 1698248268161,
            "tmdate": 1699636699193,
            "mdate": 1699636699193,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "OkEjtCGD6r",
                "forum": "gTWaUlxxWi",
                "replyto": "TpLwlKIMXT",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We kindly thank the reviewer for their thorough evaluation and constructive feedback on our manuscript. We appreciate the time and effort you have dedicated to assessing our work and we are happy to clarify some of the concerns below.\n\n**1) The model fusion strategy labeled as FENS is a specific case of what we call \"late fusion\" in the multimodal ML literature.**\n\n\u2192 We thank the reviewer for the references and acknowledge the similarities to late fusion in multimodal ML literature. However, in this work, we did not intend to propose new methods but extensively assess existing ensemble techniques towards the goal of understanding whether one-shot FL can match iterative FL. Throughout our work, we have made an honest attempt to acknowledge that our assessed methods are not newly proposed but derive from existing ensemble literature. We will further clarify this in the final version of the paper and look forward to orienting the description of FENS in the preview of late fusion techniques.\n\n**2) It is very mysterious for the reviewer the impact of having access to Dproxy in the server.** \n\n\u2192 We acknowledge that leveraging D_proxy at the server is atypical. Indeed, while training the aggregator can be viewed as a separate post-training step, we would like to point out that such training is considerably simpler than, for instance, training another global model through distillation at the server in FedKD. The aggregator NN operates on a very small input size (n_clients x n_classes = 20 x 10 in CIFAR-10) and has less than 4500 parameters (MLP with 1 hidden layer), allowing training even with a modest or small D_proxy dataset. \nTo ensure a fair comparison, both FENS and traditional FL methods learn from the same amount of training data. In FENS, clients train on distributed D_train and learn the aggregator on D_proxy, while iterative FL clients train on distributed splits of D_train U D_proxy. Regarding your suggestion for an additional baseline, due to constraints of the rebuttal process, we might encounter limitations in the time available to thoroughly assess all aspects. Nevertheless, we will carefully consider this suggestion during the final revisions.\n\n**3) All the discussion on communication efficience Table 1 and 2 is wasteful.**\n\n\u2192 We included the communication table to highlight FENS's inference cost, which is notably higher than traditional FL algorithms due to ensemble transfer. Our comprehensive analysis in Table 3 reveals that, even with added inference costs, FENS maintains significantly lower total communication costs. We also compared FENS to sparse and quantified FL (Grad. Compression) in Table 3, by setting the quantization and sparsification level to match FENS's communication costs (Table 7). Unfortunately, we couldn't include this baseline in Table 2, as it didn't reach our target accuracy for computing communication costs.\n\n**4) Experiments on FLamby are inconclusive.**\n\n\u2192 While FENS doesn't outperform FL on the Fed-ISIC task, our aim wasn't to assert FENS as strictly superior to iterative FL which would be an inaccurate conclusion. Instead, we sought to understand the conditions favoring or hindering FENS. As discussed in Section 4.2, our intuition justifies the subpar Fed-ISIC performance by linking it to the quality of client models in the ensemble. Figure 4, row 2, illustrates notably weaker client local baselines for Fed-ISIC, contributing to FENS's suboptimal performance. In such instances, traditional FL excels in leveraging client local data through iterative communication.\n\n**5) So many more experiments would be needed to make this paper into a great paper.** \n\n\u2192 We appreciate the reviewer's insightful comments on potential research questions. While privacy concerns were not explicitly addressed in our current work, we recognize their importance and believe they warrant a separate and comprehensive investigation. In our experiments, we covered diverse scenarios, demonstrating FENS outperforming (Fed-Camelyon), matching (Fed-Heart-Disease), and underperforming (Fed-ISIC) iterative FL. Our work contributes novel empirical insights, revealing that one-shot methods can rival iterative FL under high data heterogeneity (Figure 2b). Additionally, we highlighted distinct scaling laws for FL and FENS, showcasing FENS's performance improvement with larger local datasets, particularly converging with FL under high data heterogeneity (Figure 3). We strongly believe that our empirical results can pave the way to a more nuanced theoretical understanding of this phenomenon as pointed out by the reviewer.\n\n**6) It is unclear to the reviewer whether Dproxy is contained in the local dataset.** \n\n\u2192 Yes, D_proxy is contained in the local training datasets for FL in all experiments. We will clarify it better in the final version.\n\n**7) Are error bars averaged across different random selection of Dproxys ?**\n\n\u2192 Yes, each seed corresponds to a sampling of a new D_proxy."
                    },
                    "title": {
                        "value": "Response to Reviewer ne5T"
                    }
                },
                "number": 4,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700036798662,
                "cdate": 1700036798662,
                "tmdate": 1700379153354,
                "mdate": 1700379153354,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "teT3ZFoSeT",
                "forum": "gTWaUlxxWi",
                "replyto": "OkEjtCGD6r",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_ne5T"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_ne5T"
                ],
                "content": {
                    "title": {
                        "value": "Response acknowledgment"
                    },
                    "comment": {
                        "value": "The reviewer thanks the authors for their comments notably on acknowledging the similarities with late fusion. However the reviewer's major concern of the impact of Dproxy wasn't appropriately tackled nor did the authors commit to perform the proposed additional experiments. Therefore the reviewer will keep their initial scoring."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700508356066,
                "cdate": 1700508356066,
                "tmdate": 1700508356066,
                "mdate": 1700508356066,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "AhviikBBa6",
            "forum": "gTWaUlxxWi",
            "replyto": "gTWaUlxxWi",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_zo9y"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_zo9y"
            ],
            "content": {
                "summary": {
                    "value": "One-shot FL, i.e. aggregating models once at the end of federated learning, is known to be the best in terms of communication efficiency, but its performance is worse in general especially for heterogeneous data. The authors of this paper consider ensembles in the cross-silo heterogenous setting. They show experimentally that an aggregator based on a shallow neural nets significantly improve performance over one-shot FL, a method which they call FENS. It matches the performance of iterative FL and yet potentially uses 9x less communication. They report their results on various datasets and benchmarks such as CIFAR-10, SVHN, and FLamby."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The usage of nonlinear aggregation is challenging and interesting, and it has some good potential. Finding a practical nonlinear aggregator method is an important direction to explore.\n- The method particularly better on highly non-iid, which is a more challenging setting.\n- The approach is intuitive and simple and easy to implement.\n- This is an experimental paper, and I think that the experiment setup and results are explained very well.\n- The experiments are reproducible, which is great. Unfortunately, the code is not shared in the supplementary materials."
                },
                "weaknesses": {
                    "value": "- FENS requires proxy dataset, which might not always be available.\n- An MLP aggregator implies a large dimension of the inputs, which in turn imply that the \"shallow\" neural net aggregator might have a large number of parameters. For example, if the client's model has 10K parameters (which is not a lot in cross-silo), and there are 10 clients (also not a lot), then the input dimension itself is 100K, so your aggregator for this simple case will have at the very least 1 billion parameters, which is quite a lot of parameters for some shallow neural net.\n- It might be unfair to compare with methods with no trainable aggregator and no proxy dataset. Perhaps you can compare to a one-shot FL algorithm with a fine-tuned aggregator? You can consider an experiment where you train an MLP aggregator vs. tune the weights of the non-trainable aggregator (i.e. training a linear aggregator) on some proxy dataset. Then you can consider another experiment where you just average the models at the end and simply train the averaged model on the proxy dataset. You should show that using an MLP aggregator is indeed a better way to improve performance. Finally, you should consider the effect of the size of the proxy dataset on the performance because you might not always get a 10% cut of the original data publicly available.\n- I\u2019m not sure about experiment 4.2 and whether it is conclusive or not. You can tell that the increase is larger for FENS, but maybe that\u2019s only because FedAvg was already closer to its top performance. The reason there seems to be a larger increase might be due to the efficiency of FedAvg at learning from fewer samples more than it is due to the efficiency of FENS at learning faster with more samples. Moreover, in this particular experiment, FENS seems to be performing strictly worse than FedAvg in this example, which is not a strong selling point of the method no matter how quickly it improves, especially since the improvement plateaus before it reaches FedAvg."
                },
                "questions": {
                    "value": "- The authors need to explain the low performance on iid data in more details. It should still be good as this case is strictly easier. The trainable aggregator might be hurting performance in this case. Why is this the case? Perhaps it would be helpful to investigate this by running experiments similar to the ones proposed in the \"Weaknesses\" section above."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission6345/Reviewer_zo9y"
                    ]
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission6345/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698614362568,
            "cdate": 1698614362568,
            "tmdate": 1699636699039,
            "mdate": 1699636699039,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "LRQuk33Ml6",
                "forum": "gTWaUlxxWi",
                "replyto": "AhviikBBa6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We kindly thank the reviewer for their thorough evaluation and constructive feedback. We appreciate the time and effort you have dedicated to assessing our work and we are happy to provide more clarifications on some of the aspects below.\n\n**1) FENS requires proxy dataset, which might not always be available.**\n\n\u2192 This is indeed a limitation of our approach. However, more and more recent works are underscoring the importance and availability of D_proxy for various purposes [1].\n\n[1] J. Nguyen, et al., \u201cWhere to begin? on the impact of pre-training and initialization in federated learning,\u201d in ICLR, 2023. Available: https://openreview.net/forum?id=Mpa3tRJFBb \n\n**2) An MLP aggregator implies a large dimension of the inputs. For example, if the client's model has 10K parameters (which is not a lot in cross-silo), and there are 10 clients (also not a lot), then the input dimension itself is 100K, so your aggregator for this simple case will have at the very least 1 billion parameters.**\n\n\u2192 We noticed that there might be a misunderstanding regarding the FENS aggregation function. In our task, we seek to aggregate the logits produced by trained models and not the model parameters. Hence, the input to the NN aggregator has a dimension of n_clients x n_classes (20 x 10 for CIFAR-10). Therefore our MLP with 1 hidden layer has less than 4500 trainable parameters. We will make it clearer in the final version.  \n\n**3) It might be unfair to compare with methods with no trainable aggregator and no proxy dataset. Perhaps you can compare to a one-shot FL algorithm with a fine-tuned aggregator? You can consider an experiment where you train an MLP aggregator vs. tune the weights of the non-trainable aggregator (i.e. training a linear aggregator) on some proxy dataset. Then you can consider another experiment where you just average the models at the end and simply train the averaged model on the proxy dataset. Finally, you should consider the effect of the size of the proxy dataset.**\n\n\u2192 With reference to our clarification in the previous question, we note that the task of aggregating trained models instead of predictions is considerably more challenging [1, 2]. Hence, typical one-shot methods do not target model aggregation but instead use knowledge distillation for model fusion [3]. We compared against one such standard method called FedKD in Table 3 which uses a large public dataset at the server for knowledge distillation. Furthermore, simple averaging of trained models yields very poor performance due to client drift arising from heterogeneous data. This is reflected through the performance of one-round FedAvg in Table 3 where the accuracy remains poor even after explicit tuning of the number of local steps conducted before aggregation. However, as appropriately suggested by the reviewer, additional experiments with varying D_proxy size would be interesting and we plan on including them in the final version.\n\n[1] Yurochkin, Mikhail, et al. \"Bayesian nonparametric federated learning of neural networks.\" ICML. PMLR, 2019.\n\n[2] Hongyi Wang, et al. \u201cFederated learning with matched averaging\u201d. In ICLR, 2020a. URL https://openreview.net/forum?id=BkluqlSFDS. \n\n[3] Gong, Xuan, et al. \"Preserving privacy in federated learning with ensemble cross-domain knowledge distillation.\" Proceedings of the AAAI Conference on Artificial Intelligence. Vol. 36. No. 11. 2022. \n\n**4) I\u2019m not sure about experiment 4.2 and whether it is conclusive or not. You can tell that the increase is larger for FENS, but maybe that\u2019s only because FedAvg was already closer to its top performance. The reason there seems to be a larger increase might be due to the efficiency of FedAvg at learning from fewer samples more than it is due to the efficiency of FENS at learning faster with more samples.**\n\n\u2192 We fully agree with the explanation pointed out by the reviewer. Indeed, FedAvg is much more efficient in handling fewer data samples. However, this comes at a significant communication cost due to its iterative nature. Therefore, the goal of our experiments in section 4.2 was to identify scenarios when FENS can match FedAvg, which is a strictly stronger algorithm. We established that when data is non-IID and clients have sufficiently large local datasets, FENS can match FedAvg and avoid the iterative communication costs. However, this does not hold in the IID setting as we explain below.\n\n**5) The authors need to explain the low performance on iid data in more details. It should still be good as this case is strictly easier.**\n\n\u2192 As pointed out by the reviewer, the reason for the low performance actually stems from the trainable aggregator. Precisely, when the data is IID distributed, the logits produced by client models are very similar, thereby inducing additional difficulty for the aggregator in identifying patterns. FedAvg, in turn, bypasses this challenge through iteratively learning on the data and renders itself strictly better than FENS."
                    },
                    "title": {
                        "value": "Response to Reviewer zo9y"
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700034456126,
                "cdate": 1700034456126,
                "tmdate": 1700379135188,
                "mdate": 1700379135188,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "fP16hHJtOh",
                "forum": "gTWaUlxxWi",
                "replyto": "LRQuk33Ml6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_zo9y"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_zo9y"
                ],
                "content": {
                    "comment": {
                        "value": "Thanks for your clarifications regarding the aggregation process. However, I still do not understand why FENS perform worse on iid data. There should be no pattern to discern across clients as the data are iid. In other words, each client would converge to the right model given sufficient data. In any case, there should be a way to mitigate FENS low performance on IID data. For example, at what level of heterogeneity would FENS start to show superior performance? Also, how would you do inference on this model? Would you have to aggregate logits every forward pass? It would have been great if you could have shared the code as well so that these questions can be easily answered from the implementation."
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700500532271,
                "cdate": 1700500532271,
                "tmdate": 1700500532271,
                "mdate": 1700500532271,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "1wpyf9b6LM",
            "forum": "gTWaUlxxWi",
            "replyto": "gTWaUlxxWi",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_4Q6E"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_4Q6E"
            ],
            "content": {
                "summary": {
                    "value": "This work proposed one-shot federated learning using an NN-based aggregator, which can significantly improve the performance of ensembles under high data heterogeneity. Extensive experiments were conducted to demonstrate the proposed method outperforms the baselines by a large margin."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "1. Developed an NN-based aggregator, which can significantly improve the performance of ensembles under high data heterogeneity. \n\n2. Conduct extensive experiments to show the proposed method achieve better accuracy than baselines."
                },
                "weaknesses": {
                    "value": "1. Why does FEDCVAE-ENS (ResNet-8) have lower estimation accuracy than FEDCVAE-ENS (default CNN)? Do you use the decoder of ResNet-8 in the experiments?\n\n2. It is unfair to compare the proposed approach to a data-free FEDCVAE-ENS.\n\n3. The technical contribution is somewhat limited. This work only adopted a simple NN to aggregate the outputs."
                },
                "questions": {
                    "value": "1. Why do you set the batch size to 16?\n\n2. Why does FEDCVAE-ENS (ResNet-8) have lower estimation accuracy than FEDCVAE-ENS (default CNN)? Do you use the decoder of ResNet-8 in the experiments?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission6345/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698680203441,
            "cdate": 1698680203441,
            "tmdate": 1699636698901,
            "mdate": 1699636698901,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "EJ05Cqpede",
                "forum": "gTWaUlxxWi",
                "replyto": "1wpyf9b6LM",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We kindly thank the reviewer for their valuable feedback and questions. We appreciate the time and effort you have dedicated to assessing our work and we are happy to provide more clarifications on the questions raised.\n\n**1) Why does FEDCVAE-ENS (ResNet-8) have lower estimation accuracy than FEDCVAE-ENS (default CNN)? Do you use the decoder of ResNet-8 in the experiments?**\n\n\u2192 The FedCVAE-Ens method generates synthetic samples at the server using the decoders uploaded by the clients. The server then trains a classifier model from scratch on these samples. We used the same VAE architecture as the authors and experimented on two different classifier architectures \u2013 default CNN (as used by the authors) and ResNet-8 for fair comparison with other methods. We speculate two reasons for the lower estimation accuracy of ResNet-8 for the FedCVAE-Ens algorithm \u2013 \n\n(i) The ResNet-8 architecture introduces deeper and more complex residual connections compared to the default CNN. While this design can be advantageous for capturing intricate features in large datasets, it might lead to overfitting or inefficiency in the context of our specific task i.e. when learning on synthetic samples generated from the decoder. \n\n(ii) The CNN might be more suitable for the given choice of VAE architecture. We also contacted the authors to verify the correctness of our results on the CIFAR-10 task. They reported a sensitivity to the VAE architecture as one of the potential reasons for the overall low performance on CIFAR-10 in comparison to the stronger reported performance on MNIST.\n\n**2) It is unfair to compare the proposed approach to a data-free FEDCVAE-ENS.**\n\n\u2192 Although data-free, FedCVAE-Ens is one of the very few state-of-the-art methods dealing with data heterogeneity in the one-shot FL setting. Our comparison was for completeness i.e. to provide performance insights across both regimes \u2013 data-based and data-free.\n\n**3) The technical contribution is somewhat limited. This work only adopted a simple NN to aggregate the outputs.**\n\n\u2192 We appreciate the opportunity to address concerns regarding the perceived limitation of our technical contribution. Our primary focus is not merely on proposing a neural network aggregator but on a more fundamental exploration \u2013 assessing the viability of one-shot Federated Learning (FL) in comparison to iterative FL. While prior research in one-shot FL has shown promise, it has often struggled in the face of high data heterogeneity, lagging behind the performance of iterative approaches. In response to this challenge, we revisited ensemble techniques, conducting a thorough analysis across various aggregation functions in one-shot FL. Our comprehensive investigation revealed that the enhancement provided by the neural network aggregator is pivotal, enabling one-shot FL methods to achieve performance parity with iterative FL in highly heterogeneous settings\u2014a scenario where these methods traditionally face limitations due to constrained communication. To the best of our knowledge, we are the first to demonstrate this equivalence. We believe that our empirical results can pave the way to more nuanced theoretical understanding of this phenomenon. We are grateful for the opportunity to clarify the significance of our work and its contribution to the broader field of Federated Learning. If there are specific areas that we can further elaborate on or address, we would be more than happy to do so.\n\n**4) Why do you set the batch size to 16?**\n\n\u2192 We adopt the standard practice of using a fixed batch size from relevant related work, for instance, 16 in [1]  and 20 in [2]. \n\n[1] Xuan Gong, Abhishek Sharma, Srikrishna Karanam, Ziyan Wu, Terrence Chen, David Doermann, and Arun Innanje. Preserving privacy in federated learning with ensemble cross-domain knowledge distillation. Proceedings of the AAAI Conference on Artificial Intelligence, 36(11):11891\u201311899, Jun. 2022. doi: 10.1609/aaai.v36i11.21446. URL https://ojs.aaai.org/index.php/ AAAI/article/view/21446. \n\n[2] Sashank J. Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush, Jakub Konecny, Sanjiv Kumar, and Hugh Brendan McMahan. Adaptive federated optimization. In International Conference on Learning Representations, 2021. URL https://openreview.net/forum? id=LkFG3lB13U5."
                    },
                    "title": {
                        "value": "Response to Reviewer 4Q6E"
                    }
                },
                "number": 2,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700033425651,
                "cdate": 1700033425651,
                "tmdate": 1700379114672,
                "mdate": 1700379114672,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "OZXZlkd9lf",
                "forum": "gTWaUlxxWi",
                "replyto": "EJ05Cqpede",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_4Q6E"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Reviewer_4Q6E"
                ],
                "content": {
                    "title": {
                        "value": "Thanks for the response"
                    },
                    "comment": {
                        "value": "Thanks for your response. I tend to keep my initial sore since the other reviewers also have concerns about the contribution of this work. However, I may change the score after the discussion among the reviewers."
                    }
                },
                "number": 9,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700659398035,
                "cdate": 1700659398035,
                "tmdate": 1700659398035,
                "mdate": 1700659398035,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "ICkPYmpIoh",
            "forum": "gTWaUlxxWi",
            "replyto": "gTWaUlxxWi",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_hFH5"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission6345/Reviewer_hFH5"
            ],
            "content": {
                "summary": {
                    "value": "In this paper, authors focus on one-shot federated ensumbles in hetergenous cross-silo settings. One shot federated ensumbles is different from traditional federated learning as it only utlize one rounds of communication/aggregating of locally trained models. In general ensumble framework is used in such one-shot setting. Authors propose a new aggregator which is based on a shallow neural network and which is shown to siginificantly boost the perforamnce of ensembles under high data hetergeneity. In all experiments and ablation studies, such proposed method indeed shows large improvement over exisiting baselines."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "1: One shot federated learning is indeed a very important research direction in FL as it totally avoids the communication cost during training and potentially avoids all network limitation (such as network safety and stability). I think any research in this direction will be valuable for the FL community.\n\n2: The proposed method, i.e. using a shallow network as aggregator, is very simple and straight forward, which also induces little additional inference cost.\n\n3: Extensive ablation studies and real life task settings are always welcomed.  \n\n4: Finally, a general strength for all ensemble methods is that they can support model hetergenorty and each client can utilize different size of model based on their computation capacity."
                },
                "weaknesses": {
                    "value": "1: My major concern is that the novelty of the proposed method is very limited. Shallow network as aggregator has been widely used in other ensemble framework. More advanced methods such as using attention based aggregator have also been proposed. Thus, simply applying such method to FL setting is not a enough contribution (also I feel this also has been explored by previous papers).\n\n2: It is also unclear what is the architecture of the proposed shallow network: does it only use the logits of all local models as input? Isn't it too limited? Why doesn't it utilize the information/embedding of input image? Again I think more research into the architecture of the aggregator is needed.\n \n2: The model used in the experiments is very limited (ResNet-8). I feel it needs to include larger models and tested on larger dataset with more classes to really show its performance on hetergenous settings."
                },
                "questions": {
                    "value": "Please see weakness section for more detailed questions.\n\nOverall my major question is: what is the novelty of the proposed method compared with other ensemble method using network aggregator?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission6345/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699605741367,
            "cdate": 1699605741367,
            "tmdate": 1699636698784,
            "mdate": 1699636698784,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "ckWDeDteeG",
                "forum": "gTWaUlxxWi",
                "replyto": "ICkPYmpIoh",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission6345/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We kindly thank the reviewer for their constructive and valuable feedback. We appreciate the time and effort you have dedicated to assessing our work and we are happy to address some of the concerns below. \n\n**1) My major concern is that the novelty of the proposed method is very limited. Shallow network as aggregator has been widely used in other ensemble framework. More advanced methods such as using attention based aggregator have also been proposed. Thus, simply applying such method to FL setting is not a enough contribution (also I feel this also has been explored by previous papers).**\n\n$\\rightarrow$ We agree that the application of NN aggregator to aggregate predictions is not novel by itself. However, our contribution is not proposing the NN aggregator but understanding whether one-shot FL methods are capable of matching iterative FL. While previous work in one-shot FL has shown promising results, the methods have fallen considerably short of iterative FL and struggled under high data heterogeneity. To this end, we revisited ensemble techniques and carried out an in-depth analysis in one-shot FL, covering several aggregation functions. Our findings reveal that the boost provided by NN aggregator is sufficient for one-shot FL methods to match iterative FL in highly heterogeneous settings which is atypical for these methods due to limited communication.To the best of our knowledge, we are the first to show this performance equivalence between one-shot and iterative FL.\n\n**2) It is also unclear what is the architecture of the proposed shallow network: does it only use the logits of all local models as input? Isn't it too limited? Why doesn't it utilize the information/embedding of input image? Again I think more research into the architecture of the aggregator is needed.**\n\n\u2192 For the NN aggregator, we use a simple MLP comprising 1 hidden layer of 120 units and ReLu activation. The MLP is only fed with logits of the trained models as the input. Therefore, the input size is relatively small i.e. n_clients x n_classes (20 x 10 for CIFAR-10). We show that such a favorably sized NN can be efficiently and quickly trained by leveraging D_proxy data as the training data which is typically much smaller than the distributed D_train dataset i.e. |D_proxy| << |D_train|. We agree with the reviewer that more advanced aggregator architectures would be interesting to explore. However, our goal was not to present the best architecture but to understand the impact of a simple NN aggregator in heterogeneous setups. Our results demonstrate that even a simple NN aggregator can boost the performance significantly. Also, as pointed out by the reviewer, the use of image embeddings for better knowledge fusion has been previously studied in the traditional iterative FL [1] where the goal is considerably more challenging \u2013 model fusion \u2013 unlike prediction aggregation in our one-shot setting.\n\n[1] He, Chaoyang, Murali Annavaram, and Salman Avestimehr. \"Group knowledge transfer: Federated learning of large CNNs at the edge.\" Advances in Neural Information Processing Systems 33 (2020): 14068-14080.\n\n**3) The model used in the experiments is very limited (ResNet-8). I feel it needs to include larger models and tested on larger dataset with more classes to really show its performance on heterogeneous settings.**\n\n\u2192 We adopted our choice of models from several previous works studying the same learning task [1,2,3]. Beyond ResNet-8, we also experimented with DeepMIL and EfficientNet (Table 4) in the FLamby benchmark experiments. While we believe that we have sufficiently assessed the performance of FENS, we will consider adding another dataset in the final version if the reviewer believes it can further enhance the assessment of FENS.\n\n[1] Lin, Tao, et al. \"Ensemble distillation for robust model fusion in federated learning.\" Advances in Neural Information Processing Systems 33 (2020): 2351-2363.\n\n[2] He, Chaoyang, Murali Annavaram, and Salman Avestimehr. \"Group knowledge transfer: Federated learning of large CNNs at the edge.\" Advances in Neural Information Processing Systems 33 (2020): 14068-14080.\n\n[3] Gong, Xuan, et al. \"Preserving privacy in federated learning with ensemble cross-domain knowledge distillation.\" Proceedings of the AAAI Conference on Artificial Intelligence. Vol. 36. No. 11. 2022."
                    },
                    "title": {
                        "value": "Response to Reviewer hFH5"
                    }
                },
                "number": 1,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission6345/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700033083114,
                "cdate": 1700033083114,
                "tmdate": 1700379091438,
                "mdate": 1700379091438,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]