[
    {
        "title": "Baseline Defenses for Adversarial Attacks Against Aligned Language Models"
    },
    {
        "review": {
            "id": "b3G2fW3ng6",
            "forum": "0VZP2Dr9KX",
            "replyto": "0VZP2Dr9KX",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_UELn"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_UELn"
            ],
            "content": {
                "summary": {
                    "value": "This paper presents a study of the vulnerabilities associated with large language models (LLMs), specifically focusing on jailbreaking attacks that aim to bypass alignment and moderation mechanisms. The work mainly adopts an empirical approach, evaluating several baseline defenses under different threat models and settings, and shows the difference between the attacks/defenses in the domain of LLMs and that in conventional domains (e.g., computer vision)."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The paper considers three categories of defenses: detection via perplexity filtering, input preprocessing (including paraphrasing and re-tokenization), and adversarial training. \n- Using the computational cost (rather than the perturbation magnitude) as a constraint for the adversary seems interesting.\n- It discusses the robustness-performance trade-off in each defense strategy, providing insights into their feasibility and effectiveness."
                },
                "weaknesses": {
                    "value": "- The main findings of the paper seem to be the difference between the attacks/defenses in LLMs and other domains (e.g., computer vision). This is not news. There are many studies in the literature that have pointed out such difference.\n- The evaluation mainly focuses on a single attack (Zou et al. 2023). It is unclear whether the findings are biased by this setting. It is suggested to consider more diverse jailbreaking attacks. \n- While the paper sets a good foundation for understanding baseline defenses, it could benefit from a clearer roadmap or suggestions for future research directions.\n- The presentation could also be improved. It is suggested to summarize the findings in each part of the evaluation, which right now are scattered around."
                },
                "questions": {
                    "value": "- How do the findings generalize to attacks other than Zou et al. 2023?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8029/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8029/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8029/Reviewer_UELn"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8029/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698676117473,
            "cdate": 1698676117473,
            "tmdate": 1699636990996,
            "mdate": 1699636990996,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "VwXgziQiqX",
                "forum": "0VZP2Dr9KX",
                "replyto": "b3G2fW3ng6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer UELn"
                    },
                    "comment": {
                        "value": "Thank you for your time, UELn!\n\n> future directions\n\nIn the last paraphrase of the conclusion, we list the future directions of the paper. We highlight the following questions \n\n\"...leaves us with a number of big open questions. (i) What defenses can be reliably deployed, with only minimal impact on benign performance? (ii) Do adaptive attacks that bypass these defenses transfer from surrogate to target models in the gray-box setting? (iii) Can we find good approximations to robust optimization objectives that allow for successful adversarial training? (iv) Can we theoretically bound, or certify, the minimal computational budget required for an attack against a given (gray-box) defense, thereby guaranteeing a level of safety based on computational complexity? Most importantly, (v) can discrete text optimizers be developed that significantly improve the effectiveness of adversarial attacks? If so, this would return LLM security to a state more like that of computer vision\"\n \n\n> mainly focuses on a single attack\n\nWe have added a non-universal threat model, where the attacker has access to the model weights and optimizes an attack for one string. However, the attack does not have access to the system, so the defender can put preprocessing and post processing defenses in the pipeline. With this threat model, we optimize one string on the attacked model (Vicuna-v1.1) exploring the adaptive attack.\n\n| PPL Weight | Non-Attack ASR | ASR w/o filter | Passed PPL | Passed WinPPL | Total ASR (PPL Filter) | Total ASR (WinPPL Filter) |\n| ---------- | -------------- | -------------- | ---------- | ------------- | ---------------------- | ------------------------- |\n| 0          | 5%             | 100%           | 0%         | 0%            | 0%                     | 0%                        |\n| 0.1        | 5%             | 56%            | 50%        | 12%           | 14%                    | 0%                        |\n| 0.2        | 5%             | 12%            | 94%        | 56%           | 12%                    | 2%                        |\n\n\n> literature\n\nWe would be glad to include these works in our related work discussion if you could to point us to these papers. We already provided some overview of the literature for attacks against encoder models. However, we believe Zou et al. building off of Wallace et al. showed the true strength of these attacks on large-scale decoder models for text generation.\n\nPlease let us know if there are any follow-up questions."
                    }
                },
                "number": 5,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700151268042,
                "cdate": 1700151268042,
                "tmdate": 1700151330778,
                "mdate": 1700151330778,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "iRCwstnt94",
                "forum": "0VZP2Dr9KX",
                "replyto": "VwXgziQiqX",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_UELn"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_UELn"
                ],
                "content": {
                    "comment": {
                        "value": "I appreciate the authors' response and added experiments, which help clarify some of my queries. However, I still feel it's risky to draw conclusions about the whole defense landscape based on one (or two) attacks. In light of this, I am inclined to maintain my original rating."
                    }
                },
                "number": 11,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700737676773,
                "cdate": 1700737676773,
                "tmdate": 1700737676773,
                "mdate": 1700737676773,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "hsBW78fLsG",
            "forum": "0VZP2Dr9KX",
            "replyto": "0VZP2Dr9KX",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_Ywox"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_Ywox"
            ],
            "content": {
                "summary": {
                    "value": "This paper studied jailbreaking prompts generated by text optimizers that bypass alignment, discussed the effectiveness of threat models, performance of baseline defense techniques, and the differences between LLM security and computer vision. This paper studied detection based on perplexity, input preprocessing through paraphrasing and retokenization, and adversarial training. The effectiveness and limitations of each baseline defense were studied through extensive experiments. This paper pointed out that the weakness of existing text optimizers and the high cost of optimization make standard adaptive attacks more challenging for LLMs. The paper discussed the future research directions."
                },
                "soundness": {
                    "value": "4 excellent"
                },
                "presentation": {
                    "value": "4 excellent"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "I think this work well analyzed three defense methods against jailbreak attacks that bypass moderation and alignment. This paper presented numerous experimental results to support these points and further discussed both the potential for attack methods to bypass the defense methods and the effectiveness of defense methods in detecting attacks."
                },
                "weaknesses": {
                    "value": "The threat model is limited to only one type. It's advisable to incorporate additional models to validate the effectiveness of the three defense methods.\n\nThe paper did not propose a comprehensive method to address the shortcomings of the three defense methods. While the paper suggested that combining preprocessing defenses with detection defenses might be better , no specific approach or experimental result was provided.\n\nMixing existing datasets for adversarial training did not provide a rigorous defense across the entire search space."
                },
                "questions": {
                    "value": "Please address weaknesses above."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8029/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698710725911,
            "cdate": 1698710725911,
            "tmdate": 1699636990881,
            "mdate": 1699636990881,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "cksDpmOGYd",
                "forum": "0VZP2Dr9KX",
                "replyto": "hsBW78fLsG",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer Ywox"
                    },
                    "comment": {
                        "value": "Thank you for your time, Reviewer Ywox!\n\n> threat model is limited\n\nWe have now added an additional non-universal threat model, where the attacker has again access to the model weights, but now optimizes an attack for a single target string. As before, the attack does not have access to the system, so the defender can put preprocessing and post processing defenses in the pipeline. With this threat model, we optimize one string on the attacked model (Vicuna-v1.1), exploring the adaptive attack.\n\n| PPL Weight | Non-Attack ASR | ASR w/o filter | Passed PPL | Passed WinPPL | Total ASR (PPL Filter) | Total ASR (WinPPL Filter) |\n| ---------- | -------------- | -------------- | ---------- | ------------- | ---------------------- | ------------------------- |\n| 0          | 5%             | 100%           | 0%         | 0%            | 0%                     | 0%                        |\n| 0.1        | 5%             | 56%            | 50%        | 12%           | 14%                    | 0%                        |\n| 0.2        | 5%             | 12%            | 94%        | 56%           | 12%                    | 2%                        |\n\n> Comprehensive method\n\nWe believe that each defense individually tells us something about the attack, and thus, should be studied individually to have a clearer scientific understanding of their merits. Nevertheless, in practice we agree that using a combination of defenses would be most practical. For example, the windowed perplexity filter and the paraphrase defense, i.e. paraphrasing only prompts that do not pass the perplexity filter.\n\n> Mixing existing datasets for adversarial training\n\nWe agree. We believe there is still a lot of research to be done in this space. However, we do believe that we cannot \"copy and paste\" from how we did things in the CV domain. To round out our evaluation, we have now added an additional experiment where we mix in harmful prompts with random pre-crafted (already optimized) adversarial suffixes to instruction tuning dataset. More specifically, instead of generating an adversarial suffix for each example (as this is prohibitively expensive), we use precomputed suffixes optimized using a variety of different prompts. This is another approximation of the classical adversarial training. We see that this type of training does reduce the attack success rate (ASR) for attacked prompts bringing the performance of the attack down from 96% to 92%. However, we see that the unattacked malicious prompts did change with 95% of malicious prompts outputting bad behavior.\n    \n\n| Model                         | ASR |\n| ----------------------------- | --- |\n| Alpaca Baseline               | 96% |\n| Alpaca + FT w/ adv. suffixes  | 92% |\n\nPlease let us know if you there are any follow up questions."
                    }
                },
                "number": 4,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700151165765,
                "cdate": 1700151165765,
                "tmdate": 1700151165765,
                "mdate": 1700151165765,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "bMyFzthtbJ",
            "forum": "0VZP2Dr9KX",
            "replyto": "0VZP2Dr9KX",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_hCXb"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_hCXb"
            ],
            "content": {
                "summary": {
                    "value": "Extending the studies in standard adversarial machine learning domains, this paper explores the effectiveness of three different mainstream defense methods against jailbreak attacks for LLM, including perplexity detection, input reprocessing via paraphrasing/retokenization, and adversarial training (more precisely, data augmentation with red-teaming prompts, instead of minmax-based training). Detailed experiments and discussions on the robustness-utility tradeoffs for each case are provided."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "1. This is a good and timely study to help researchers understand how many lessons learned form computer vision domains for adversarial robustness can be transferred to LLMs.\n2. The paper is easy to follow and provides abundant empirical results"
                },
                "weaknesses": {
                    "value": "The major concern that prevents me from giving a straight recommendation for acceptance is that the evaluation is based on the GCG attack proposed (Zou et al., 2023), which is a universal attack that learns to append the same adversarial suffix to every prompt for jailbreak attempts. However, from the computer vision domain, it is also known that universal attacks are easier to detect/defense than individually optimized adversarial examples (Finding a universal adversarial perturbation is mathematically more difficult than finding a specific adversarial perturbation for one image). Therefore, the conclusion made by this paper may be different if one considers the GCG attack on every prompt separately, instead of learning to do a universal attack. \n\nHere are my suggestions:\n1. I hope the authors can come up with new experiments that evaluate individual GCG attacks, and check if the conclusion holds or not. If also seems to me that the attacker may break the perplexity detection in the adaptive attack setting if the goal is to find a low-perplexity adversarial suffix for only one prompt, instead of many prompts simultaneously.\n2. On adaptive attack against paraphrasing, can the authors check if appending the same adversarial suffix to the paraphrased prompt can regain the attack effectiveness or not?\n3. On Sec. 4.3 - I hesitate to agree the studied method is \"robust optimization\". While it is true that the terminology of adversarial training (via augmenting with some (non-optimized) adversarial examples in the training loss) is consistent with what is proposed by Goodfellow et al. in 2013/2014, the evaluated scheme is different from the more popular minimax-based adversarial training method proposed by Madry et al., following the practice of robust optimization. It also seems that the studied method only augments with the human-crafted adversarial prompts to fine-tune an LLM, instead of iteratively generating new adversarial prompts during training. Therefore, I suggest removing the use of \"robust optimization\" in that paragraph, and making the message clear that this observation does not imply the result of minimax-based adversarial training method (which is unclear what is the best way to define and execute, as the authors pointed out). Otherwise, this section may give the incorrect message that \"robust optimization\" does not give strong robustness of LLMs against jailbreak attacks.\n4. [Minor] There are some recent papers (after the ICLR submission deadline) that propose improved (automated) jailbreak prompt generations with high influence to bypass perplexity-based detections, so perplexity-based detections may not be as strong as the paper claimed (aka the defense can be already broken). However, I understand those results are concurrent to this study, and I won't take this point into my final rating."
                },
                "questions": {
                    "value": "1. Will the same conclusion hold if one considers non-universal GCG attacks? That is, run GCG attack separately for each tested jailbreak prompt.\n2. If appending the same adversarial suffix to the paraphrased prompt, can the attack remain effective?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8029/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698721430040,
            "cdate": 1698721430040,
            "tmdate": 1699636990764,
            "mdate": 1699636990764,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "YLh0noHRai",
                "forum": "0VZP2Dr9KX",
                "replyto": "bMyFzthtbJ",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer hCXb"
                    },
                    "comment": {
                        "value": "Thank you for your time, hCXb!\n\n> non-universal GCG attacks\n\nWe have now added a non-universal threat model, where the attacker has again access to the model weights, but now optimizes the attack for a single string. As before, the attacker does not have access to the system, so the defender can put preprocessing and post-processing defenses in the pipeline. With this threat model, we optimize a single string on the attacked model (Vicuna-v1.1), exploring the adaptive attack.\n\n| PPL Weight | Non-Attack ASR | ASR w/o filter | Passed PPL | Passed WinPPL | Total ASR (PPL Filter) | Total ASR (WinPPL Filter) |\n| ---------- | -------------- | -------------- | ---------- | ------------- | ---------------------- | ------------------------- |\n| 0          | 5%             | 100%           | 0%         | 0%            | 0%                     | 0%                        |\n| 0.1        | 5%             | 56%            | 50%        | 12%           | 14%                    | 0%                        |\n| 0.2        | 5%             | 12%            | 94%        | 56%           | 12%                    | 2%                        |\n\nHowever, we find that these attacks, while stronger, still fail to break the perplexity filter, leading to a total ASR of 2% in with the optimal weight on the perplexity parameter.\n\n\n> same adversarial suffix to the paraphrased prompt\n\nThis unfortunately would not be possible for the attacker in a realistic threat model. Since the attacker can only send a query to the system and the paraphrase is done internally over the query, the attacker does not have access to the prompt after the paraphrase.\n\n> Recent Attacks\n\nIt is worth mentioning that these attacks did not consider the window perplexity nor paraphrase defense, which from our experiments we have found to be much stronger.\n\nPlease let us know if there are any follow-up questions."
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700150975101,
                "cdate": 1700150975101,
                "tmdate": 1700150975101,
                "mdate": 1700150975101,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "cV8PgKgs12",
                "forum": "0VZP2Dr9KX",
                "replyto": "cksDpmOGYd",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_hCXb"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_hCXb"
                ],
                "content": {
                    "comment": {
                        "value": "I thank the reviewer for the response. Most of my concerns are addressed, and I am inclined toward increasing my rating score. I'll finalize my rating after discussing it with other reviewers and area chair in the later phase."
                    }
                },
                "number": 9,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700598303931,
                "cdate": 1700598303931,
                "tmdate": 1700598303931,
                "mdate": 1700598303931,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "iXM1bi7Acs",
            "forum": "0VZP2Dr9KX",
            "replyto": "0VZP2Dr9KX",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
            ],
            "content": {
                "summary": {
                    "value": "The paper discusses simple baseline defenses against a single gradient-based adversarial attacks against Large Language Models (LLMs). These include perplexity based filtering, paraphrasing via another LLM, and an attempt at adversarial training."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "Some of the results (in particular, regarding perplexity filtering) are interesting."
                },
                "weaknesses": {
                    "value": "I find the motivation, ideas, and conclusions derived in this paper to be problematic for many reasons. I will also provide individual issues for each of the defenses studied, below.\n\n- (Overview) **Lack of Proper Motivation and Significance**: The paper raises many questions (such as in the abstract: *\"What threat models are practically useful in this domain?\"* and *\"How do baseline defense techniques perform in this new domain?\"*) but fails to provide concrete answers for these to the reader. The paper ends on more unanswered questions (Section 5.1). This is due to a lack of proper motivation: the paper from the start is set up to only study the proposed baseline defenses which are either incompletely or trivially designed (I will discuss this later). Although the authors attempt to draw general conclusions, since there is only one attack proposed by Zou et al [1] for LLMs, the results cannot be interpreted generally (I discuss this next). Finally, the evaluation setups are inconsistent and keep varying between experiments, and smaller LLMs are mostly considered (discussed below). In sum, the paper feels incomplete and in my opinion does not provide substantial evidence for the initial claims made by the authors which is why I am leaning towards rejection.\n\n- **Single-Attack Study Cannot Generalize**: The paper draws many *general* conclusions from the derived results, such as indicating the strengths or weaknesses of a particular baseline defense (e.g. end of Section 4.1: *\"However, perplexity filtering is potentially valuable in a system where high perplexity prompts are not discarded, but rather treated with other defenses, or as part of a larger moderation campaign to identify malicious users\"*). However, this is an untenable claim, as all the baseline defense experiments are conducted on a single optimization attack proposed by Zou et al [1] and we do not know the space of adversarial LLM samples that exist to a clear extent. Clearly, the scope of the work is fairly limited given this fact. Owing to these reasons, the paper seems incomplete and almost *too early* as there should be more attacks proposed first by the community to derive a general trend for baseline defenses. As an analogue, Carlini et al's [2] seminal paper on guidelines for defenses in deep neural networks was written after a number of attacks had been proposed.\n\n- **Inconsistent Experimental Setups**: The paper has multiple experiments, but all of these are conducted on a different set of LLMs. For Section 4.1 the authors use Falcon-7B, Vicuna-7B, Guanaco-7B, ChatGLM-6B, and MPT-7B. For experiments in Section 4.2, Alpaca-7B is also introduced; why wasn't this used in 4.1 experiments? For Section 4.3 Llama1-7B and Alpaca are considered, and the other models are dropped. This inconsistency in experimental setup and evaluation is a major issue and hinders readers from getting a clear picture of the results. This issue also extends to other evaluation aspect of the work, such as in Section 4.1, nowhere do the authors mention what the actual value of the threshold $T$ for the perplexity filter is for most of the experiments. They just mention that it is the upper bound of perplexity on the AdvBench dataset which makes it hard to contextualize other results with respect to those of Figure 2 (when the threshold is varied).\n\n- **Evaluation Only on Weaker Models**: Even though the original attack approach of Zou et al [1] was evaluated on multiple black-box LLMs such as GPT-3.5-Turbo, PaLM-2, and GPT-4, the authors never consider these powerful models in experiments. In fact, most of the experiments are only localized to smaller LLMs roughly around the 7B parameter size. If the issue is API or black-box access, in my view, the defense approaches can still be applied as a preprocessing step. Even then, as Llama-2-13B and Llama-2-70B models are available open-source, this issue can actually be bypassed. A lack of evaluation on powerful and more relevant models is also a major drawback of the work.\n\n- **Issues with Each Defense Baseline**:\n    - **Perplexity Filter**: Regarding the perplexity filter, the description by the authors of its efficacy (last paragraph Section 4.1: *\"the defense succeeds..\"* and others) is in contrast with the results obtained. As Figure 1 shows, the Attack Success Rate (ASR) is greater than 50% for the Guanaco and Falcon LLMs even as $\\alpha_{ppl}$ is increased. Also, ChatGLM and MPT LLMs are the only ones for which ASR tends to 0, but their performance initially is close to 0 to begin with. More importantly, even after the filter, if 20% of the prompts bypass the windowed perplexity filter, why can the attacker not just reproduce prompts similar to these (e.g. via paraphrasing) and attack the LLM with a large volume of such prompts? It also excessively targets benign prompts and I am not convinced that there is a good approach for choosing the threshold $T$. Due to these reasons, I believe this baseline is too trivial and does not convery any useful information about efficacy and complexity of optimizer attacks for LLMs.\n\n    - **Paraphrasing Prompts**: The issue with this defense is that if the defender can utilize a more powerful LLM for paraphrasing (such as GPT-3.5-Turbo as the authors have done), why can they not directly use that model for their LLM related tasks? It would make more sense to directly use ChatGPT instead of filtering responses using ChatGPT and then using Vicuna. What would be interesting and more viable, would be to use a more traditional paraphrasing approach for the adversarial prompt and then assessing whether ASR can be lowered. In its current form, the defense does not seem tenable as a baseline.\n\n\n    - **Attempting Adversarial Training**: The approach employed by the authors in Section 4.3 is an approximate attempt at adversarial training. It is evident why it doesn't work well, as the inner adversarial optimization step can only use human generated adversarial prompts instead of optimizer generated ones, due to computational issues. In this manner, this approach is incomplete and already unsatisfactory as a baseline. In my opinion, it cannot even constitute a negative result because the approach is not sufficiently close to true adversarial training. This also relates to my earlier point on the work being *premature*. In this case, it would actually be beneficial to improve the optimization approach used for attack samples to enable adversarial training of LLMs. \n\n\n\n___\n___\n___\nReferences:\n1. Zou, Andy, et al. \"Universal and transferable adversarial attacks on aligned language models.\" arXiv preprint arXiv:2307.15043 (2023).\n2. Carlini, Nicholas, et al. \"On evaluating adversarial robustness.\" arXiv preprint arXiv:1902.06705 (2019)."
                },
                "questions": {
                    "value": "- Is there a reason the authors did not study more powerful models such as GPT-3.5-Turbo, BARD (PaLM-2), Llama-2 and GPT-4? The biggest strength/finding of the paper by Zou et al [1] is that the attack transfers (in a black-box fashion) to these other models.\n- Please feel free to reply to any of the weaknesses listed in the previous section.\n\n___\n___\n___\nReferences:\n1. Zou, Andy, et al. \"Universal and transferable adversarial attacks on aligned language models.\" arXiv preprint arXiv:2307.15043 (2023)."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8029/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698791742996,
            "cdate": 1698791742996,
            "tmdate": 1699636990632,
            "mdate": 1699636990632,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "LLipI9rbrs",
                "forum": "0VZP2Dr9KX",
                "replyto": "iXM1bi7Acs",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer 9hm2 (part 1/2)"
                    },
                    "comment": {
                        "value": "Thank you for your time, 9hm2!\n\n>  Single-Attack Study Cannot Generalize -- conclusions limited from studying one attack threat model\n    \nWe do measure defense efficacy on only one attack, we have modified the claims in the first paragraph of Section 4 to be more clear to reflect your point about the timing and maturity of the field. We feel that it is a good time to start considering defenses and furthermore that the Zou et al. attack we consider is a representative example of existing methods. There are several existing methods (Wallace et al. 2019--https://arxiv.org/abs/1908.07125, Jones et al. 2022--https://arxiv.org/abs/2303.04381), but it is clear that Zou et al. is the strongest, so for benchmarking defenses we choose to use the best offense available. Zou et al. show that they strengthen the optimization process and jailbreak powerful modern LLMs. Notice that all of these optimization-based jailbreaks include a suffix/prefix that makes them similar from the detection standpoint.\n\nAlso, we have added some experiments with stronger, non-universal threat model. We find that defenses through perplexity filtering still hold up. As before, in these experiments, we explore a threat model where the attacker has access to the model weights. But here, the attacker optimizes an attack against a single target string. However, the attacker does not have access to the system, so the defender can put preprocessing and post-processing defenses in the pipeline. With this threat model, we optimize one string on the attacked model (Vicuna-v1.1), exploring this adaptive attack. We see that even in this case it is very difficult to completely break the windowed perplexity defense without degrading the potency of the attack.\n\n| PPL Weight | Non-Attack ASR | ASR w/o filter | Passed PPL | Passed WinPPL | Total ASR (PPL Filter) | Total ASR (WinPPL Filter) |\n| ---------- | -------------- | -------------- | ---------- | ------------- | ---------------------- | ------------------------- |\n| 0          | 5%             | 100%           | 0%         | 0%            | 0%                     | 0%                        |\n| 0.1        | 5%             | 56%            | 50%        | 12%           | 14%                    | 0%                        |\n| 0.2        | 5%             | 12%            | 94%        | 56%           | 12%                    | 2%                        |\n\n> Inconsistent Experimental Setups\n\nDue to compute limits, instead of choosing a 13B model and a 7B model, we were forced to choose two 7B parameter models, weakening the attack. Thus, the models chosen in each section were chosen by if they started with an initially high ASR to begin with, studying models such as MPT-Chat or ChatGLM that have low ASR, even before any defense, would tell little about the defense as there are 100 test examples. In the case of perplexity, we can individually examine whether the attack bypassed the model or not regardless of the ASR. For Alpaca, the PPL and WinPPL detect the original attack 100% of the time. \n\nFor Section 4.3, we had to finetune a model. Thus, we chose the most popular finetuning dataset--Alpaca, which was originally finetuned on LLaMA-1.\n    \n>Evaluation Only on Weaker Models:\n\nOur choice of which models to use in evaluating defenses has three justifications. (A) we use a similar set to Zou et al. (B) Strong models that are naturally impervious to these attacks provide little room to demonstrate the efficacy of a defense. (C\\) Closed models that live behind paywalls and may change in time are hard to do reproducible scientific experimentation with. Since the release of Zou et al. some of the black-box chatbot systems have added additional defenses (at least it seems so, given that attacks proposed in Zou et al. do not work as well anymore). Of course, we don't know if these are pre or post-processing (or any other type of defense) which leads to the two issues mentioned above: attacks show near-zero ASR, and reproducible experiments are impossible. \n\n> Issues with Each Defense Baseline -- Perplexity Filter\n  \nWe say the defense succeeds in its goal to limit the effect of the attacked prompt. Now, the model might be badly aligned to begin with, which is the case for Guanaco and Falcon making the ASR close to the unattacked version of the malicious prompts. In the reverse case, MPT-Chat and ChatGLM have good alignment making them hard to attack to begin with. \n\nFor choosing a good value of $T$, we plotted the Pareto frontier curve to show how a user might choose a tolerance value. Below are the thresholds used for Figure 6 and Figure 7 in the Appendix and Table 2 in the main paper.\n\n|  |  Vicuna-v1.1 | Guanaco | Falcon-7B-Instruct | ChatGLM-6B     |  MPT-7B-Chat     |\n| ----------- | ------- | -------------- | --- | --- | --- |\n| PPL Threshold        | 4.354    | 4.665           |  5.292   |  7.988   |   5.074  |\n| Window PPL Threshold        | 6.651    | 6.403           |  7.996   |   12.375  |  7.792   |"
                    }
                },
                "number": 1,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700150742673,
                "cdate": 1700150742673,
                "tmdate": 1700150742673,
                "mdate": 1700150742673,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "iGbXLBn9Al",
                "forum": "0VZP2Dr9KX",
                "replyto": "HSW9WE8M2F",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
                ],
                "content": {
                    "title": {
                        "value": "Response to Rebuttal"
                    },
                    "comment": {
                        "value": "I would like to express my gratitude to the authors for their rebuttal. However, after going through the response, my original concerns still largely remain. I provide some more details below:\n\n* **Study Generalization Issues**: I find that despite the authors stating that Zou et al might be the strongest attack, my concern still holds. The work undertaken in the paper cannot generalize as long as a single attack is considered, and I think it would be hard to find a lot of other work in the adversarial attack or defense field that only ever considers a single attack. Moreover, new attack approaches are being proposed at the moment (for e.g. https://arxiv.org/abs/2310.13345), which brings me to the second issue of the work being somewhat premature.\n* **Experimental Issues**: While I understand that the authors might have faced compute issues, since the work is aiming to generalize across LLMs, the lack of comparison on 13B and larger models should be studied. Similarly, if the authors think stronger models (or ones behind paywalls) are not susceptible to the Zou et al attack, then they can themselves be used as in-processing defense approaches against the attack. I think this dilutes the motivation for the current work quite significantly.\n* **Issues with Individual Defenses**: Thank you for providing details on the perplexity filter baseline and additional results for the paraphrasing baseline. However, I am not convinced of the adversarial retraining strategy. Philosophically, despite the work aiming to propose an analogue to adversarial training for LLMs, it fails to do so, which can neither be seen as a negative or a positive result. For e.g. it is not clear to me that it is not possible to design better or improved approaches for adversarial LLM training, it is just that the authors do not have a good solution for it at the moment (i.e. lack of improved optimization strategies). Since the authors raise and motivate this defense themselves, not following through (in my opinion) is not good enough. I am also not sure of trying to connect the work to vision based attacks, as LLMs are very different conceptually, and hence, it shouldn't be the case that the attacks would work similarly. They are neither vision models nor are they similar in task output or predictive capability.\n\nGiven the points above, I would like to maintain my current score."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700499045672,
                "cdate": 1700499045672,
                "tmdate": 1700499045672,
                "mdate": 1700499045672,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "hBnepMK8H3",
                "forum": "0VZP2Dr9KX",
                "replyto": "iXM1bi7Acs",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Reply to Reviewer 9hm2"
                    },
                    "comment": {
                        "value": "Thank you for your response.\n\n> Study Generalization Issues\n\nThe threat models we explore are optimized attacks against aligned language models. This particular type of attack is against the alignment of the model and is different from GLUE attacks that were explored in https://arxiv.org/abs/2310.13345. Additionally, it is not uncommon to study a single popular attack in defense papers, e.g. https://arxiv.org/abs/1312.6199, which is well-regarded by the community. \n\nIn this paper, we studied a number of defenses in our work to understand (1) what are the takeaways from Computer Vision (CV) and what types of defenses are stronger in LLMs than CV (2) how should we be thinking of designing future attacks, i.e under what lens taking the lessons learned from CV. Additionally, we would argue that it is never too early to consider defenses as they help set the bounds of future attacks.\n\n> Experimental Issues\n\nWe do know from Zou et al. that Vicuna-7B and Vicuna-13B have the same ASR. Thus, larger models are not more robust to these attacks when trained with the same procedure, and therefore, studying Vicuna-7B is still very insightful. Furthermore, we want to reiterate that black-box API models are not meaningful objects of study, as these systems may already include defensive mechanisms, which will obstruct a clear scientific evaluation.\n\n>Issues with Individual Defenses -- Adv Training:\n\nWe are glad we clarified questions that arose for the ppl defense and paraphrase defense. From the response above, it seems that there are still some questions about adversarial training. The study of adv training is inherited from the many papers that study adversarial attacks in CV, and because of this, we wanted to discuss and outline the challenges of this type of defense for aligned language models. We provide a baseline defense for adv training that we find not incredibly effective at this moment. As training with adv examples is a very natural avenue of approaching the problem, we wanted to include this section as it is a natural baseline for defending against attacks and showcases an important line of research. \n\nWe appreciate the continued engagement, Reviewer 9hm2."
                    }
                },
                "number": 8,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700590919885,
                "cdate": 1700590919885,
                "tmdate": 1700590991037,
                "mdate": 1700590991037,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "qpahEUUuO4",
                "forum": "0VZP2Dr9KX",
                "replyto": "hBnepMK8H3",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8029/Reviewer_9hm2"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your additional responses. I provide more details below.\n\n> This particular type of attack is against the alignment of the model and is different from GLUE attacks that were explored in https://arxiv.org/abs/2310.13345\n\nYes, I am aware, I was referring to the fact that new attacks against LLMs are still being proposed at the moment. By the same logic attacks against the current threat model should also be proposed.\n\n> Additionally, it is not uncommon to study a single popular attack in defense papers, e.g. https://arxiv.org/abs/1312.6199, which is well-regarded by the community.\n\nThe paper by Szegedy et al is a seminal work of the field, and arguably one of the first works studying adversarial attacks in deep neural networks. More than half of the paper also studies neural network properties and is not concerned with attacks. The analogue here is if the authors had proposed a single field-defining attack that improved upon the work by Zou et al I would have considered it a valid contribution. However, the paper is studying baseline defenses against a _single_ attack. I do not think this comparison holds. Irrespective of all this, my concerns regarding generalization have not been alleviated.\n\n> what are the takeaways from Computer Vision (CV) and what types of defenses are stronger in LLMs than CV\n\nThis has also not been satisfactorily explained. I am unsure of why LLM attacks are being related to computer vision, the models are completely different. Attacks against NLP models have long since utilized adversarial training and other approaches in attack optimization [1] and since clearly LLMs are closer to the text (instead of vision) modality, it does not make sense to compare attacks/behaviors.\n\n> We do know from Zou et al. that Vicuna-7B and Vicuna-13B have the same ASR. Thus, larger models are not more robust to these attacks when trained with the same procedure, and therefore, studying Vicuna-7B is still very insightful.\n\nWell this is again a major assumption. Just because the performance of Vicuna across two model classes is similar does not imply the statement made above (larger models are not more robust to these attacks) holds across LLMs and for different sizes. It would have been nice to see evidence by way of actual experiments conducted across larger models. If the authors then obtain the same results, I would be inclined to agree with the statement above. Right now based on current evidence provided, I am not sure, and leaning towards the contrary.\n\n> We provide a baseline defense for adv training that we find not incredibly effective at this moment.\n\nMy original point still stands. It is not that adversarial training is not possible for LLMs, it is just that the current approaches proposed in this work have not focused on finding ways of solving the problem. Adversarial training might be fairly easy for LLMs if some better optimization approach was proposed for this purpose, but we do not know that. In that sense, I am not convinced.\n\n\n___\n1. Morris, John, et al. \"TextAttack: A Framework for Adversarial Attacks, Data Augmentation, and Adversarial Training in NLP.\" Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing: System Demonstrations. 2020."
                    }
                },
                "number": 10,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8029/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700720207868,
                "cdate": 1700720207868,
                "tmdate": 1700720207868,
                "mdate": 1700720207868,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]