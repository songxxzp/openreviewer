[
    {
        "title": "VQGraph: Rethinking Graph Representation Space for Bridging GNNs and MLPs"
    },
    {
        "review": {
            "id": "g2iCqkQ8C6",
            "forum": "h6Tz85BqRI",
            "replyto": "h6Tz85BqRI",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission477/Reviewer_T74P"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission477/Reviewer_T74P"
            ],
            "content": {
                "summary": {
                    "value": "The goal of this paper is to distill the knowledge of \"teacher\" graph neural networks to \"student\" MLPs for efficiency. Existing knowledge distillation methods for graph-structured data exploit labels of each node for the knowledge distillation. But, the number of labeled nodes is limited so that the class space may not be sufficient to cover the diverse graph structures. To address this issue, the paper proposes a variant of VQ-VAE to directly label the local graph structures. Specifically, it first learns a structure-aware tokenizer for dealing with graph structured datsets. The structure-aware tokenizer encodes the local substructure of each node as a discrete code. Then, the paper designs a new distillation target to directly transfer the structural knowledge of each node from GNN to MLP."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The paper deals with one of the important research topics on graph representation learning.\n- The proposed VQ-VAE is effective and efficient on various datasets and tasks from the author's experiments.\n- The paper is well written and easy to follow."
                },
                "weaknesses": {
                    "value": "- It would be better if more details about the production scenario were included in the paper. If the authors are not experts in the graph knowledge distillation domain, they are unlikely to know the details of the experiments. So, more details about the tasks need to be described.\n- I wonder whether the proposed VQ-VAE pre-trains both graph tokenizer and graph neural networks simultaneously or pre-trains graph neural networks first and then the graph tokenizer.\n- The paper claimed that capturing graph structure is important for knowledge distillation. Then, I think that learning representations with self-supervised learning [1] for graphs can be other option to capture local graph structure. In my thoughts, labeling nodes' local structure with discrete codes seems not different from learning node representation with self-supervision loss [1] if its purpose is capturing local structure.\n\n[1]: Veli\u010dkovi\u0107, Petar, et al. \"Deep graph infomax.\" ICLR 2019."
                },
                "questions": {
                    "value": "Please refer to the above weaknesses."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission477/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698480281386,
            "cdate": 1698480281386,
            "tmdate": 1699635974428,
            "mdate": 1699635974428,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "cFwmHeovnd",
                "forum": "h6Tz85BqRI",
                "replyto": "g2iCqkQ8C6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer T74P"
                    },
                    "comment": {
                        "value": "*We sincerely thank you for your time and efforts in reviewing our paper, and your valuable feekback. We are glad to see that the research topic is important, the proposed method is effective and efficient, and the paper is well written and easy to follow. Please see below for our responses to your comments, and **the revised texts are denoted in red**.* \n\n**Q1: It would be better if more details about the production scenario were included in the paper. If the authors are not experts in the graph knowledge distillation domain, they are unlikely to know the details of the experiments. So, more details about the tasks need to be described.**\n\nA1: Thanks for your constructive suggestion, we have added the following details into **the appendix of the updated manuscript denoted in red**. Regarding to the production scenario, we recognize that real-world deployment of models necessitates the ability to generate predictions for new data points as well as reliably maintain performance on existing ones. Therefore, we apply our method in a realistic production setting to better understand the effectiveness of GNN-to-MLP models, encompassing both transductive and inductive predictions.\n\nIn a real-life production environment, it is common for a model to be retrained periodically. The holdout nodes in the inductive set represent new nodes that have entered the graph between two training periods. To mitigate potential randomness and to evaluate generalizability more effectively, we employ a test dataset $V^U_{ind}$, which contains 20% of the test data, and another dataset $V^U_{obs}$, containing the remaining 80% of the test data. This setup allows us to evaluate the model's performance on both observed unlabeled nodes (transductive prediction) and newly introduced nodes (inductive prediction), reflecting real-world inference scenarios.\n\nWe further provide three sets of results: \"tran\" refers to results on $V^U_{obs}$, \"ind\" refers to $V^U_{ind}$, and \"prod\" refers to an interpolated value between tran and ind, according to the split rate, indicating the performance in real production settings.\n\n**Q2: I wonder whether the proposed VQ-VAE pre-trains both graph tokenizer and graph neural networks simultaneously or pre-trains graph neural networks first and then the graph tokenizer.**\n\nA2: In our proposed VQ-VAE, both the graph tokenizer and graph neural networks are trained simultaneously, because we need to sufficiently align the feature space between the GNN encoder and the graph tokenizer. By co-training these components, we can ensure a more synchronized enhancement of both the encoder and tokenizer, which can well preserve graph structures. Opting for a sequential approach, where graph neural networks are pre-trained first and then followed by the tokenizer, their inconsistent optimization would potentially lead to suboptimal performance. To further prove this, we conduct an experiment (GraphSAGE as encoder) as follows:\n\n| Method |Simultaneously (Ours)| Sequentially|\n| :-----| :----: | :----: |\n|Citeseer | **70.49** | 70.14 |\n|Pubmed | **75.56** | 75.07 |\n|Cora|**80.64**|80.25|\n\n**Q3: The paper claimed that capturing graph structure is important for knowledge distillation. Then, I think that learning representations with self-supervised learning [1] for graphs can be other option to capture local graph structure. In my thoughts, labeling nodes' local structure with discrete codes seems not different from learning node representation with self-supervision loss if its purpose is capturing local structure.**\n\nA3: Thanks for your insightful comment. We seriously consider your proposed alternative approach for capturing local structures, and find that self-supervised learning methods like Graph Infomax mainly focus on how to recognize local structures and distinguish different local structures, which are not designed for maximally preserving these local structures. Thus, they can not easily recover the whole structures like our graph VQ-VAE, but such knowledge completeness about local structures is critical for GNN-to-MLP distillation. To further prove this, we conduct an experiment (GraphSAGE as encoder) in the table below (we respectively use our VQ-VAE and Graph InfoMax to train a teacher GNN for distillation). From the results, we can find that our method can better transfer the structure-aware knowledge from GNN to MLP, substantially outperforming Graph InfoMax.\n\n| Method |Our Graph VQ-VAE| Graph InfoMax|\n| :-----| :----: | :----: |\n|Citeseer | **76.08** | 73.17 |\n|Pubmed | **78.40** | 76.28 |\n|Cora|**83.93**|81.43|"
                    }
                },
                "number": 8,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700235451332,
                "cdate": 1700235451332,
                "tmdate": 1700235451332,
                "mdate": 1700235451332,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "XWjmPrQSkz",
                "forum": "h6Tz85BqRI",
                "replyto": "g2iCqkQ8C6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Gentle Reminder"
                    },
                    "comment": {
                        "value": "Dear Esteemed Reviewer T74P,\n\nWe sincerely appreciate the time and effort you dedicated to reviewing our paper. Your thoughtful questions and insightful feedback have been extremely beneficial. In response to your queries and concerns, we have prepared detailed answers .\n\nWe understand that you have numerous commitments, and we truly appreciate the time you invest in our work. As the discussion period is approaching its conclusion in one day, we kindly request, if possible, that you review our rebuttal at your earliest convenience.\n\nShould there be any further points that require clarification or improvement, please know that we are fully committed to addressing them promptly.\n\nThank you once again for your invaluable contribution to our research.\n\nWarm Regards, The Authors"
                    }
                },
                "number": 12,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700482292466,
                "cdate": 1700482292466,
                "tmdate": 1700575116315,
                "mdate": 1700575116315,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "YjDmWeaDxk",
                "forum": "h6Tz85BqRI",
                "replyto": "g2iCqkQ8C6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Dear Reviewer T74P:\n\nWe just want to reach out to you again and see if our response addresses your concern. Your comments really inspire us, and we are eager to continue discussing our work with you.\n\nWarm Regards,\n\nThe Authors"
                    }
                },
                "number": 28,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700709539863,
                "cdate": 1700709539863,
                "tmdate": 1700709539863,
                "mdate": 1700709539863,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "Gq8E2KKXZN",
            "forum": "h6Tz85BqRI",
            "replyto": "h6Tz85BqRI",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission477/Reviewer_4K7i"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission477/Reviewer_4K7i"
            ],
            "content": {
                "summary": {
                    "value": "This paper studies the GNN-to-MLP distillation problem. The authors claim that the output representation of teacher GNN lack rich graph structural information. With this motivation, they propose to learn codebook embedding via VQ-VAE. After that, the prediction of teacher and student network is obtained by computing the distance between representation to each of the embedding in the learned codebook. Experimental results show that their methods possess faster inference speed and better performance against previous approaches."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "- The idea of using VQ-VAE to learn structure-aware embedding is reasonable, which could also serve as an effective approach to extract graph structural feature. Furthermore, the proposed distillation target essentially encourages the representation of each node given by teacher and student network close to the same embedding in the codebook. Therefore, the overall process is more transparent and interpretable.\n- This paper is well-organized and easy to follow. The experiments results are convincing and comprehensive, which are enough to support the effectiveness of the proposed method."
                },
                "weaknesses": {
                    "value": "- Compared with previous method, extra memory space is required due to the introduced learnable codebook. As the authors show, the codebook size has influence on the performance of the model. How to effective tune this hyperparameter is worth exploring.\n- The adopted datasets in this paper are generally homophilic, i.e., the connected nodes belong to the same category. It is still unclear whether the proposed method is applicable to heterophilic graphs."
                },
                "questions": {
                    "value": "- The authors propose a generative approach learn codebook embedding. Is there any other way to learn the codebooks (such as self-supervised learning paradigm) or use other generative models (such as GAN) ?\n- Could the proposed method be applied to heterophilic graphs [1,2]? \n\n[1]  Lim et al., Large scale learning on non-homophilous graphs. NeurIPS 2021.\n\n[2] Platonov et al, A critical look at the evaluation of GNNs under heterophily: Are we really making progress? ICLR 2023."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Reviewer_4K7i",
                        "ICLR.cc/2024/Conference/Submission477/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission477/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698720929729,
            "cdate": 1698720929729,
            "tmdate": 1700648047383,
            "mdate": 1700648047383,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "JEpBUSB2ip",
                "forum": "h6Tz85BqRI",
                "replyto": "Gq8E2KKXZN",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer 4K7i"
                    },
                    "comment": {
                        "value": "*We sincerely thank you for your time and efforts in reviewing our paper, and your valuable feekback. We are glad to see that the idea is reasonable, the overall process is more transparent and interpretable, this paper is well-organized and easy to follow, and the experiment results are convincing and comprehensive. Please see below for our responses to your comments, and **the revised texts are denoted in red**.* \n\n**Q1: Compared with previous method, extra memory space is required due to the introduced learnable codebook. As the authors show, the codebook size has influence on the performance of the model. How to effective tune this hyperparameter is worth exploring.**\n\nA1: The size of the codebook inherently possesses an optimal point, a fact substantiated by our experimental findings. Notably, this optimum tends to scale **proportionally with the growth in the number of nodes** and features within a graph. To address practical concerns, we propose an efficient approach involving **a few key steps**. Specifically, employing a binary search process, we can determine the optimal codebook size within 3-4 steps, where it can be determined **solely by convergence** without running the entire training process, especially in large-scale datasets. Meanwhile, minor adjustments to the codebook size, especially within a range not comparable with the scale of graph complexity, have negligible impact on the overall performance. This streamlined process ensures that adapting the codebook size to new datasets is both manageable and expeditious.\n\n**Q2: The adopted datasets in this paper are generally homophilic, i.e., the connected nodes belong to the same category. It is still unclear whether the proposed method is applicable to heterophilic graphs.**\n\nA2: Capturing local structures is also crucial for heterophilic graphs, thus we apply our method to heterophilic graphs. Specifically, we employ two state-of-the-art Graph Neural Network (GNN) models known for their efficacy on heterophilic graphs, namely ACMGCN and GCNII, along with MLP. Incorporating our structure-aware code embeddings, we evaluate these models on two challenge datasets\u2014Texas and Cornell. \nThe results of these experiments, displayed below, demonstrate that our graph VQ-VAE **can generalize to different heterophilic GNN/MLP architectures and consistently improve their performances**. These remarkable results underscore the effectiveness of our method in effectively capturing local structural information, and demonstrate the versatility and broad applicability of our proposed approach across different graph domains. **We have added this part into the updated manuscript.**\n\n| Dataset | ACMGCN | ACMGCN with Graph VQ-VAE | MLP   | MLP with Graph VQ-VAE | GCNII | GCNII with Graph VQ-VAE |\n| :-----| :----: | :-----:| :----: | :-----:|  :-----:| :----: | \n| texas   | 86.49  | **87.03**      | 75.68 | **77.93** | 76.73 | **79.04**    |\n| cornell | 84.05  | **84.59**          | 76.38 | **78.29** | 76.49 | **78.29**    |\n\n**Q3: The authors propose a generative approach learn codebook embedding. Is there any other way to learn the codebooks (such as self-supervised learning paradigm) or use other generative models (such as GAN) ?**\n\nA3: Any self-supervised learning or generative modeling methods that use graph reconstruction objective can learn a structure-aware codebook for graph data. However, self-supervised learning methods with mask-prediction can **only recover partial structures** which are not expressive enough for a structure-aware codebook. Other generative models like GAN pay more attention to how to learn **a good decoder not a good encoder (codebook)**. In contrast to them, our graph VQ-VAE effectively combine  representation learning with generative modeling for learning a expressive codebook that maximally preserves the entire graph structures."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700235349612,
                "cdate": 1700235349612,
                "tmdate": 1700235349612,
                "mdate": 1700235349612,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "4eIDsxzZ8N",
                "forum": "h6Tz85BqRI",
                "replyto": "Gq8E2KKXZN",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Gentle Reminder"
                    },
                    "comment": {
                        "value": "Dear Esteemed Reviewer 4K7i,\n\nWe sincerely appreciate the time and effort you dedicated to reviewing our paper. Your thoughtful questions and insightful feedback have been extremely beneficial. In response to your queries and concerns, we have prepared detailed answers .\n\nWe understand that you have numerous commitments, and we truly appreciate the time you invest in our work. As the discussion period is approaching its conclusion in one day, we kindly request, if possible, that you review our rebuttal at your earliest convenience.\n\nShould there be any further points that require clarification or improvement, please know that we are fully committed to addressing them promptly.\n\nThank you once again for your invaluable contribution to our research.\n\nWarm Regards, The Authors"
                    }
                },
                "number": 14,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700482394956,
                "cdate": 1700482394956,
                "tmdate": 1700574996228,
                "mdate": 1700574996228,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "0rzezA2lpb",
                "forum": "h6Tz85BqRI",
                "replyto": "Gq8E2KKXZN",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_4K7i"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_4K7i"
                ],
                "content": {
                    "title": {
                        "value": "Response to the Authors"
                    },
                    "comment": {
                        "value": "Thanks the authors for their detail responses. My concerns have been well addressed. Currently I increase my score to 8."
                    }
                },
                "number": 25,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700648027697,
                "cdate": 1700648027697,
                "tmdate": 1700648058516,
                "mdate": 1700648058516,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "vDM8VjnGHU",
            "forum": "h6Tz85BqRI",
            "replyto": "h6Tz85BqRI",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
            ],
            "content": {
                "summary": {
                    "value": "This work proposes a new method of knowledge distillation for node classification. Essentially, VQGraph incorporates a VQ-VAE to learn a codebook that represents informative local structures, and use these local structures as additional information, distilling it to student MLPs. Empirically, this approach outperforms state-of-the-art methods, in both accuracy and inference speed."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "1. Although VQ-VAE is not a new method, introducing a variant of VQ-VAE for KD for node classification sounds novel, and also make sense. \n\n2. The paper is well-written and easy to follow.\n\n3. This approach is effective under both inductive and transdutive setting, and also works well for large-scale datasets.\n\n4. The experiment is comprehensive and convincing."
                },
                "weaknesses": {
                    "value": "1. The size of codebook is sensitive to different datasets, this may introduce some practical difficulty. \n\n2. It would be better to provide a theoretical understanding of this approach."
                },
                "questions": {
                    "value": "1. It seems that for APPNP, all three KD approaches can't outperform the teacher model. Is there any discussion or explanation for this phenomenon?\n\n2. In Table 4, Only-VQ outperforms Class-based and AE+Class-based, but Only-VQ only adopts class soft labels, the VQ component helps to train the codebook, why this approach is better than the other two? Can you give some discussions on it?\n\n3. It would be better to provide an analysis what codebook entry is most informative to a class label, which can make this approach more convincing and intuitive."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt",
                        "ICLR.cc/2024/Conference/Submission477/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission477/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699374978368,
            "cdate": 1699374978368,
            "tmdate": 1700573719626,
            "mdate": 1700573719626,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "7ylRuOty5P",
                "forum": "h6Tz85BqRI",
                "replyto": "vDM8VjnGHU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer F8Tt"
                    },
                    "comment": {
                        "value": "*We sincerely thank you for your time and efforts in reviewing our paper, and your valuable feekback. We are glad to see that the proposed method is novel and makes sense, the paper is  well-written and easy to follow, this approach is effective and the experiment is comprehensive and convincing. Please see below for our responses to your comments, and **the revised texts are denoted in red**.* \n\n**Q1: The size of codebook is sensitive to different datasets, this may introduce some practical difficulty.**\n\nA1: The size of the codebook inherently possesses an optimal point, a fact substantiated by our experimental findings. Notably, this optimum tends to scale **proportionally with the growth in the number of nodes** and features within a graph. To address practical concerns, we propose an efficient approach involving **a few key steps**. Specifically, employing a binary search process, we can determine the optimal codebook size within 3-4 steps, where it can be determined **solely by convergence** without running the entire training process, especially in large-scale datasets. Meanwhile, minor adjustments to the codebook size, especially within a range not comparable with the scale of graph complexity, have negligible impact on the overall performance. This streamlined process ensures that adapting the codebook size to new datasets is both manageable and expeditious.\n\n**Q2: It would be better to provide a theoretical understanding of this approach.**\n\nA2: We provide a theoretical understanding for VQGraph, assuming the data adimts the following hierarchical generation mechanism:\n$$\\begin{array}{rl}\n  &c_i \\sim q(c_i)\\\\\\\\\n  &r_i \\sim q(r_i|c_i)\\\\\\\\\n  &G \\sim q(G|(r_1,r_2,...r_N)), \\\\\\\\\n\\end{array}$$\nwhere $c_i,r_i$ are the label and latent variable (code) for the i-th node in the graph $G=(V,A)$. In other words, we assume there exist an explicit latent representation for each node that can be used to generate the observed graph. Importantly, these code representations encode not only feature information but also structure information, so that the adjacency matrix can be generated. VQGraph can be viewed as using generative pre-training to recover the latent representation and facilitate the label prediction, as learning\n$$q(c_i|r_i)$$ is easier than learning $$q(c_1,c_2,...c_N|G) = \\int \\prod_i q(c_i|r_i)q(r_1,r_2,...r_N|G)dr$$\n\n\n**Q3: It seems that for APPNP, all three KD approaches can't outperform the teacher model. Is there any discussion or explanation for this phenomenon?**\n\nA3: This is due to the fact that the APPNP directly uses node features for prediction prior to the message passing on the graph, which is very similar to what the student MLP does in KD approaches. Therefore using APPNP as teacher model can not provide student MLP with much additional information.\n\n**Q4: It would be better to provide an analysis what codebook entry is most informative to a class label, which can make this approach more convincing and intuitive.**\n\n\n\nA4: In the training stage, we tokenize each node with different neighborhood structures as discrete codes using Graph VQ-VAE. Now we take a closer look at codebook entries for different classes on Pubmed for in-depth analysis. There is little difference in the number of codes with each class and there is a uniform distribution of the nodes for each class, demonstrating the learning capacity of our model. Meanwhile, the results  demonstrate that there is small code overlap among different classes, which indicates the code distributions learned for different classes are mutually independent. This finding validates that our graph VQ-VAE enables distinct separation of the nodes with different class labels in the representation space, facilitating a better knowledge transfer in GNN-to-MLP distillation. We have added these analysis into the updated manuscript denoted in red.\n\nCode Entries for each class of Pubmed:\n\n|              | Class 1 | Class 2 | Class 3 |\n| ------------ | ------- | ------- | ------- |\n| Code Entries | 2490    | 2623    | 2591    |\n\nNumber of overlapping codes for each pair of classes:\n\n|         | Class 1 | Class 2 | Class 3 |\n| ------- | ------- | ------- | ------- |\n| Class 1 | *       | 24      | 21      |\n| Class 2 |         | *       | 19      |\n| Class 3 |         |         | *       |"
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700235273449,
                "cdate": 1700235273449,
                "tmdate": 1700235273449,
                "mdate": 1700235273449,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "CcENjJw0ZD",
                "forum": "h6Tz85BqRI",
                "replyto": "vDM8VjnGHU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Gentle Reminder"
                    },
                    "comment": {
                        "value": "Dear Esteemed Reviewer F8Tt,\n\nWe sincerely appreciate the time and effort you dedicated to reviewing our paper. Your thoughtful questions and insightful feedback have been extremely beneficial. In response to your queries and concerns, we have prepared detailed answers .\n\nWe understand that you have numerous commitments, and we truly appreciate the time you invest in our work. As the discussion period is approaching its conclusion in three days, we kindly request, if possible, that you review our rebuttal at your earliest convenience.\n\nShould there be any further points that require clarification or improvement, please know that we are fully committed to addressing them promptly.\n\nThank you once again for your invaluable contribution to our research.\n\nWarm Regards, The Authors"
                    }
                },
                "number": 13,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700482351090,
                "cdate": 1700482351090,
                "tmdate": 1700482351090,
                "mdate": 1700482351090,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "uk2qbo7uje",
                "forum": "h6Tz85BqRI",
                "replyto": "CcENjJw0ZD",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for you detailed reply. I have some questions regarding your reply:\n\n1) Regarding the search procedure in Q1, you said that \"we can determine the optimal codebook size within 3-4 steps\", can you explain it more specific. My understandingis that you will start with some heuristic value, e.g., 128, then increase the size by a factor, say 2, then check the performance in validation set. Please correct me if I am wrong. \n\n2) Also in Q1, \"solely by convergence without running the entire training process\", does it mean you would sample a subset of training data, entire training process means entire training dataset?\n\n3) In Q4, can you please elaborate how do you define code overlap and code distributions?"
                    }
                },
                "number": 15,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700484636870,
                "cdate": 1700484636870,
                "tmdate": 1700484636870,
                "mdate": 1700484636870,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "w1lOBmjjYl",
                "forum": "h6Tz85BqRI",
                "replyto": "vDM8VjnGHU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "content": {
                    "comment": {
                        "value": "1. \"Taking the Citeseer dataset as an example, which includes 2110 nodes, we initially choose a value around the number of nodes, i.e., 2048\". But if the dataset contains hundreds of thousands nodes or even millions of nodes, would this approach consume a lot of memory, or you have other method to determine the size of the codebook?"
                    }
                },
                "number": 17,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700498274791,
                "cdate": 1700498274791,
                "tmdate": 1700498355692,
                "mdate": 1700498355692,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "qaQNa21r8V",
                "forum": "h6Tz85BqRI",
                "replyto": "m0OmtmKONW",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_F8Tt"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your clear response. Most of my concerns have been addressed. I think it is a solid work, and I raise my score to 8."
                    }
                },
                "number": 19,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700573692159,
                "cdate": 1700573692159,
                "tmdate": 1700573692159,
                "mdate": 1700573692159,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "gLV28TQrzQ",
            "forum": "h6Tz85BqRI",
            "replyto": "h6Tz85BqRI",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
            ],
            "content": {
                "summary": {
                    "value": "This paper presents a novel KD method from GNNs to MLPs to achieve the improvement of inference efficiency, where a special codebook is designed to store the graph information. Experiments on a wide range of benchmarks show its superior performance in terms of both accuracy and time cost."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- How to make MLP more aware of the graph structure is a valuable topic for better inference performance. (while is also not that addressed in this paper, see the first weakness and question below)\n- The whole paper is well structured, the explanation for each part is overall complete and clear to understand.\n- The experimental results are convincing, indeed providing many interesting observations for discussion (see questions below)."
                },
                "weaknesses": {
                    "value": "- The connection between GNNs-to-MLPs distillation and the proposal of a local-structure-aware codebook is less developed, since they are actually separate goals; more explanation is needed to make the main claim of the paper clearer.\n- In practice, one of the main concerns is that the hyper-parameter for the code distillation in equation 7 is quite small compared to the class distillation one. It makes the whole proposal more intended to be a node embedding booster for GNNs, the graph tokenizer, while the codebook is not significantly effective in the distillation phase.\n- The volume of the codebook is very likely to be the same scale as the original node features, which makes the proposal still in the trade-off of time and space cost for sure; therefore, more information about the parameter volume should be provided."
                },
                "questions": {
                    "value": "- Major\n    - In the abstract, the authors mention that 'the class space may not be expressive enough to capture numerous different local graph structures'. I am somehow confused, since it is about GNNs-to-MLPs KD, better capturing the local structure information is an issue for GNNs part, instead of KD?\n    - It is better to explain more about why it is appropriate to use VQ-VAE to encode graph structure, since it was originally designed for continuous data. For graph-structured data, it might be easier to convert to frequency information, i.e., each position in the \"codebook\" stores the volume of a specific frequency. I am just curious why VQ-VAE is suitable for encoding discrete and non-Euclidean data.\n    - According to the inner product in the reconstruction loss of equation 3 and the benchmarks used, it is quite important to emphasize that the effective domain of the proposal is probably homophilic graphs, otherwise further discussion or experiments on heterophilic graphs are necessary.\n\n- Minor\n    - What is the data set used for Figure 1? Cora? All other figures/tables need further clarification on which dataset is used.\n    - In equation 3, the node embeddings are still included, so the claimed local structural embedding is not that promising, can you compare or explain the difference of the two parts of the reconstruction function? Also, what's the nonlinear function here?\n    - Figure 2 needs improvement- In equation 7, the loss of classification and class distillation should also be clarified.\n    - The codebook does not seem to be so different from VGAE from the point of view of structure reconstruction, but the node feature reconstruction part makes it so different. Also, the graph structure part is not well designed, but an inner product.\n    - In the figures and descriptions throughout the paper, it is not fair to say that the codebook really preserves the structural information as a substructure, since it is just another integrated embedding where the identifiability of specific structure is missing, therefore it is misleading to give the local structure in Figure 2.\n    - An interesting point, which is worth to study further, is what the Figure 5(ii) implies: denser graph needs more space, which is parallel to the discovery from graph signal processing domain, that the structural information cannot be summarized only by some low-frequency filters, the high-frequency ones are also informative in such graphs."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed.",
                        "Yes, Responsible research practice (e.g., human subjects, data release)"
                    ]
                },
                "details_of_ethics_concerns": {
                    "value": "None"
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf",
                        "ICLR.cc/2024/Conference/Submission477/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission477/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699486862674,
            "cdate": 1699486862674,
            "tmdate": 1700616726272,
            "mdate": 1700616726272,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "SxF3WdUF78",
                "forum": "h6Tz85BqRI",
                "replyto": "gLV28TQrzQ",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer Cnqf (Part 1/3)"
                    },
                    "comment": {
                        "value": "*We sincerely thank you for your time and efforts in reviewing our paper, and your valuable feekback. We are glad to see that the proposed method is novel, the whole paper is well structured, the explanation is clear to understand, and the experimental results are convincing with many interesting observations. Please see below for our responses to your comments, and **the revised texts are denoted in red**.* \n\n**Q1:The connection between GNNs-to-MLPs distillation and the proposal of a local-structure-aware codebook is less developed, since they are actually separate goals; more explanation is needed to make the main claim of the paper clearer.** \n\nA1: We here clarify the connections between GNNs-to-MLPs distillation and the proposition of a local-structure-aware codebook. The primary goal of GNNs is to establish an embedding space encompassing all nodes, wherein structural information is consolidated across multiple layers of graph convolutional layers. Kindly recall that the aim of GNN-to-MLP distillation is to facilitate the transfer of sufficient structure-based information to the MLP, enabling the latter to contain graph-related information. Unlike GNNs, MLPs are inherently limited in their capacity to capture structural information independently. Therefore, the knowledge distillation process serves for transferring local structural information to the MLP. The integration (a codebook) of these local-structure-aware codes work as an explicit embedding space for storing and conveying this local structural information, thereby enhancing the MLP's capacity to acquire such knowledge.\n\n**Q2: In practice, one of the main concerns is that the hyper-parameter for the code distillation in equation 7 is quite small compared to the class distillation one. It makes the whole proposal more intended to be a node embedding booster for GNNs, the graph tokenizer, while the codebook is not significantly effective in the distillation phase.**\n\nA2: Regarding the disparity in hyperparameters between the code distillation and class distillation in Equation 7, it is critical to consider the calculation processes for both the class-based distillation loss and code-based distillation loss. The class-based distillation loss entails computing the KL divergence between the student predictions and soft labels. On the other hand, the code-based loss involves comparing the target node representations with all M codes of the codebook embeddings. \nIt is deserved to notice that **the class number and code number are extremely different regarding the order of magnitude**, which results in a considerable scale gap of approximately 10^7-fold in large-scale datasets. Consequently, despite the smaller hyperparameter, the corresponding code distillation loss is proportionally larger, effectively ensuring that **the gradients** propagated during backpropagation are maintained **at a comparable level with class distillation loss**.\n\n**Q3: The volume of the codebook is very likely to be the same scale as the original node features, which makes the proposal still in the trade-off of time and space cost for sure; therefore, more information about the parameter volume should be provided.**\n\nA3: Indeed, the trade-off between time and space costs is a long-term challenge in designing efficient graph neural network architectures. From this perspective, our proposed VQGraph is able to effectively capture the structural diversity of graph data with a compact codebook. Our method focuses on achieving a balance where the size of the codebook is sufficiently large to encapsulate the essential substructure patterns yet remains much smaller than the original substructures in graph data. The codebook\u2019s volume is not directly proportional to the original node features but is mainly determined by the complexity of the graph data, considering both nodes and edges which produce different local substructures. Taking Cora dataset for example, while the **codebook size is 2048**, this allows us to efficiently represent a manifold larger number of possible 1-hop substructures. Considering Cora\u2019s 2485 nodes with an average degree of about 4, there is **a theoretical limit of ( O(2485^4) ) distinct 1-hop substructure patterns**. Thus, our codebook provides a highly compressed representation that encapsulates these patterns with a significantly lower memory footprint.\nMoreover, the empirical performance of our method demonstrates that despite the compact size of the codebook, there is no compromise on the expressiveness and the ability to facilitate meaningful representations. We want to highlight that the codebook size represents a new effective embedding space that strikes a balance between memory efficiency and the capacity to represent diverse structural information."
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700234749685,
                "cdate": 1700234749685,
                "tmdate": 1700234749685,
                "mdate": 1700234749685,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "8LP6B8880s",
                "forum": "h6Tz85BqRI",
                "replyto": "gLV28TQrzQ",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer Cnqf (Part 2/3)"
                    },
                    "comment": {
                        "value": "**Q4: It is better to explain more about why it is appropriate to use VQ-VAE to encode graph structure, since it was originally designed for continuous data. For graph-structured data, it might be easier to convert to frequency information, i.e., each position in the \"codebook\" stores the volume of a specific frequency. I am just curious why VQ-VAE is suitable for encoding discrete and non-Euclidean data.**\n\nA4: Whether it is for continuous data or for discrete data, the core of the encoder is to learn a optimal embedding space for maximally preserving the intrinsic information of the raw data, which is also the primary goal of VQ-VAE. Thus, the utilization of VQ-VAE is essentially not related to the data format. Besides, the discrete nature of graph-structured data aligns with the VQ-VAE's ability to handle categorical and non-continuous information with indexed codes. Each position in the codebook can encapsulate essential structural information, thereby facilitating the encoding of complex graph structures.\n\n\n**Q5: According to the inner product in the reconstruction loss of equation 3 and the benchmarks used, it is quite important to emphasize that the effective domain of the proposal is probably homophilic graphs, otherwise further discussion or experiments on heterophilic graphs are necessary.**\n\nA5: Capturing local structures is also crucial for heterophilic graphs, thus we apply our method to heterophilic graphs. Specifically, we employ two state-of-the-art Graph Neural Network (GNN) models known for their efficacy on heterophilic graphs, namely ACMGCN and GCNII, along with MLP. Incorporating our structure-aware code embeddings, we evaluate these models on two challenge datasets\u2014Texas and Cornell. \nThe results of these experiments, displayed below, demonstrate that our graph VQ-VAE **can generalize to different heterophilic GNN/MLP architectures and  consistently improve their performances**. These remarkable results underscore the effectiveness of our method in effectively capturing local structural information, and demonstrate the versatility and broad applicability of our proposed approach across different graph domains. Moreover, We want to emphasize that the inner product is **specifically for measuring the relationships between neighboring nodes, not specifically for homophilic graphs**. And it can be replaced by any non-parametric or parameterized relation measurements. **We have added this part into the updated manuscript.**\n\n| Dataset | ACMGCN | ACMGCN with Graph VQ-VAE | MLP   | MLP with Graph VQ-VAE | GCNII | GCNII with Graph VQ-VAE |\n| :-----| :----: | :-----:| :----: | :-----:|  :-----:| :----: | \n| texas   | 86.49  | **87.03**      | 75.68 | **77.93** | 76.73 | **79.04**    |\n| cornell | 84.05  | **84.59**          | 76.38 | **78.29** | 76.49 | **78.29**    |\n\n**Q6: What is the data set used for Figure 1? Cora? All other figures/tables need further clarification on which dataset is used.**\n\nA6: We appreciate your attention to detail and apologize for any confusion. The dataset employed for Figure 1 and Figure 4 is Citeseer. In our paper, we have provided the datasets used for other figures and tables.\n\n**Q7: In equation 3, the node embeddings are still included, so the claimed local structural embedding is not that promising, can you compare or explain the difference of the two parts of the reconstruction function? Also, what's the nonlinear function here?**\n\nA7: Certainly. In the early stages of our experiments, we conducted comprehensive ablation studies on the distinct components of our reconstruction function. The result is presented in the following table. From the result, it is obvious that the edge reconstruction segment is significantly better than the node embeddings in terms of its contribution to the overall performance. While the node embeddings does lead to a certain improvement in results, we include them in our reconstruction loss for better results. The nonlinear function here is the sigmoid function. \n\n| Dataset    | Only node reconstruction | Only edge reconstruction | node reconstruction+edge reconstruction |\n| :----: | :----: | :----: | :----: | \n| Citeseer   | 74.84                    | 75.56                    | 76.09                                   |\n| Pubmed     | 77.52                    | 78.10                    | 78.40                                   |\n| Cora       | 83.15                    | 83.72                    | 83.93                                   |\n| A-computer | 84.16                    | 85.03                    | 85.17                                   |\n| A-photo    | 93.63                    | 94.15                    | 94.21                                   |\n| Arxiv      | 71.17                    | 72.19                    | 72.43                                   |\n| Products   | 78.40                    | 78.84                    | 79.17                                   |"
                    }
                },
                "number": 4,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700235043608,
                "cdate": 1700235043608,
                "tmdate": 1700235203149,
                "mdate": 1700235203149,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "7WqXFFraHw",
                "forum": "h6Tz85BqRI",
                "replyto": "gLV28TQrzQ",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer Cnqf (Part 3/3)"
                    },
                    "comment": {
                        "value": "**Q8: Figure 2 needs improvement- In equation 7, the loss of classification and class distillation should also be clarified.**\n\nA8: We have updated Figure 2 in the updated manuscript according to your suggestions.\n$L_{cls}$ is the cross-entropy loss between the MLP prediction $\\hat y_{{v}\n}$ and the class label $y_{v}$.\n$L_{labeldistill}$ is the KL-divergence loss between the student prediction $\\hat y_{v}$ and the soft label $y^{soft}_{v}$\n\n**Q9: The codebook does not seem to be so different from VGAE from the point of view of structure reconstruction, but the node feature reconstruction part makes it so different. Also, the graph structure part is not well designed, but an inner product.**\n\nA9: The critical difference between our graph VQ-VAE and VGAE is that VQ-VAE utilizes an explicit latent space (codebook) for enhancing the structure-aware graph representation learning while VGAE learns an implict latent space for graph generative modeling. The former focuses on learning a better graph encoder and the latter pays more attention to a better graph decoder (generator). From this perspective, it is reasonable to use a somple inner product as graph decoder in training our graph VQ-VAE, because a well-designed decoder would make the model to **depend heavily on the decoder** to reconstruct graph structures, thus limiting the sufficient learning of graph encoder.\n\n\n**Q10: An interesting point, which is worth to study further, is what the Figure 5(ii) implies: denser graph needs more space, which is parallel to the discovery from graph signal processing domain, that the structural information cannot be summarized only by some low-frequency filters, the high-frequency ones are also informative in such graphs.**\n\nA10: We are delighted to discover that our findings align with those in the graph signal processing domain. Indeed, low-frequency filters excel at capturing smooth or slow-changing signal shifts, while high-frequency filters are informative for capturing fast-changing signal shifts within a graph.In real-life production scenarios, incorporating these high-frequency filters with graph signal learning can greatly enrich the representation of local structures, which are often diverse in large graphs. \n\nTo further extend our framework, we believe it can be applied to other domains as well. For instance, we can employ a 2-way tokenizer to encode the local shifting structures into codebooks. This constraint serves as a regularization function, guiding the model to focus on the \"most important\" substructure information that best reconstructs the graph. In this approach, we could utilize separate codebooks for low-frequency and high-frequency filters, allowing for different codebook sizes. We assign a smaller codebook to low-frequency filters to facilitate overall and smooth learning, while allocating a larger codebook to high-frequency filters to capture more detailed and localized information. By employing this strategy, we aim to capture both the local and global structural information embedded within graph signals.\n\nIn summary, our framework not only aligns with insights from the graph signal processing domain but also presents opportunities for further exploration. By incorporating a 2-way tokenizer and utilizing separate codebooks for low- and high-frequency filters, we can enhance the representation of both global and local structures in various domains."
                    }
                },
                "number": 5,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700235181658,
                "cdate": 1700235181658,
                "tmdate": 1700235181658,
                "mdate": 1700235181658,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "mSuWVW4IB4",
                "forum": "h6Tz85BqRI",
                "replyto": "gLV28TQrzQ",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Gentle Reminder"
                    },
                    "comment": {
                        "value": "Dear Esteemed Reviewer Cnqf,\n\n\nWe sincerely appreciate the time and effort you dedicated to reviewing our paper. Your thoughtful questions and insightful feedback have been extremely beneficial. In response to your queries and concerns, we have prepared detailed answers .\n\nWe understand that you have numerous commitments, and we truly appreciate the time you invest in our work. As the discussion period is approaching its conclusion in one day, we kindly request, if possible, that you review our rebuttal at your earliest convenience.\n\nShould there be any further points that require clarification or improvement, please know that we are fully committed to addressing them promptly.\n\nThank you once again for your invaluable contribution to our research.\n\nWarm Regards,\nThe Authors"
                    }
                },
                "number": 10,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700482182485,
                "cdate": 1700482182485,
                "tmdate": 1700575044285,
                "mdate": 1700575044285,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "3xoTCAWXZT",
                "forum": "h6Tz85BqRI",
                "replyto": "mSuWVW4IB4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
                ],
                "content": {
                    "title": {
                        "value": "Response"
                    },
                    "comment": {
                        "value": "Dear all authors,\n\nThank you for your comprehensive response to my concerns, especially the details about the parameters, the heterophilicity experiments, and the comparison of edge/node reconfiguration contributions. However, my concerns with this paper remain twofold:\n\n- First, the motivation of the codebook does not seem to be directly related to the purpose of KD, as it is not specialized in extracting information from GNNs-to-MLPs but more from graphs to representation models. So, the proposed methodology is actually a scheme to enhance the GNN model, rather than specifically targeting the KD part; it is somehow disconnected from the title.\n- The connection between VQ-VAE and graph structure representation lacks further explanation, especially the intuition behind it, i.e., how a piece of code in the codebook relates to the graph structure, and it would be desirable to have some empirical results to help the reader understand this connection and to make the approach more rational. As it stands, the explanations provided from the perspective of representation learning are too general.\n\nBased upon the above questions are not appropriately aggressed, I would rather keep my score. The author's follow-up response will also be considered.\n\nBest,"
                    }
                },
                "number": 21,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700607883621,
                "cdate": 1700607883621,
                "tmdate": 1700607883621,
                "mdate": 1700607883621,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "d4SZR4jlJ9",
                "forum": "h6Tz85BqRI",
                "replyto": "pEhcFXxJBA",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_Cnqf"
                ],
                "content": {
                    "title": {
                        "value": "Response"
                    },
                    "comment": {
                        "value": "I am grateful to the authors for providing a further explanation, which this time is more helpful in resolving these two issues, especially since the supplementary experiments in Figure 6 provide consistent evidence. However, for the first issue, despite the second point of the explanation certainly answered my question, the two phases remain entangled as the codebook has been necessary. \n\nAnyways, since most of my concerns are addressed, and I would like to raise my score to 6. Good luck!"
                    }
                },
                "number": 23,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700616709668,
                "cdate": 1700616709668,
                "tmdate": 1700616709668,
                "mdate": 1700616709668,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "0E81n6EUG4",
            "forum": "h6Tz85BqRI",
            "replyto": "h6Tz85BqRI",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission477/Reviewer_12WL"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission477/Reviewer_12WL"
            ],
            "content": {
                "summary": {
                    "value": "This paper proposes a GNN-to-MLP distillation approach. During the teacher GNN training, a series of code embeddings are jointly optimized using a reconstruction loss, to make them encode local graph structures. The divergence between the soft code assignment of the teacher GNN and that of the student MLP is used as additional supervision for distillation. The proposed approach outperforms the teacher GNN and other existing GNN-to-MLP distillation methods in both transductive and inductive settings."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The proposed approach is novel compared with existing GNN-to-MLP distillation methods.\n- Experimental results are good, consistently better than NOSMOG\n- Additional ablation studies"
                },
                "weaknesses": {
                    "value": "- Some details of the experimental setup are not clear enough to me. As far as I understand from the paper, in the inductive setting,  $G^L \\cup G^U_{obs}$ is used for training the teacher GNN and for distillation. True labels $Y^L$ are used to train the teacher but are not used in distillation. Is it right? The paper mentions that \"the edges between $G^L \\cup G^U_{obs}$ and $G^U_{ind}$ are removed in training, while they are leveraged during inference to transfer positional features via average operator\". What does this mean? Do you augment the node feature with the features of its neighbors for inference?\n- What the student MLP can learn from distillation is ambiguous. Suppose two nodes have the same private feature but different neighborhoods, the teacher GNN would generate different representations and different soft code assignments for these two nodes. However, in distillation, the student MLP would always generate the same representation and soft code assignment for these two nodes (since they have the same private feature). As a result, the student MLP cannot learn their structural difference from the teacher"
                },
                "questions": {
                    "value": "Please see Weaknesses"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 5,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission477/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1699599869020,
            "cdate": 1699599869020,
            "tmdate": 1699635974128,
            "mdate": 1699635974128,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "uPVVvrMk8j",
                "forum": "h6Tz85BqRI",
                "replyto": "0E81n6EUG4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer 12WL"
                    },
                    "comment": {
                        "value": "*We sincerely thank you for your time and efforts in reviewing our paper, and your valuable feekback. We are glad to see that the proposed method is novel, the experimental results are good, and the ablation studies are adequate. Please see below for our responses to your comments, and **the revised texts are denoted in red**.* \n\n**Q1: Some details of the experimental setup are not clear. Are true labels $Y_L$ used to train the teacher but not used in distillation? Do you augment the node feature with the features of its neighbors for inference?** \n\nA1:  In our inductive experimental settings, we align with the framework established by NOSMOG [1] to ensure a fair comparison. \n\n* To clarify, we utilize true labels $Y_L$ for both training the teacher GNN and for GNN-to-MLP distillation process. In training the student, we employ soft labels and soft code assignments within the labeled and observed subsets to compute the class-based distillation loss and the code-based distillation loss. The classification loss is defined as the cross-entropy loss between the MLP prediction and the true labels $Y_L$. \n\n* Indeed, in the inference process, we adopt the practice of augmenting the node feature with its neighbors' features, in line with the approach outlined in NOSMOG and  DeepWalk. This augmentation strategy aims to provide nodes with additional information, thereby enriching the inferencing capabilities. With this methodology, we aim to circumvent potential limitations, such as the occurrence of nodes with identical features but dissimilar neighbors, a scenario that could pose challenges for the MLP in effectively processing the information. This instance directly addresses the concern raised in your second question, and our elucidation stands as follows.\n\n**Q2: What the student MLP can learn from distillation is ambiguous. Suppose two nodes have the same private feature but different neighborhoods, the teacher GNN would generate different representations and different soft code assignments for these two nodes. However, in distillation, the student MLP would always generate the same representation and soft code assignment for these two nodes (since they have the same private feature). As a result, the student MLP cannot learn their structural difference from the teacher**\n\nA2: It is true that in distillation, the student MLP, based solely on node features, may not fully capture the structural differences as revealed by the teacher GNN. However, it is important to note that knowledge distillation (KD) establishes statistical correlations between node features and structure, allowing partial structural information to be recovered from node features alone. The extreme case presented, where two nodes have exactly same features but different neighbors, is indeed rare, as in many real-world scenarios, node features are diverse and distinct. For instance, in citation networks, node features are often based on \u201cbag of words\u201d or \u201cword2vec\u201d, ensuring a high degree of diversity among node features. Additionally, even in cases where identical node features exist, techniques such as assigning learnable node embeddings or employing network embeddings (e.g., deepwalk, node2vec) as node features can be applied to mitigate this issue.\n\n[1] Tian Y, Zhang C, Guo Z, et al. Learning mlps on graphs: A unified view of effectiveness, robustness, and efficiency[C]//The Eleventh International Conference on Learning Representations. 2023."
                    }
                },
                "number": 2,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700234609011,
                "cdate": 1700234609011,
                "tmdate": 1700234609011,
                "mdate": 1700234609011,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "rrwfYNNHxn",
                "forum": "h6Tz85BqRI",
                "replyto": "0E81n6EUG4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Gentle Reminder"
                    },
                    "comment": {
                        "value": "Dear Esteemed Reviewer 12WL,\n\n\nWe sincerely appreciate the time and effort you dedicated to reviewing our paper. Your thoughtful questions and insightful feedback have been extremely beneficial. In response to your queries and concerns, we have prepared detailed answers .\n\nWe understand that you have numerous commitments, and we truly appreciate the time you invest in our work. As the discussion period is approaching its conclusion in one day, we kindly request, if possible, that you review our rebuttal at your earliest convenience.\n\nShould there be any further points that require clarification or improvement, please know that we are fully committed to addressing them promptly.\n\nThank you once again for your invaluable contribution to our research.\n\nWarm Regards,\nThe Authors"
                    }
                },
                "number": 11,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700482239667,
                "cdate": 1700482239667,
                "tmdate": 1700575075998,
                "mdate": 1700575075998,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "uyNzF3lpCb",
                "forum": "h6Tz85BqRI",
                "replyto": "0E81n6EUG4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Dear Reviewer 12WL:\n\nWe just want to reach out to you again and see if our response addresses your concern. Your comments really inspire us, and we are eager to continue discussing our work with you.\n\nWarm Regards,\n\nThe Authors"
                    }
                },
                "number": 27,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700709185441,
                "cdate": 1700709185441,
                "tmdate": 1700709185441,
                "mdate": 1700709185441,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "nzVbnwPZJh",
                "forum": "h6Tz85BqRI",
                "replyto": "uyNzF3lpCb",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_12WL"
                ],
                "readers": [
                    "everyone",
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Reviewers",
                    "ICLR.cc/2024/Conference/Submission477/Reviewers/Submitted",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Reviewer_12WL"
                ],
                "content": {
                    "title": {
                        "value": "Thank you! Comment by Reviewer"
                    },
                    "comment": {
                        "value": "Thank you for further clarification! So, according to the paper and the response, my understanding is that the distillation indeed has a problem that the structural difference of nodes may not be learned by the student MLP, and additional tricks like feature augmentation have to be used in practice. This would somewhat reduce the contribution of the proposed approach claimed by the paper (but I understand previous work used the same setting)\n\nI will keep my rating, but I won't object if all the other reviewers recommend acceptance."
                    }
                },
                "number": 30,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700733258672,
                "cdate": 1700733258672,
                "tmdate": 1700733258672,
                "mdate": 1700733258672,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "7sXiq4lDrz",
                "forum": "h6Tz85BqRI",
                "replyto": "0E81n6EUG4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "readers": [
                    "everyone",
                    "ICLR.cc/2024/Conference/Program_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Senior_Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Area_Chairs",
                    "ICLR.cc/2024/Conference/Submission477/Reviewers",
                    "ICLR.cc/2024/Conference/Submission477/Reviewers/Submitted",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission477/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Response to Reviewer 12WL"
                    },
                    "comment": {
                        "value": "Thanks for your response. In this paper, regarding GNN-to-MLP distillation, we strictly follow the task and experimental settings of GLNN [1] and NOSMOG [2] (ICLR 2023 notable top 25%) for fair comparisons, and we outperform them from different aspects. Besides, a more impactful contribution of our method is we find a new effective GNN representation space (i.e., the codebook) for maximally preserving diverse local graph structures, which may **not only enhance GNN-to-MLP distillation, but also benefit other GNN-based applications, such as heterophilic graphs** (as illustrated in the responses to other reviewers). We believe this would contribute to the community and we will continue to explore its new potentials. Finally, we still highly appreciate your time and effort in reviewing our paper. \n\n\n[1] Zhang S, Liu Y, Sun Y, et al. Graph-less Neural Networks: Teaching Old MLPs New Tricks Via Distillation[C]//International Conference on Learning Representations. 2022.\n\n[2] Tian Y, Zhang C, Guo Z, et al. Learning mlps on graphs: A unified view of effectiveness, robustness, and efficiency[C]//The Eleventh International Conference on Learning Representations. 2023. \n\nWarm Regards, \n\nThe Authors"
                    }
                },
                "number": 31,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission477/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700735444015,
                "cdate": 1700735444015,
                "tmdate": 1700735999783,
                "mdate": 1700735999783,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]