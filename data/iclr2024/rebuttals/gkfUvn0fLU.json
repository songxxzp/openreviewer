[
    {
        "title": "Confronting Reward Model Overoptimization with Constrained RLHF"
    },
    {
        "review": {
            "id": "pqalAgKcV0",
            "forum": "gkfUvn0fLU",
            "replyto": "gkfUvn0fLU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_FHce"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_FHce"
            ],
            "content": {
                "summary": {
                    "value": "This paper shows that over-optimizing reward models can lead to decreased performance of LLMs. The authors remedy this through constrained reinforcement learning, where the LLM is prevented from exceeding each reward model's usefulness threshold."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "- The authors address the reward model over-optimization problem with a simple constrained optimization solution.\n- The authors identify that the interaction between component RMs can influence the proxy points of the component rewards.\n- The authors experiment with a number of different constrained optimization solutions (e.g. $\\xi$-PPO, $\\mu$-PPO, etc.)\n- The authors present NM-PPO to mitigate the need for multiple runs to identify proxy points."
                },
                "weaknesses": {
                    "value": "- The method requires multiple runs to identify proxy points for each reward model. This is somewhat addressed by NM-PPO, but NM-PPO still requires some queries to the evaluation metric during training."
                },
                "questions": {
                    "value": "- I'm curious if it's necessary in practice to satisfy all constraints. For instance, I wonder how performance would be affected if only the intent constraint was satisfied, or if only the METEOR constraint was satisfied (while still identifying proxy points through considering all RMs together)\n- I'm a bit confused on why $\\mu$-PPO still performs well even though the proxy point thresholds are exceeded. I do see that the authors acknowledge this as a reason why $\\mu$-PPO may perform worse than $\\xi$-PPO, but I wonder why $\\mu$-PPO still performs well. I'm especially confused about this because in Figure 5.3 the authors show that using thresholds that are higher than the proxy point thresholds leads to much worse performance for $\\xi$-PPO. Can the authors provide an explanation for this?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Reviewer_FHce"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8460/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698714089398,
            "cdate": 1698714089398,
            "tmdate": 1699637055690,
            "mdate": 1699637055690,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "j8NhJZlRRG",
                "forum": "gkfUvn0fLU",
                "replyto": "pqalAgKcV0",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors' Response"
                    },
                    "comment": {
                        "value": "Thank you very much for your careful review and feedback! We are glad that you appreciated the simplicity of our approach, the identification of the importance of the interaction among component RMs, the breadth of our experimentation, and the efficiency of NM-PPO. We hope to address your concerns below:\n\nWeaknesses\n- Multiple runs + Ground Truth: We absolutely agree, as we note in the Discussion section of the paper. However, we stress that the need for some access to ground truth evaluation is required of all methods, including standard PPO, as it needs multiple runs to tune the fixed weights used on the component RMs. In this sense, we can interpret the results as follows: $\\xi$-PPO (and $\\mu$-PPO) improve performance relative to PPO for the same number of queries to the evaluation metric. NM-PPO also improves performance relative to PPO, although to a lesser degree than $\\xi/\\mu$-PPO, while dramatically reducing the number of required queries to the evaluation metric as well as the number of overall training steps. Detecting overoptimization without any queries to an evaluation metric would be a significant advance for any RLHF approach, but we believe it is orthogonal to our method and outside the scope of this paper. \n\n\n\nQuestions\n- Constraint Satisfaction: The answer to this depends to a large extent on the definition of \u201cnecessary.\u201d Our results indicate that the best performance is obtained when all constraints are satisfied. If the true evaluation performance is a smooth function of the component RM scores, then a subset of component RMs deviating slightly from their constraints would likely not produce a significant drop in performance. This is what appears to have occurred with $\\mu$-PPO in our case (although it should be stressed that because it is using inequality constraints, it\u2019s not violating its constraints by exceeding the intent threshold). However, this is hard to predict and would likely vary greatly across problems.\n- $\\mu$-PPO: This is likely related to the issue you raise in the previous question (and our response). $\\mu$-PPO doesn\u2019t dramatically exceed the Intent threshold, and it matches the METEOR threshold fairly accurately. In this problem, the predicted evaluation surface (Fig 3.2) is rather smooth, so this likely explains why its behavior doesn\u2019t produce a dramatic drop in performance. \n\nThank you very much once again for your time and consideration. We hope that we\u2019ve managed to address your questions and concerns. If not, please let us know and we\u2019d be more than happy to continue our discussion!"
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700268696588,
                "cdate": 1700268696588,
                "tmdate": 1700268696588,
                "mdate": 1700268696588,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "ZWcvXXH56n",
                "forum": "gkfUvn0fLU",
                "replyto": "j8NhJZlRRG",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_FHce"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_FHce"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for the discussion and for answering my questions! I will keep my score as is."
                    }
                },
                "number": 12,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700712372749,
                "cdate": 1700712372749,
                "tmdate": 1700712372749,
                "mdate": 1700712372749,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "UpDSEuSVvl",
                "forum": "gkfUvn0fLU",
                "replyto": "pqalAgKcV0",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Thank you!"
                    },
                    "comment": {
                        "value": "Thank you very much for your response and for helping to improve the paper!"
                    }
                },
                "number": 15,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700736226293,
                "cdate": 1700736226293,
                "tmdate": 1700736279458,
                "mdate": 1700736279458,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "EQ0hw7bfpg",
            "forum": "gkfUvn0fLU",
            "replyto": "gkfUvn0fLU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_xdFb"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_xdFb"
            ],
            "content": {
                "summary": {
                    "value": "In this work, the authors improve the ability to optimize LLMs so that they are aligned with human preferences, but not overly optimized to a specific reward model (inferred via reinforcement learning from human feedback or some oracle model) or set of reward models. In this work, the authors identify the points of overoptimization, termed proxy points, and use constrained optimization to ensure that each reward model reaches, but does not surpass the proxy point. The authors explore two different approaches to determining proxy points and display that the proposed technique can avoid overoptimization and improve performance. The authors present detail regarding related work, their approach for determining proxy points, the proposed method, and a thorough evaluation section."
                },
                "soundness": {
                    "value": "4 excellent"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "4 excellent"
                },
                "strengths": {
                    "value": "+ This paper is extremely well-written and contains sufficient related work and explanation to understand the proposed techniques and prior work.\n+  To the best of my knowledge, the proposed technique to avoid LLM overoptimization toward composite RMs is novel.\n+ The analysis is very detailed and showcases the proposed technique works as expected\n+ As LLMs are a very popular topic now and actively being deployed, this approach tackles an important issue in optimizing and improving LLM performance toward high-performance behavior."
                },
                "weaknesses": {
                    "value": "- Could you comment on how easy it is to identify the proxy point? In larger or multi-topic datasets, would determining a proxy point be more difficult?\n- While the paper does contain much information, a lot of important information is in the appendix that would benefit from also appearing briefly in the paper. On that thread, it would be beneficial to highlight important details in D.2. Is there a specific feature of the sample outputs you are attempting to highlight?"
                },
                "questions": {
                    "value": "- Could you comment on how the results may differ for newer, more high-performing LLMs (e.g., GPT-4)?\n\n- Could you also address the questions in the weaknesses above?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Reviewer_xdFb"
                    ]
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8460/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698816125804,
            "cdate": 1698816125804,
            "tmdate": 1699637055573,
            "mdate": 1699637055573,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "7ygGv6wgk6",
                "forum": "gkfUvn0fLU",
                "replyto": "EQ0hw7bfpg",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors' Response"
                    },
                    "comment": {
                        "value": "Thank you very much for your detailed review! We\u2019re glad you liked the paper and found it to be well-written, novel, containing thorough analysis, and of importance to the field. We hope to address your concerns below: \n\nWeaknesses\n- Proxy Point Identification: The difficulty of finding proxy points is likely more a function of the number of component RMs and their interaction with each other rather than dataset or model size. The first method in the paper (find proxy points, then optimize) is simple but expensive due to the number of runs required. (Regular PPO is also expensive in this way, because we need to search for the best fixed weighting on RMs.) NM-PPO makes this process much more efficient, but since it\u2019s a local hill-climbing algorithm, there\u2019s no guarantee that it\u2019ll reach the globally optimal set of proxy points. We think improving this is an exciting direction for future work!\n- Paper Length and Sample Outputs: We absolutely agree regarding the length of the paper! Is there anything in particular that\u2019s in the appendix that you would like to see in the main text?  Regarding the sample outputs, we were simply hoping to highlight the fact that high METEOR and intent scores do not necessarily correlate with high evaluation scores, a sign of overoptimization. We have added outputs from NM-PPO, as well as the component RM and evaluation ratings for each response to emphasize this. \n\n\n\nQuestions\n- Transferability of Results: We don\u2019t know exactly how GPT-4 was finetuned, but in principle this method should be effective for any RLHF approach. Methods like NM-PPO which eliminate the need for multiple runs and reduce the overall number of queries to the ground truth evaluation metric would be especially helpful at that scale. \n- Weaknesses: We hope we have!\n\nThank you very much once again, and we hope we have adequately addressed your questions and concerns!"
                    }
                },
                "number": 5,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700268621357,
                "cdate": 1700268621357,
                "tmdate": 1700268621357,
                "mdate": 1700268621357,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "OmblX34irB",
                "forum": "gkfUvn0fLU",
                "replyto": "7ygGv6wgk6",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_xdFb"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_xdFb"
                ],
                "content": {
                    "title": {
                        "value": "Rebuttal Response"
                    },
                    "comment": {
                        "value": "Thank you for your response! Your responses have addressed my questions and concerns."
                    }
                },
                "number": 9,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700580790282,
                "cdate": 1700580790282,
                "tmdate": 1700580790282,
                "mdate": 1700580790282,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "mxxo7KAROf",
            "forum": "gkfUvn0fLU",
            "replyto": "gkfUvn0fLU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_kPJr"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_kPJr"
            ],
            "content": {
                "summary": {
                    "value": "This paper provides a novel analysis of overoptimization in the context of RLHF with multiple proxy reward functions, identifying their termed \"proxy points\" of overoptimization. The proxy point is a threshold at which further increasing the proxy reward results in decreased ground-truth performance. Their primary contribution is to introduce constrained RL approaches that incorporate these points into optimization objectives. Additionally, they demonstrate how a derivative-free optimization method can be used to dynamically identify the proxy points in a single run."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "**Originality**\n\nThe paper presents a unique framework that introduces the concept of \"proxy points\" to address overoptimization in an environment with multiple proxy reward models and a given ground-truth reward model. This novel idea of defining a threshold for proxy rewards, ensuring that they don't exceed the proxy point, is a commendable original contribution to the field of RLHF. \n\n**Quality**\n\nThe authors have validated the effectiveness of the proposed approach through empirical experiments. The application of a local hill-climbing algorithm, the Nelder-Mead threshold search, is also shown and validated through numerical experiments.\n\n\n**Significance**\n\nIn the broader perspective of RLHF, managing overoptimization is a critical challenge. By estimating the thresholds that may cause a drop in performance and incorporating them in the optimization process, this paper makes a significant stride in improving the robustness and reliability of reinforcement learning models."
                },
                "weaknesses": {
                    "value": "- One significant limitation, as acknowledged by the authors themselves, is the assumption of the availability of the ground-truth reward model in RLHF. While such an assumption of the gold reward model aids in understanding and analyzing overoptimization as in Gao+ 2022, its actual use within RLHF algorithms seems impractical.\n\n- The evaluation metric described in Section A.2 is aimed at respecting both the METEOR and intent reward functions in light of Goodhart's Law. While the authors have meticulously chosen metrics from two categories - lexical quality and text diversity, there seems to be a lack of in-depth discussion about its relevance and applicability in the context of LLM-based RLHF. Drawing insights from works such as the one by Maynez et al. (Benchmarking Large Language Model Capabilities for Conditional Generation, ACL 2023) could have provided a clearer perspective on how well the proposed metric aligns with the requirements and challenges of LLM.\n\n- The lack of detailed descriptions and elaborations of the specific methodologies presented in Table 1 raises concerns about the paper's clarity. One might find it challenging to grasp the proposed approach without sufficient explanations."
                },
                "questions": {
                    "value": "- On the Validity of Evaluation Metric (Equation A.1):\n  - How did the authors determine that the evaluation metric chosen in Equation A.1 accurately represents the efficacy of the proposed method?\n  - Were there other potential metrics considered? If so, could the authors elucidate the rationale behind the chosen metric over others?\n  - Are there any design principles or guidelines followed when setting this metric? The significance of this setting in the proposed method seems critical, and a clearer explanation would be beneficial.\n\n- Regarding mixed advantages right after Equation (4.3): Shouldn't the term v_\u00b5(s) encompass the second term from Equation (4.3)?\n\n- I understand that PPO-SAT adheres to the Lagrangian multipliers method for equality constraints and thus the weights of RMs will be adjusted based on how well the constraints are met. However, in Section 5, the authors mentioned that the RM weightings in PPO-SAT are fixed. Can you please provide clarity on the workings of PPO-SAT?\n\n- In Figure D.2, for All-PPO, why is the tanh function used for constraints that seem to be inequality constraints? This appears to be inconsistent with the explanation provided in Section 4 of the main text."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Reviewer_kPJr",
                        "ICLR.cc/2024/Conference/Submission8460/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8460/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698849330924,
            "cdate": 1698849330924,
            "tmdate": 1700707405555,
            "mdate": 1700707405555,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "u6DRYe6qUk",
                "forum": "gkfUvn0fLU",
                "replyto": "mxxo7KAROf",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors' Response"
                    },
                    "comment": {
                        "value": "Thank you very much for your careful review and helpful feedback! We are glad that you found the paper to be an original contribution, of high quality, and a significant stride towards improving RLHF. We aim to address your concerns below:\n\nWeaknesses\n- Querying the Evaluation Metric: We absolutely agree that the need to query a ground truth model is a weakness. However, as we note in the paper, this requirement is common to all the methods considered, including PPO (which requires access to the evaluation metric to tune the RM weightings). There\u2019s currently no way to determine if overoptimization is happening without some access to ground truth evaluation. One possible route would be to make use of AI feedback (RLAIF). Such an advance would be orthogonal to the aim of this paper (and would benefit both our approach and standard PPO), and we believe it is outside the scope of this work. \n- Contextualizing the Evaluation Metric: We thank the reviewer for the reference. We found the paper insightful and have worked it into Section A.2 with a more in-depth discussion. We'd like to emphasize that the main desideratum for our evaluation metric was that it could be overoptimized in the RLHF process. In the context of the findings of Maynez et al., we note our work differs in considering RLHF on dialogue tasks, rather than open-ended natural language generation. Due to the structured nature of the task, models rarely break from the format (see generation examples in Appendix D), which permits the use of overlap metrics. To ensure relevance to the ground truth outputs, we used ROUGE2 (like Maynez et al.) in combination with some other metrics. The main difference in our evaluation metrics are the diversity metrics, which were chosen since degeneration is a common problem when finetuning language models [1]. We are excited by future extensions of our work to larger models, and more sophisticated tasks (like summarization), which would necessitate evaluations like those suggested by Maynez, et al.\n- Detailing Methodologies: Thank you for this observation! Algorithm 1 in the paper appendix comprises a detailed procedure which can be used to implement $\\mu$-PPO and $\\xi$-PPO, and Algorithms 2 and 3 describe the overall two-phase procedure for identifying and leveraging proxy points and NM-PPO, respectively. In addition, we included the code implementing these algorithms in the supplementary material. In the revision, we have added additional references to the algorithm descriptions in the main text as well as a description of PPO-SAT in Algorithm 2. We hope this improves the clarity of the proposed approaches! \n\nQuestions\n- Evaluation Metric: Thank you for this question! As noted above, the evaluation metric was selected because it was overoptimized (i.e., obeyed Goodhart\u2019s Law) with respect to each of the component RMs. That is, we wanted an evaluation metric that would initially increase as METEOR and intent scores increased, but would begin to decrease after a certain point, much as human evaluation ratings initially correlate with RM scores and then decline. To design this metric, we tested a number of combinations of other metrics (those included in Figure D.1), and found that the combination described in Appendix A.2 most closely adhered to the pattern of overoptimization with respect to METEOR and intent. That is, the evaluation metric was not directly chosen to simulate human preferences, but rather the way human ratings change as component RMs increase.  \n- Value Function: The value expression is correct, as it measures the expected, discounted, cumulative reward with respect to the Lagrange multipliers. Furthermore,    $\\sum_{i=1}^N \\mu_i \\theta_i$ is not a (directly) policy-dependent term.\n- PPO-SAT: We apologize for the misunderstanding! PPO-SAT is not a Lagrangian method, it sets the reward signal equal to the weighted sum of the squared errors of each RM from its corresponding proxy point, and the weights on each of these errors is fixed. It can be seen as standard PPO with a modified reward function that takes into account proxy points. We have added Algorithm 2 to the appendix, which describes this procedure in greater detail. \n- Figure D2: Thank you for catching this mistake! We mistakenly applied the wrong transformation to the saved Lagrange multiplier data, but the result is consistent. We have updated the plot in the revision accordingly and added results from $\\mu$-PPO and $\\xi$-PPO for comparison. \n\nThank you very much once again for your feedback and review! We hope that the changes made and responses above have addressed your concerns. If that\u2019s not the case, we\u2019re more than happy to continue discussing. \n\n[1] Khalifa, M., Elsahar, H., & Dymetman, M. (2020, October). A Distributional Approach to Controlled Text Generation. In International Conference on Learning Representations."
                    }
                },
                "number": 4,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700268561992,
                "cdate": 1700268561992,
                "tmdate": 1700507490058,
                "mdate": 1700507490058,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "yKi2smwlUQ",
                "forum": "gkfUvn0fLU",
                "replyto": "u6DRYe6qUk",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_kPJr"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_kPJr"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for the revisions and detailed responses to the review comments. The responses have largely resolved my questions and concerns, and the revisions have notably improved the paper.\n\nHowever, I remain concerned about the high reliance on ground truth evaluation for proxy point estimation in the RLHF framework. While some dependence on ground truth is understandable, the extent of this reliance in your method may limit its practicality in scenarios where true ground truth evaluations are challenging to obtain.\n\nNonetheless, the introduction of \"proxy points\" is a valuable advancement in RLHF. Considering the overall contributions and improvements in the revised paper, I will raise my score by one level."
                    }
                },
                "number": 11,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700707379541,
                "cdate": 1700707379541,
                "tmdate": 1700707379541,
                "mdate": 1700707379541,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "tgzsi6LbPQ",
                "forum": "gkfUvn0fLU",
                "replyto": "mxxo7KAROf",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Thank you!"
                    },
                    "comment": {
                        "value": "Thank you very much! We fully agree that reducing dependence on costly evaluations is important for RLHF, and hope to address this problem further in future work. To further study this dependence in our setting, we added an additional plot (Figure D.7) which examines the effect of the number of queries per run (in the non-Nelder Mead-based approach) on the predicted evaluation surface. We appreciate your time and help in making the paper better."
                    }
                },
                "number": 14,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700736199695,
                "cdate": 1700736199695,
                "tmdate": 1700736260418,
                "mdate": 1700736260418,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "uYnKcSjzru",
            "forum": "gkfUvn0fLU",
            "replyto": "gkfUvn0fLU",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_uRgS"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission8460/Reviewer_uRgS"
            ],
            "content": {
                "summary": {
                    "value": "The authors analyze the problem of reward model over parameterization in the context of composite reward functions. They propose a method of identifying the points of over parameterization or proxy points taking into account the correlations between reward models. Once these proxy points are determined, the authors propose several constrained RL approaches which incorporate these points into the optimization objective."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "1. The analysis of the over parameterization of composite reward functions in interesting and of importance to LLM-Alignment\n2. The proposed derivative free optimization method, NM-PPO is novel and computationally efficient.   \n3. The paper is generally well written and easy to follow."
                },
                "weaknesses": {
                    "value": "**Determining the joint maximizing point seems heuristic**\n\nTo determine the joint maximizing proxy point, the evaluation scores as a function of the METEOR and intent rewards for each run shown in Fig. 3.1 are plotted and a surface is fit over them. But these evaluations were done by maximizing each reward individually, without account of any interaction. Thus using these to determine the joint maximizing point seems heuristic at best. \n\nIn other words, if the ultimate objective is to determine the weighting among RMs to find the combination which produces the best correlation with ground truth evaluation, and to fine-tune the language model until it reaches  the proxy points of this composite RM, the proxy points obtained using the method outlined in the paper may not align with this desired outcome."
                },
                "questions": {
                    "value": "1. **Proxy Points** \n    1. How and how many times is the ground truth evaluation function queried to determine the maximizing proxy point? (For results in Fig 3.2 and 5.1)\n    2. How is line 9 in algorithm 2 computed?\n    3. Why is KL regularization not used to determine the proxy points? (results in Fig 3.1)\n2. In Fig 5.1 (right) the performance of $\\xi-$PPO drops after about 180k training steps, are the constraints still satisfied during this stage? \n3. **Minor Points** \n    1. It would be clear if you could plot $\\xi-$PPO and $\\mu-$PPO in figure D2 for reference. It will help in understanding the instability of All-PPO.\n    2. Does All-PPO have an KL constraint?\n    3. It would be helpful if  you could plot the training curve for  NM-PPO? It would be helpful to see how the changing threshold affects the training process. \n    4. Sample outputs of NM-PPO are missing in section D.2\n    5. Could you explain the sample outputs in section D2? its hard to understand the performance of the different algorithms. It would be helpful if you could include the evaluation score and the rewards obtained as well."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission8460/Reviewer_uRgS",
                        "ICLR.cc/2024/Conference/Submission8460/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission8460/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698879140778,
            "cdate": 1698879140778,
            "tmdate": 1700503945946,
            "mdate": 1700503945946,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "R1bqfpgZql",
                "forum": "gkfUvn0fLU",
                "replyto": "uYnKcSjzru",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Authors"
                ],
                "content": {
                    "title": {
                        "value": "Authors' Response"
                    },
                    "comment": {
                        "value": "Thank you very much for your detailed and helpful review! We\u2019re glad that you appreciated our analysis of composite reward functions, the efficiency and novelty of NM-PPO, and found the paper to be well-written. We hope to address your concerns below:\n\nWeaknesses\n- Joint Proxy Point Identification: The idea behind our approach was to increase each individual RM and observe the corresponding change in the others as a way to measure their interaction. If the agent were maximizing both component RMs, then a change in one couldn\u2019t be ascribed purely to the change in the other. Additionally, the fact that NM-PPO appears to hill-climb along the topography of the predicted surface (Fig. 5.4, and Fig. D.3) can be seen as empirical validation that our approach is in fact effective at approximating the evaluation surface. Finally, given that (to our knowledge) overoptimization has not been studied in this setting before, we believe that simple yet effective heuristics offer a useful starting place for future work, both to understand their efficacy and to design improvements. We hope to continue working on this topic, as well as inspire broader follow-up work! \n\n\nQuestions\n- Proxy Points: The evaluation function is queried 20x per run in Figure 3.1. Figure 3.2 is generated using the results from the runs in Figure 3.1 (no additional queries). The algorithms do not make additional queries to the evaluation function for the results in Figure 5.1. We tested two methods for finding the maximum of the fitted evaluation function surface. First, we used the built-in implementation of L-BFGS-B in the SciPy optimization package using the results from KDE to provide bounds. Second, since the polynomial surface is approximated using a discrete mesh, we also simply picked the coordinates corresponding to the plotted maximum. There was a negligible difference between methods, so we used the second in practice. We have added this detail to the appendix. We do not use KL regularization to determine the proxy points because our goal is to isolate the influence of each component RM on the others, and KL regularization would be an additional factor influencing behavior. \n- Long Training Performance: This is a good question! Upon investigation, we found that all runs managed to continually satisfy the intent reward constraint across training, but that a single run suffered a loss of stability with respect to the METEOR reward after roughly twice the baseline training time (stability was maintained in the other seeds). This aligned with a drop in evaluation performance. We added a figure showing this, Figure D.3. \n\nMinor points:\n- Stability: We agree! We\u2019ve added these results to the figure.\n- All-PPO: Yes, it has the same KL regularization mechanism as standard PPO. We have added text clarifying this. \n- NM-PPO Curve: We agree, and have added this in Figure D.5.\n- NM-PPO Sample Outputs: Good catch, we have added this. \n- Sample Output Rationale: We have added the reward and evaluation scores for each output. Our main point of emphasis was that high METEOR and intent scores do not necessarily correlate with high evaluation scores. Because the evaluation score was selected because it can be overoptimized by METEOR and intent, rather than any specific suitability as a measure of text quality, higher evaluation scores should not be interpreted as such. We have added text to clarify this. \n\nThank you once again for your detailed review and comments! We hope our responses and the changes made address your concerns. If not, we\u2019re more than happy to continue the discussion!"
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700268424881,
                "cdate": 1700268424881,
                "tmdate": 1700268424881,
                "mdate": 1700268424881,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "GkXo9TRMVZ",
                "forum": "gkfUvn0fLU",
                "replyto": "R1bqfpgZql",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_uRgS"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission8460/Reviewer_uRgS"
                ],
                "content": {
                    "title": {
                        "value": "Rebuttal response"
                    },
                    "comment": {
                        "value": "I applaud the authors for their extensive rebuttal and the modification of their paper to include additional plots and clarifications. I have modified my score accordingly."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission8460/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700503970783,
                "cdate": 1700503970783,
                "tmdate": 1700503970783,
                "mdate": 1700503970783,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]