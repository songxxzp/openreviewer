[
    {
        "title": "Rethinking the symmetry-preserving circuits for constrained variational quantum algorithms"
    },
    {
        "review": {
            "id": "YiBf0VYvxU",
            "forum": "SL7djdVpde",
            "replyto": "SL7djdVpde",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
            ],
            "content": {
                "summary": {
                    "value": "The authors review the known Hamming Weight (HW) preserving ansatz and discuss how it fits into the dynamical Lie algebra framework of (Larocca et al., 2023). The authors give an elementary gate set that they show generates all HW preserving gates (i.e., that gives \"full controllability\"). The authors then perform numerics demonstrating the practical utility of the HW preserving ansatz."
                },
                "soundness": {
                    "value": "4 excellent"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "The authors give a nice review on the HW preserving ansatz and link it to the well-known line of results discussing when quantum machine learning (QML) models are trainable by examining their controllability. The authors also describe a set of gates to parameterize the HW preserving ansatz in a controllable way."
                },
                "weaknesses": {
                    "value": "Most of the paper is review. For instance, arXiv:2303.16585 (which the authors cite) already demonstrates that the HW preserving ansatz is efficiently trainable. Though never explicitly linked to (Larocca et al., 2023) in arXiv:2303.16585, the intuition that the trainability comes from the large symmetry of the ansatz is stated and described: see, e.g., their Figure 3."
                },
                "questions": {
                    "value": "What are some advantages to directly linking trainability to subspace controllability given the trainability of the HW preserving ansatz was already known?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr",
                        "ICLR.cc/2024/Conference/Submission3179/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3179/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1697731908487,
            "cdate": 1697731908487,
            "tmdate": 1700176053712,
            "mdate": 1700176053712,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "tZFJ2C1Iya",
                "forum": "SL7djdVpde",
                "replyto": "YiBf0VYvxU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "content": {
                    "comment": {
                        "value": ">***W1: Most of the paper is review. For instance, arXiv:2303.16585 (which the authors cite) already demonstrates that the HW preserving ansatz is efficiently trainable. Though never explicitly linked to (Larocca et al., 2023) in arXiv:2303.16585, the intuition that the trainability comes from the large symmetry of the ansatz is stated and described: see, e.g., their Figure 3.***\n\n**Ans:** Thanks for your comments. \n\n**1. We would like to first address the difference between our work and [1].**\n\n[1] proposed HW preserving circuit using existing gates (such as RBS and FBS) as orthogonal layers for quantum kernels and analyze the trainability of RBS gate. Our work, on the other hand, focuses on fully understanding the HW preserving gates so that we can construct an HW preserving gate as well as build an HW preserving ansatz. Furthermore, we focus on analyzing the capability and expressivity by giving the readers some guidance on how many layers we need to solve a certain problem. We omit the analysis of the trainability since we believe [1] has already done that. But thanks for the comments by Reviewer ADjN, we carefully reviewed the results and proof in [1] and we are surprised to find it incorrect. There are still chances that we misunderstood the calculation for the variance bound in [1], so we decided to give our own results here with a sketch proof. Detailed derivation will be included in the revision. \n\nWe first discuss the results shown in [1]. We tried the derivation of theorem 2 and find that $\\partial_lC_k=\\langle\\psi_0|(\\sigma_X^i\\otimes\\sigma_X^j+\\sigma_Y^i\\otimes\\sigma_Y^j)|\\psi_0\\rangle$ should be $1$ instead of $\\frac{1}{4}$. For the initial state in the HW k subspace, the results in [1] are $\\partial_lC_k=\\langle\\psi_k|(\\sigma_X^i\\otimes\\sigma_X^j+\\sigma_Y^i\\otimes\\sigma_Y^j)|\\psi_k\\rangle=2(\\frac{2\\tbinom{n-2}{k-1}}{\\tbinom{n}{k}})^2=\\Omega(\\frac{1}{n^6})$, where according to our derivation, the results should be $\\partial_lC_k=\\langle\\psi_k|(\\sigma_X^i\\otimes\\sigma_X^j+\\sigma_Y^i\\otimes\\sigma_Y^j)|\\psi_k\\rangle=2\\frac{2\\tbinom{n-2}{k-1}}{\\tbinom{n}{k}}$, $\\frac{\\tbinom{n-2}{k-1}}{\\tbinom{n}{k}}=\\frac{k(n-k)}{n(n-1)}$. Even if the original result is correct that $\\partial_lC_k=8(\\frac{k(n-k)}{n(n-1)})^2$, $\\partial_lC_k=\\mathcal{O}(1)$ if we take $k=n/2$, which seems incorrect. \n\n\nNow we provide the results based on our derivation. Without loss of generality, we take RBS gate as an example since [1] also derives the bound based on RBS gate. \n\n\n***Theorem 1. Consider a quantum circuit operating in the subspace with Hamming Weight $k$. The variance of the cost function partial derivative is $$Var_\\theta[\\partial_lC]\\approx \\frac{16k^2(n-k)^2}{n^4d_k}$$***\n\n*Proof.* Consider the partial derivative of the cost function $C$ with respect to the parameters $\\theta$. For some parameter $\\theta_l$ in the $l$-th RBS gate, we have:\n$$\\partial_{l} C(\\theta)=\\partial_l(Tr[U(\\theta)\\rho U(\\theta)^{\\dagger}O])$$\n$$=\\partial_l(Tr[U_-\\rho U_-^{\\dagger} O_+]) $$\n$$=iTr[U_-\\rho U_-^{\\dagger} [H_l,O_+]],$$\n\nwhere $\\rho$ is the input state, $O$ is the observable to measure, $U_-$ denotes the unitary matrix of the circuit before the $l$-th gate and $U_+$ denotes the unitary matrix after gate $l$. $O_+=U_+^\\dagger OU_+$. The variance of the partial derivative is \n$$Var_{\\theta}[\\partial_l C]=\\int_{U_+}dU_+ \\int_{{U_-}}dU_- (\\partial_l C(\\theta))^2$$\n$$=\\int_{{U_+}}dU_+ \\int_{{U_-}}dU_- (iTr[U_-\\rho U_-^{\\dagger} [H_l,O_+]])^2,$$\nwhere $[\\cdot,\\cdot]$ denotes the commutator of two matrices. \n$$Var_\\theta[\\partial_lC]=-\\int_{{U_+}}dU_+ (\\frac{Tr[\\rho^2]Tr[[H_l,O_+]^2]}{d_k^2-1}-\\frac{Tr^2[\\rho]Tr[[H_l,O_+]^2]}{d_k(d_k^2-1)})$$\n$$=-\\int_{U_+}dU_+ (Tr[ [H_l,O_+]^2] \\frac{d_k\\times Tr[\\rho^2]-Tr^2[\\rho]}{d_k(d_k^2-1)})$$\n$$=-\\frac{d_k\\times Tr[\\rho^2]-Tr^2[\\rho]}{d_k(d_k^2-1)}\\int_{{U_+}}dU_+ Tr[ [H_l,O_+]^2] .$$\nThe initial state $|\\psi_0\\rangle$ is set to be the uniform superposition over all computational basis in the $d_k$ subspace. Thus, we have $Tr[\\rho]=1,Tr[\\rho^2]=1$.\n$$Var_\\theta[\\partial_lC]=-\\frac{1}{d_k(d_k+1)}\\int_{\\mathcal{U_+}}dU_+ Tr[ [H_l,O_+]^2]$$\n$$=-\\frac{2}{d_k(d_k+1)}[Tr(H_lO_+H_lO_+)-Tr(H_lH_lO_+O_+)]$$\n$$=-\\frac{2}{d_k(d_k+1)}(\\frac{Tr[H^2_l]Tr^2[O]}{d_k^2-1}-\\frac{Tr[H^2_l]Tr[O^2]}{d_k(d_k^2-1)}-\\frac{Tr[H^2_l]Tr[O^2]}{d_k})$$\n$$=-\\frac{2Tr[H_l^2]}{d_k(d_k+1)}(\\frac{Tr^2[O]-d_k Tr[O^2]}{d_k^2-1}),$$\nwhere $Tr[H_l^2]=2*\\binom{n-2}{k-1}=\\frac{2k(n-k)}{n(n-1)}d_k$. We take $Z_0$ as the observable, then $Tr[O]=\\frac{d_k(n-2k)}{n}, Tr[O^2]=d_k$ (other observables will also hold with the same magnitude). Thus, we have\n$$Var_{\\theta}[\\partial_l C]=-\\frac{2}{d_k(d_k+1)}\\times\\frac{2k(n-k)d_k}{n(n-1)}\\times(\\frac{\\frac{d_k^2(n-2k)^2}{n^2}-d_k^2}{d_k^2-1})$$\n$$=\\frac{4k(n-k)}{(d_k+1)n(n-1)}\\times\\frac{d_k^2(n^2-(n-2k)^2)}{(d_k^2-1)n^2}$$\n$$=\\frac{16k^2(n-k)^2 d_k^2}{(d_k+1)n^3(n-1)(d_k^2-1)}\\approx \\frac{16 k^2(n-k)^2}{n^4 d_k}.$$ $\\blacksquare$"
                    }
                },
                "number": 10,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700153735356,
                "cdate": 1700153735356,
                "tmdate": 1700153735356,
                "mdate": 1700153735356,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "v51MTkfnoM",
                "forum": "SL7djdVpde",
                "replyto": "YiBf0VYvxU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
                ],
                "content": {
                    "comment": {
                        "value": "I believe the authors are referring to the final Equation in Section 4 of arXiv:2303.16585, that is, the final equation in the proof of Theorem 2. In this proof the authors of arXiv:2303.16585 are interested only in proving an asymptotic lower-bound of $\\frac{1}{n^6}$---this lower-bound agrees with yours asymptotically as $\\frac{k(n-k)}{n(n-1)}$ is asymptotically larger than $\\frac{1}{n^6}$, so I am unclear on the discrepancy.\n\nTo address the authors' other comments: I unfortunately still do not believe there is enough novelty in this work. As the authors mention, they do indeed perform additional numerical tests of the HW preserving ansatz---I have upped my contribution score accordingly---but in my opinion this is not enough to warrant acceptance. Outside of trainability, why is the HW preserving ansatz better suited for these kinds of problems rather than the finance problems considered in arXiv:2303.16585? In my opinion this essentially is just more of the same kind of numerics already previously run, just in a slightly different context."
                    }
                },
                "number": 14,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700176040975,
                "cdate": 1700176040975,
                "tmdate": 1700176072170,
                "mdate": 1700176072170,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "uU2r9D2G4r",
                "forum": "SL7djdVpde",
                "replyto": "Ew0GkWAhsj",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_obpr"
                ],
                "content": {
                    "comment": {
                        "value": "I believe the authors are misunderstanding the typical use of $\\Omega$ notation---just because the bound is not saturated (i.e., it is loose) does not mean it is not true. For instance, $n^2$ is $O(n^3)$, even though it is also $o(n^3)$. It just shows that the bound is not tight. In the case of arXiv:2303.16585 this is fine since the goal is just to show that the gradients are at least $\\sim\\frac{1}{\\operatorname{poly}(n)}$.\n\nI am also unclear on the authors' argument that arXiv:2303.16585 fails when the input does not have definite Hamming weight, as this requirement is stated in Theorem 2 of arXiv:2303.16585.\n\nAccordingly, though I agree with the authors that there are slight improvements to previously stated results, I unfortunately still disagree with the impact of the work."
                    }
                },
                "number": 22,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700608628715,
                "cdate": 1700608628715,
                "tmdate": 1700608628715,
                "mdate": 1700608628715,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "fC2gR6E18w",
                "forum": "SL7djdVpde",
                "replyto": "YiBf0VYvxU",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We would like to set the arguments regarding [1] apart since we are reviewing our work instead of [1] here, the correctness of [1] is not an issue that we should focus on. We do acknowledge that [1] is a precious work for quantum algorthms in finance problems with all the materials provided. We cite this paper with full respect and it helps us with a better understanding of the HW preserving ansatz. The improvements of our submission compared to previous works (not limited to [1]) are listed as follows:\n\n1. We thoroughly analyze the HW preserving ansatz by utilizing theoretical tools on the capability, expressivity, and trainability (with a tighter bound on the trainability than previous works).\n2. We conduct experiments on the constrained VQA problem which is well-studied and preferred by the quantum computing society and we have achieved much better and steady results.\n3. We are the first to only use HW preserving gates to accomplish the unitary approximation task indicating that a single HW preserving gate can be universal in the HW preserving subspace.\n4. We also state that parity check for bit flip error is much easier on the HW preserving ansatz, which shows the potential ability of HW preserving ansatz in the NISQ era.\n\nTherefore, we do believe that we have some improvements to the previous works. Considering the fact that you agree with the soundness (4) and presentation (3) of our work, we believe our work should be $\\Omega(5)$ in the overall rating according to your assessment. We truly hope the reviewer to \u201cBe mindful of potential biases and try to be open-minded about the value and interest a paper can hold for the entire ICLR community, even if it may not be very interesting for you.\u201d (in the reviewer guide \"reviewing a submission: step-by-step\" point 2.4)\n\n [1] Cherrat, El Amine, et al. \"Quantum Deep Hedging.\" arXiv preprint arXiv:2303.16585 (2023)."
                    }
                },
                "number": 23,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700615816896,
                "cdate": 1700615816896,
                "tmdate": 1700616395695,
                "mdate": 1700616395695,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "QLOxZQc9gD",
            "forum": "SL7djdVpde",
            "replyto": "SL7djdVpde",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_Yeih"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_Yeih"
            ],
            "content": {
                "summary": {
                    "value": "This paper studies ansatz for variational quantum algorithms with the requirement that they preserve Hamming weight. They test the expressibility for the task of unitary approximation, where they show that the expressibility of these ansatz is the same as predicted (in terms of the number of parameters needed). In addition, experiments demonstrate the effectiveness of their approach on two different tasks: ground state preparation and feature selection."
                },
                "soundness": {
                    "value": "4 excellent"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- This paper nicely summarizes and makes clear the idea of using Hamming weight (or in physics terminology, excitation) preserving ansatz for variational quantum algorithms. The numerical results verify the accuracy of the theory, which characterizes the expressibility of these ansatz.\n- The experiments are nice, showing a modest improvement over existing methods."
                },
                "weaknesses": {
                    "value": "- Typos: \"relative\" should be \"relatively\" throughout\n- Typo: In Figure 2, \"Haar measurement\" should be \"Haar measure\"\n- Typo: \"Hartree-Fork\"\n- Based on common gate sets of real machines, I feel the BS gate is quite artificial. It might make more sense to use parameterized $XX$ rotations with single-qubit $Z$ rotations. If the intention is to perform VQAs on near-term machines, then one might want to use more native instructions than the decompositions shown in Fig 5 and Fig 6.\n- Related to the above point, the decomposition of the BS gate is addressed as a possible limitation. I am pretty sure a better decomposition is possible using $XX$, $YY$ and $ZZ$ rotations.\n- I think this idea of preserving the Hamming weight is not very new, and the theoretical results are not very surprising to me. For this reason, I feel the contribution of this work is not so large, although the proposed ansatz appear to perform better than existing ones."
                },
                "questions": {
                    "value": "- In Equation 8, should the maximization be over $M$ such that $M\\geq M_c$?\n- Where does the construction for the BS gate come from?\n- Throughout this paper, it is stated that this is a \"revisiting\" of the Hamming weight preserving ansatz. What is the status of the previous work using these ansatz, and what are the specific improvements made in this paper compared to previous proposals?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "4: You are confident in your assessment, but not absolutely certain. It is unlikely, but not impossible, that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Reviewer_Yeih"
                    ]
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3179/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698440093038,
            "cdate": 1698440093038,
            "tmdate": 1699636265447,
            "mdate": 1699636265447,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "6b1ygdkkn0",
                "forum": "SL7djdVpde",
                "replyto": "QLOxZQc9gD",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "content": {
                    "comment": {
                        "value": ">***W1: Based on common gate sets of real machines, I feel the BS gate is quite artificial. It might make more sense to use parameterized XX rotations with single-qubit Z rotations. If the intention is to perform VQAs on near-term machines, then one might want to use more native instructions than the decompositions shown in Fig 5 and Fig 6.***\n\n**Ans:** Thanks for your valuable suggestion. We do acknowledge that the BS gate is quite 'artificial' since we are trying to construct a single gate that can be universal with both Nearest-Neighbor and Full-Connect connectivity. One of the key factors for HW preserving gate is that the Hamiltonian for the two-qubit parameterized gate is $$H_{HW}=\\left(\\begin{array}{cccc}\n        0 & 0 & 0 & 0\\\\\\        0 & a & b & 0\\\\\\        0 & b^\\dagger & c & 0\\\\\\        0 & 0 & 0 & 0\n    \\end{array}\\right).$$ \n\nIt is still quite hard to construct a legit Hamiltonian using XX, YY, and ZZ rotations since only ZZ rotations are HW preserving. \n\nWe could further use the combination of XX, YY, and ZZ rotations to construct HW preserving gates. As mentioned by Reviewer ADjN, XY-mixer is another well-studied HW preserving gate. The hamiltonian of XY-mixer is $H_{XY}=X\\otimes X+Y\\otimes Y$, and the unitary matrix of XY-mixer is \n$$U_{XY}=\\left(\\begin{array}{cccc}\n        1 & 0 & 0 & 0\\\\\\        0 & \\cos (\\theta) & -\\text{i}\\sin (\\theta) & 0\\\\\\        0 & -\\text{i}\\sin (\\theta) & \\cos (\\theta) & 0\\\\\\        0 & 0 & 0 & 1\n    \\end{array}\\right).$$\n    \nWe would like to point out that **the decomposed circuit of those HW preserving gates constructed with XX, YY, and ZZ is not very simple.** Take XY-mixer as an example. Although using XX+YY to construct the Hamiltonian is very elegant, the unitary matrix of the XY-mixer is not very easy to decompose (even if we have iSWAP gate on superconducting hardware). **RBS gate, on the other hand, can be a built-in gate on photonic quantum computers.** Therefore, those that are difficult to decompose on superconducting hardware might be very easy to fulfill in other quantum systems. \n\nAs we have stated right before section 5, despite the fact that RBS and XY-mixer do not have full DLA dimension, if we pick the right problem, they can also be better choices than BS gate. We could also use the combination of RBS and RZZ gates to surpass BS-gate-only circuits. BS gate is only an example to illustrate how to construct a single HW preserving gate with full DLA even under harsh conditions (nearest neighbor connectivity for physical qubits) \n\n>***W2: Related to the above point, the decomposition of the BS gate is addressed as a possible limitation. I am pretty sure a better decomposition is possible using XX, YY, and ZZ rotations.***\n\n**Ans:** Thanks for your thoughtful advice. We are seeking a better decomposition of the BS gate to make it more hardware-friendly. However, it seems hard to use XX, YY, and ZZ to decompose the Hamiltonian of the BS gate. The Hamiltonians for XX, YY, and ZZ are\n$$H_{XX}=\\left(\\begin{array}{cccc}\n        0 & 0 & 0 & 1\\\\\\        0 & 0 & 1 & 0\\\\\\        0 & 1 & 0 & 0\\\\\\        1 & 0 & 0 & 0\n    \\end{array}\\right),\\ H_{YY}=\\left(\\begin{array}{cccc}\n        0 & 0 & 0 & -1\\\\\\        0 & 0 & 1 & 0\\\\\\        0 & 1 & 0 & 0\\\\\\        -1 & 0 & 0 & 0\n    \\end{array}\\right),\\ H_{ZZ}=\\left(\\begin{array}{cccc}\n        1 & 0 & 0 & 0\\\\\\        0 & -1 & 0 & 0\\\\\\        0 & 0 & -1 & 0\\\\\\        0 & 0 & 0 & 1\n    \\end{array}\\right),\\ $$\n    \nIt seems that we can only construct HW preserving gates with $a=c$ and $b=b^\\dagger$. These gates such as XY-mixer can not reach full DLA dimension with Nearest-Neighbor connectivity. There is a chance that we misunderstood the weakness brought up by the reviewer so we are eager to hear back from you."
                    }
                },
                "number": 7,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700153418604,
                "cdate": 1700153418604,
                "tmdate": 1700153418604,
                "mdate": 1700153418604,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "hzHtkahapi",
                "forum": "SL7djdVpde",
                "replyto": "WJnGR69ZvE",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_Yeih"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_Yeih"
                ],
                "content": {
                    "comment": {
                        "value": "Thanks for the detailed responses. I'm fairly satisfied with the answers and I'll keep my score. Regarding the decomposition of the BS gate, I was mistaken when I said it could be decomposed using (only) XX, YY, and ZZ rotations, though I am still certain that better decompositions are possible depending on the native operations allowed by the hardware (which are often Pauli rotations such as XX rotations)."
                    }
                },
                "number": 19,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700421261453,
                "cdate": 1700421261453,
                "tmdate": 1700421261453,
                "mdate": 1700421261453,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "cKvRQIZmFc",
            "forum": "SL7djdVpde",
            "replyto": "SL7djdVpde",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_Eu68"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_Eu68"
            ],
            "content": {
                "summary": {
                    "value": "Different families of Hamming weight (HW) preserving quantum circuits are examined in the context of general variational algorithms. A theoretical framework is developed for understanding when a given circuit family is sufficiently expressive to generate arbitrary symmetric transformations, and these various circuit families are experimentally compared against each other and against different baseline models in a variety of problems."
                },
                "soundness": {
                    "value": "4 excellent"
                },
                "presentation": {
                    "value": "4 excellent"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "* The paper includes a large number of results of both a theoretical and experimental nature, that should be useful for someone wanting to use HW-preserving quantum circuits. Overall, this will likely encourage the use of these type of symmetric circuits in the context of more general classes of variational problems than they have been used in the past.\n\n* The experimental tasks are well chosen, with the unitary approximation, ground state energy estimation, and feature selection problems being representative of problems from quantum computing, quantum chemistry, and machine learning. The baseline methods used for comparison seem to be well chosen, and to the best of my knowledge are representative of the methods actually used in these various subject areas.\n\n* The paper is well-written, both in terms of its overall structure and its writing. Given the amount of material presented, this is critical for being able to understand the paper's results. The appendices are quite helpful for providing background and additional detail about the results."
                },
                "weaknesses": {
                    "value": "* The premise of the paper is a bit atypical for conference submissions, in that it isn't \"selling\" a new model or method developed by the authors. Rather, the goal of the paper seems to be improving the community's understanding regarding the expressivity and performance of HW-preserving circuits in general. I think this is a valuable contribution, but I could see other reviewers pointing to a lack of novelty due to this unorthodox aim.\n\n* There is a lot of material that is packed into a limited space, and while I found the presentation to help a lot with this, the results still take some time to digest and understand in detail.\n\n* Figure 4 compares a large number of different circuit ansatzes, but many of these overlap with each other and are barely visible (e.g. the RBS-full points). It would helpful to revise this figure to permit easier viewing of all of the baseline results, for example by varying the colors, size, and/or ordering of the plot markers."
                },
                "questions": {
                    "value": "I don't have any particular questions for the authors."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3179/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698817815621,
            "cdate": 1698817815621,
            "tmdate": 1699636265353,
            "mdate": 1699636265353,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "L7gPNlsb9e",
                "forum": "SL7djdVpde",
                "replyto": "cKvRQIZmFc",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "content": {
                    "comment": {
                        "value": ">***W1: The premise of the paper is a bit atypical for conference submissions, in that it isn't \"selling\" a new model or method developed by the authors. Rather, the goal of the paper seems to be improving the community's understanding regarding the expressivity and performance of HW-preserving circuits in general. I think this is a valuable contribution, but I could see other reviewers pointing to a lack of novelty due to this unorthodox aim.***\n\n**Ans:** We are grateful for your appreciation of our work. We truly hope that this work can be valued and attract more attention to HW preserving ansatz.\n\n\n>***W2: There is a lot of material that is packed into a limited space, and while I found the presentation to help a lot with this, the results still take some time to digest and understand in detail.***\n\n**Ans:** According to the suggestion from Reviewer ADjN, we have added the analysis on the trainability of HW preserving ansatz. There will be more detailed material in this paper. We will try our best to be clear and concise on the key points and provide enough theoretical backups as well.\n\n>***W3: Figure 4 compares a large number of different circuit ansatzes, but many of these overlap with each other and are barely visible (e.g. the RBS-full points). It would be helpful to revise this figure to permit easier viewing of all of the baseline results, for example by varying the colors, size, and/or ordering of the plot markers.***\n\n**Ans:** Thanks for your valuable advice and we have adjusted Figure 4 according to your suggestion. The revised figure is shown in https://anonymous.4open.science/r/ICLR3179/SupplementaryMaterial.pdf."
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700153263591,
                "cdate": 1700153263591,
                "tmdate": 1700153263591,
                "mdate": 1700153263591,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "dkzvw999iH",
            "forum": "SL7djdVpde",
            "replyto": "SL7djdVpde",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_ADjN"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3179/Reviewer_ADjN"
            ],
            "content": {
                "summary": {
                    "value": "This work discusses incorporating symmetries as hard constraints in ansatz design for Variational\nQuantum Algorithms (VQAs). In particular, the authors revisit the Hamming Weight (HW) preserving ansatz. By adopting Dynamical Lie Algebra (DLA) as a quantum optimal control theory and over-parameterization theory based on the maximum rank of quantum Fisher information matrix, one can quantify (and further ensure) the expressivity and capability of the proposed symmetry-preserving ansatz. These theoretical guarantees are verified on the unitary approximation problem. Moreover, the authors can demonstrate better performance on ground-state energy estimation ( need to preserve electron number) and feature selection as a constrained QUBO problem (preserve number of features), both using VQE."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "A novel idea to use Dynamical Lie Algebra and over-parameterization theory for Parametrized Quantum Circuit (PQC) to design symmetry-preserving VQA ansatz.\nVery clear explanation of the theoretical tools used.\nThe authors conduct extensive numerical studies showing positive results.\nA bottom-up approach to guide quantum circuit design compared to the previous top-down approach [1]. The latter uses a different sampling-based definition of expressivity and entanglement capability to guide general-purpose circuit design, but actual task performance could vary a lot.\nHard constraints are more favorable than soft constraints in some industrial use cases, where solution validity and robustness are priorities.\n[1] Sim, Sukin, Peter D. Johnson, and Al\u00e1n Aspuru\u2010Guzik. \"Expressibility and entangling capability of parameterized quantum circuits for hybrid quantum\u2010classical algorithms.\" *Advanced Quantum Technologies* 2.12 (2019): 1900070."
                },
                "weaknesses": {
                    "value": "Regarding the literature review, it is not clear to me why the authors chose to categorize some previous work based on XY-mixer QAOA [1-2] as soft constraints. Their circuit is composed of a problem Hamiltonian layer (ZZ gates) and a mixer layer, both preserving the Hamming weight instead of adding a penalty to the cost function.\nOne of my biggest concerns is when we run this framework on NISQ hardware or noisy simulation. A bit-flip (X) error would suddenly break the Hamming distance. Will this be a big problem or not? It will be better to see more results along this consideration.\nNeed more discussion on the trainability of the proposed ansatz and Barren Plateau (BP) phenomenon. It makes intuitive sense to think of better trainability compared to HEA since it is only exploring a constrained subspace. The optimization problem should be easier. Previous work [3] showed that a compound layer consisting of FBS gates could lead to a gradient decay only polynomially. Will the same conclusion hold for this work?\nSome numerical experiment details don't make sense to me. For example, why did the authors choose the penalty weight in Eq. 16 as \\alpha = [0.5, 1, 5, 10]. To my best knowledge, people usually set this empirical parameter to a much larger value like 100.\n\n1] Hadfield, Stuart, et al. \"From the quantum approximate optimization algorithm to a quantum alternating operator ansatz.\" *Algorithms* 12.2 (2019): 34.\n[2] He, Zichang, et al. \"Alignment between initial state and mixer improves qaoa performance for constrained portfolio optimization.\" *arXiv preprint arXiv:2305.03857* (2023).\n[3] Cherrat, El Amine, et al. \"Quantum Deep Hedging.\" *arXiv preprint arXiv:2303.16585* (2023)."
                },
                "questions": {
                    "value": "Can you explain why you use gate infidelity as the performance metric for the unitary approximation problem but plot Success Probability in Fig. 2? I guess the authors are converting infidelity of 1e-5 as log10(1e-5)/log10(1e-10)=0.5. Please make it clear in the paper.\nIt would be nice if the author could discuss connections of their HW preserving VQE with XY-mixer QAOA or other constrained QAOA. And maybe apply the theoretical tools used here to improve those work?\nWhat is the basis set used in ground-state energy estimation (such as STO-3G) to discretize the computation space?\nI believe the second test case, feature selection, is not a typical benchmark for VQAs. Is this a classically hard problem? Can you say more about why choose this test case?\n\nSome Typos:\n--Right below Lemma 4.1. \"Ramakrishna et al. (1995) has shown that if the dimension of DLA\" instead of \"Ramakrishna et al. (1995) has shown that if the dimension of the dimension of DLA\"\nThe y-axis in Fig. 3 and Fig. 7 should be in logarithmic scale\nRight below Appendix B.1. 'qubit'"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "8: accept, good paper"
                },
                "confidence": {
                    "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3179/Reviewer_ADjN",
                        "ICLR.cc/2024/Conference/Submission3179/Senior_Area_Chairs"
                    ]
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3179/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698822806654,
            "cdate": 1698822806654,
            "tmdate": 1700165271167,
            "mdate": 1700165271167,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "tKVo1gLgR1",
                "forum": "SL7djdVpde",
                "replyto": "dkzvw999iH",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Authors"
                ],
                "content": {
                    "comment": {
                        "value": ">***W1: Why the authors chose to categorize some previous work based on XY-mixer QAOA as soft constraints***\n\n**Ans:** We apologize for the misleading description of related works. We cite [1] to illustrate that there are quite a lot of constrained QAOA problems and then we claim that soft constraints could be a solution to these constrained optimization problems. The citation is very close to the following claim but we do not intentionally say the models in [1] are soft-constrained. We do confirm that XY-mixer QAOA is a hard-constrained QAOA, and we will make a clear intro on soft-constrained and hard-constrained models in related works in the revision.\n\n[1] Hadfield, Stuart, et al. \"From the quantum approximate optimization algorithm to a quantum alternating operator ansatz.\" Algorithms 12.2 (2019): 34.\n\n\n>***W2: Bit-flip error on NISQ hardware will be a big problem for HW preserving circuits.***\n\n**Ans:** Thanks for bringing up this problem which is crucial to improving our work. It is quite interesting that **HW preserving circuit is much easier to be bit-flip fault tolerant**. \nWe can utilize one ancilla qubit to do the parity check to detect any bit-flip error on the HW preserving circuit. The Hamming weight $k$ implies whether we have an odd number or even number of $1$s in the circuit. One possible solution of the parity check is to link all the working qubits to an ancilla qubit with CNOT gate with the ancilla qubit as the target bit. We initially set the ancilla qubit to $|0\\rangle$. If we have an odd number of $1$s in the working qubits, we will have a $|1\\rangle$ on the ancilla qubit and a $|0\\rangle$ with an even number of $1$s. Thus, it is much easier to detect a bit-flip error on the HW preserving circuit compared to Shor's code with two ancilla qubits required to protect one qubit from bit-flip error. We can either rerun the circuit or locate the qubit to correct the bit-flip error. This is an exciting and primitive conclusion, and we hope this dissolves your concern."
                    }
                },
                "number": 2,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700150349542,
                "cdate": 1700150349542,
                "tmdate": 1700150349542,
                "mdate": 1700150349542,
                "license": "CC BY 4.0",
                "version": 2
            },
            {
                "id": "NjNjuBXMbR",
                "forum": "SL7djdVpde",
                "replyto": "dkzvw999iH",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_ADjN"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3179/Reviewer_ADjN"
                ],
                "content": {
                    "comment": {
                        "value": "For W2: The idea is cool; potentially, you can also add such discussion to the paper.\n\nFor W3 and W4, author's answer does address most of my concerns.\n\nFor Q1-Q4, authors also give reasonable answers.\n\nLook forward to seeing the revised version of this paper. I decided to raise my score to 8."
                    }
                },
                "number": 13,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3179/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700165038157,
                "cdate": 1700165038157,
                "tmdate": 1700165241479,
                "mdate": 1700165241479,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]