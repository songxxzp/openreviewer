[
    {
        "title": "Sample Efficient Reinforcement Learning from Human Feedback via Active Exploration"
    },
    {
        "review": {
            "id": "xrqt7AbBr4",
            "forum": "2RJAzSphy9",
            "replyto": "2RJAzSphy9",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_NrDs"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_NrDs"
            ],
            "content": {
                "summary": {
                    "value": "This paper studies active learning in comparison-based contextual bandit. The authors propose a new approach for choosing contexts and actions effectively in order to learn a policy that has low suboptimality in the worst context. A theoretical guarantee on the suboptimality of the basic version of the algorithm (AE-Borda) is provided under RKHS. Extensive empirical results are provided for a DPO version of the algorithm (AE-DPO), including some experiments on Llama-7B."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "The paper contains a theoretical result as well as extensive empirical results. The theoretical section offers a new perspective about RLHF with the Borda function. The plots are nicely made."
                },
                "weaknesses": {
                    "value": "It would be nice if there is more discussion about why the proposed algorithm has better performance than existing algorithms (e.g., provide some intuition).\n\nIn Section 5.1, AE-DPO is compared with US-DPO, DPO, SFT. Among these baselines, DPO and SFT are really offline methods with uniform samples and not active learning methods, so US-DPO is the only active learning method that can compete with AE-DPO. Comparison with only one other active learning method seems slightly insufficient. Is there any other active learning algorithms in the existing literature that can be compared to?"
                },
                "questions": {
                    "value": "- Algorithm 1 relies on $\\Phi_t$. How do we compute this quantity that depends on $r_A$, which I don't think is accessible in this setting?\n\n- Many existing comparison-based algorithms learn the reward function first and then use it to construct the policy. In contrast, Algorithm 1 chooses to learn the Borda function. What is the advantage of learning the Borda function over learning the reward function?\n\n- Both the abstract and Section 3 say the problem is offline contextual bandit, but I don't think the learner can freely query contexts and actions in the offline setting. In fact, wouldn't the ability of freely querying contexts and actions make this problem too simple? In this setting, the problem is just learning a function with a dataset chosen by the learner; the only difficulty is the data is pairwise comparisons.\n\n- In Section 5.1, the authors observed that on Jeopardy! dataset, the policy trained with AE-DPO is able to abstain when it is not expected to know the correct answer, in contrast to policies trained with other baseline methods. Should this reduction in hallucination be attributed to your algorithm or just the objective you are using (Equation (2)), which is also supposed to make the learned policy behave more prudently and abstain when it is likely to answer incorrectly?  \n\nI'm open to raising my score after reading the clarification from the authors and their discussion with other reviewers during rebuttal."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "value": "Yes",
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Reviewer_NrDs"
                    ]
                }
            },
            "number": 1,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3717/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1697833785504,
            "cdate": 1697833785504,
            "tmdate": 1699636328029,
            "mdate": 1699636328029,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "uMz61oMdX4",
                "forum": "2RJAzSphy9",
                "replyto": "xrqt7AbBr4",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your thoughtful review and especially for your questions. We hope to use the feedback to improve the paper. Here, we\u2019ll first answer your questions then address the weaknesses you pointed out. \n\n### **Questions**\nWe agree that $\\Phi_t$ is an important quantity in our algorithm as in many similar kernelized methods [1][2] and also that computing it is infeasible in practical situations. We only wish to clarify that $\\Phi_t$ is important for the analysis and not the implementation of our algorithm; we use known worst-case bounds on this quantity to give concrete performance bounds in Section 4.2 without having to know more about the specific value of $\\Phi_t$.\n\nWhen we initially attempted to address active RLHF, we considered approaches that involved directly estimating the reward function. However, it was difficult to design a principled strategy for choosing a context and pair of actions when we could only evaluate a single context-action pair at a time. By \u201cmarginalizing\u201d the second action through the uniform sampling strategy we were able to estimate the Borda function, which implicitly involves the second action and thereby allows us to determine a principled strategy for active exploration in our setting.\n\nIn writing this paper, we have followed [3] in viewing the term \u201coffline\u201d in bandits or BO as a setting where the agent can adaptively choose a context and a pair of actions and observe a winner (this setting could be useful in contexts where e.g. there is a paid labeler giving preferences over completions given a prompt for language model alignment). However, we understand that the \u201coffline\u201d name is confusing and have edited it throughout the paper to \u201cactive\u201d as you suggest. In fact, we believe the key contribution of our paper both in the theoretical and practical setting is in the active learning methods rather than in estimation or policy learning. \n\nOur method was designed to be effective in the worst case over contexts (equation 2) and chooses contexts in order to optimize that objective. We believe that the performance of the AE-DPO policy in abstaining on the Jeopardy dataset is at least partially due to some success in optimizing the objective and therefore would attribute that success to the method at least in part. \n\n\n### **Weaknesses**\nWe agree that the DPO and SFT baselines are not active learning methods but are suitable for static datasets. To our knowledge there have not been works addressing the question of how to actively select data for RLHF; we therefore are limited for comparison to this relatively simple set of baselines (and please feel free to comment with a citation if you think that we have missed a relevant prior work). We do hope that others propose even better active RLHF methods in the future as we think this problem setting is important.\n\nThank you once more for your constructive comments on our work. In response, we have revised our manuscript, and hope we have addressed your concerns adequately. If you believe our updates and responses are satisfactory, an adjustment in your score would be highly valued. Please feel free to let us know any additional comments or concerns.\n\n[1] https://arxiv.org/abs/2011.04622\n\n[2] https://arxiv.org/abs/2212.09510"
                    }
                },
                "number": 6,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3717/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700175123693,
                "cdate": 1700175123693,
                "tmdate": 1700175123693,
                "mdate": 1700175123693,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "szZp3z9wJo",
            "forum": "2RJAzSphy9",
            "replyto": "2RJAzSphy9",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_DPyN"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_DPyN"
            ],
            "content": {
                "summary": {
                    "value": "The paper proposes an adaptive exploration method for RLHF. The method is based on a UCB style approach which selects the context that maximizes the gap between optimistic and pessimistic estimations of the Borda function. The paper then performs LLM experiments to justify the advantage of the adaptive exploration method."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "3 good"
                },
                "strengths": {
                    "value": "The paper has good writing and is easy to follow. The theoretical formulation is clean and the result is solid."
                },
                "weaknesses": {
                    "value": "1. One weakness is the theoretical part is less related with the LLM experiments. The theory is associated with Borda function and RKHS, but in the LLM part both concepts are removed. And while AE-Borda is a value-based algorithm, the LLM part switches to a policy-based algorithm instead. The only shared idea is both algorithms select the context which maximizes some optimistic gap. But the link between theory and experiment is still weak. \n\n2. In Figure 4, the result of AE-DPO tends to have a higher variance compared with other baselines. This fact could make the paper's claim less convincing as it's possible that the plot happens to choose the good seeds, given that the result is so noisy."
                },
                "questions": {
                    "value": "For the Jeopardy dataset, one may find that the null rate for incorrect answer starts to decrease when the number of samples further goes up, which means that large sample size is not always helpful. This is very different from the conclusion of the theory part. Any comments on this fact?"
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "6: marginally above the acceptance threshold"
                },
                "confidence": {
                    "value": "2: You are willing to defend your assessment, but it is quite likely that you did not understand the central parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 2,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3717/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698466840324,
            "cdate": 1698466840324,
            "tmdate": 1699636327936,
            "mdate": 1699636327936,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "ZOi7VWk1TO",
                "forum": "2RJAzSphy9",
                "replyto": "szZp3z9wJo",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your detailed review and the valuable questions you've posed. Below we address each of your questions and comments.\n\nPer your Jeopardy question and your comment on the variance of AE-DPO methods: we had a similar feeling at submission time, and were generally curious about the performance of AE-DPO if it were run longer. So, we re-ran all LLM experiments with a larger compute budget (up to 100k samples) and have included the additional results in our updated draft. For the specific jeopardy findings we believe that the general trend is supported by the additional evidence though the learning curve is not strictly monotonic. We welcome any ideas or research that can help us better understand these learning dynamics. We also believe that though there is still high variance across our seeds (we would have liked to run many more but are limited due to compute budget), our results hold up to further scrutiny.\n\nTo your point on the connection between the kernelized and LLM sections; we agree that there are differences between the methods. To be explicit, the connection between the first and second method is that the first method gives theoretical support for choosing the context for which the \u201cvalue\u201d of the optimal policy is most uncertain and then acting optimistically, and the second method attempts to implement the same intuitive rule when subjected to the constraints of the DPO training setup. One choice we could have made to make the value function more explicit was to use the RLHF pipeline with a separate reward model as in [1]. We decided that it was better to use our policy model\u2019s uncertainty estimates for our data selection rule than the estimates of a surrogate preference model and follow DPO in estimating state-action values from the log probabilities.\n\nWe deeply appreciate the time and effort you invested in reviewing our submission. Our updated draft and the accompanying responses aim to address your observations and recommendations effectively. If we\u2019ve met your expectations, we ask that you please consider improving your score. We welcome any further thoughts or questions.\n\n[1] https://arxiv.org/abs/2203.02155"
                    }
                },
                "number": 5,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3717/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700175090502,
                "cdate": 1700175090502,
                "tmdate": 1700175090502,
                "mdate": 1700175090502,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "qnPan5ztCl",
            "forum": "2RJAzSphy9",
            "replyto": "2RJAzSphy9",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_aHAt"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_aHAt"
            ],
            "content": {
                "summary": {
                    "value": "This paper studied an interesting problem: how to actively collect data during reward model learning. The authors cast the problem into a contextual dueling bandit problem and proposed an algorithm with regret bound. Some experiments are conducted for the full LM case. \n\nOverall, I feel this work studied a timely topic but was not well executed. The current context may not be sufficient to be accepted at a top-tier ML conference. I evaluated this work from two aspects: theoretical contribution and empirical contribution.\n\nFor theoretical contribution, I feel it is rather limited. First, contextual dueling bandit has been studied for a while in the bandit community. If one only cares about worse-case simple regret bound, any algorithm that enjoys a cumulative regret guarantee can be turned into a simple regret minimization algorithm, for example, \"Optimal Algorithms for Stochastic Contextual Preference Bandits\". Second, Assumption 2 is quite strong. It is very hard to satisfy for large action space which is the case for LM. The theory largely benefits from this assumption. I do not believe any interesting LM application can satisfy this.\n\nSecond, the algorithm proposed in Section 5 is very different from the one in previous sections with guarantee and the algorithm is very heuristic. The authors seem to use ensemble dropout to estimate the standard deviation. This is very doubtful if dropout can estimate the variance well for an autoregressive transformer. As far as I know, there has been no study on that before. More importantly,  none of the win-rate is statistically significant, especially. for the Anthropic dataset. It is hard for me to trust any conclusion from such a noisy result. \n\nMinor: 1. Why the win-rate is far below 0.5 in Figures 9 and 10? I suppose the baseline is uniform sampling.\n2. The term 'offline' contextual bandits is very misleading. I think you are doing online learning: actively collect human feedback. Offline problem usually refers to the case the dataset is given.\n3. In Algorithm 1, the second action is drawn uniformly random. This is weird and why it could work? Will this benefit from Assumption 2 as well?\n4. DPO also has experiments on the Anthropic dataset. You should at least report or discuss the win-rate matched in their setting to make sure if the implementation is correct. \n5. How do you generate multiple completions?"
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "2 fair"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "See summary."
                },
                "weaknesses": {
                    "value": "See summary."
                },
                "questions": {
                    "value": "See summary."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "3: reject, not good enough"
                },
                "confidence": {
                    "value": "5: You are absolutely certain about your assessment. You are very familiar with the related work and checked the math/other details carefully."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 3,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3717/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698634492321,
            "cdate": 1698634492321,
            "tmdate": 1699636327848,
            "mdate": 1699636327848,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "jYTfgQUuSt",
                "forum": "2RJAzSphy9",
                "replyto": "qnPan5ztCl",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your candid feedback. We've taken your points to heart and aim to clarify these areas. Below, we respond to your questions and outline revisions that we hope will address your concerns effectively. \n\n### **Questions on Theory**\nWe agree that our theoretical techniques have been developed for other problem settings. However, we want to emphasize that the contribution of our paper is not in novel analysis techniques but rather in a new algorithm, choice of problem setting, and LLM extension that addresses a topical problem and progresses the state of the art there. \n\nWe also want to emphasize that existing works do not directly give sample complexity guarantees for our setting. This is due to the fact that we work under a much stronger notion of sub-optimality (sub-optimality of the policy for the worst case context) than existing works which look at the sub-optimality when the contexts are drawn from some distribution. While it is true that cumulative regret minimization algorithms can be converted into simple regret minimization algorithms, the analog in our setting would require algorithms that have small cumulative worst case regret (as opposed to the algorithm you reference in [1] which has small cumulative expected regret). We do not believe that such algorithms exist and would welcome citations that show otherwise.\n\nAssumption 2 we believe is a quite weak assumption. We added some clarifying text on it to the paper spelling out that the most commonly used link functions, the logistic function and Gaussian CDF, satisfy our assumption. In fact, for the logistic link function used in most LLM applications, we know concretely that setting $L_1= 2$ is sufficient for our assumption to hold.\n\n### **Questions on Practical Method**\n\nWe agree that uncertainty estimation is a key component of our method. In order to address some of your concerns about this we have included an additional small study of the effectiveness of our dropout-based method in section J.1 that helps to justify our choice. As we developed our method, we considered ensemble-based methods as well as epistemic networks as in [2]. However, we found that each of these seemed to substantially increase the memory footprint of model training and in our preliminary studies it seemed that dropout and epistemic networks had similar performance, which was better than that of the ensemble. Therefore, we went with the simplest choice of dropout for our uncertainty. We added a note mentioning this to Section J.1 as well. We welcome further work studying uncertainty quantification in LLMs as we agree it is understudied and would benefit our efforts.\n\nTo address your comments about statistical significance of our results, we re-ran all our LLM experiments for longer (100k datapoints rather than 30k) and added the updated results to the experiments section. As you can see from these charts (in Figure 4), the sample efficiency of the AE-LSVI is clearer over the longer duration of these updated runs.\n\n### **Minor Points**\n\nMinor 1. To compute the win-rate, we compare generated output against  the preferred completions taken from the Anthropic / SHP datasets, which are the best examples we can find of human preferences on those tasks. This should not be expected to be greater than 0.5 win-rate, as a bad performance here could go as low as 0.0 win rate \u2013 it is likely that a random sampling baseline would obtain a win-rate far below 0.5, since randomly sampling tokens would result in incoherent generations.\n\nMinor 2. We agree that \u201coffline\u201d was a bad choice of terminology and have updated it to \u201cactive\u201d throughout the paper.\n\nMinor 3. The choice of a uniform second action in Algorithm 1 follows [3] and allows us to directly estimate the Borda function over a context and a single action from the preference labels collected. This is essential to the functioning of our method. The theoretical justification for this does indeed depend on Assumption 2, but as we mentioned above we do not see it as overly restrictive. Our rates of convergence seem to match those attainable in the non-dueling setting [4] so it doesn\u2019t seem to affect the theoretical performance.\n\nMinor 4. As seen in the DPO paper [5] it is possible to exceed a 50% win rate in the best case, but not by much. Our setup is more challenging than that of the DPO in that we do not first do supervised fine-tuning on the entire training set but instead use a 30% split. This is due to the fact that we wanted to test our data selection policy on \u201cfresh\u201d data and provide the remaining 70% as the batch from which we could select. As we started from an implementation provided by the authors of DPO we believe that our DPO implementation is correct. Our results seem consistent with those in Figure 3 in the DPO paper and to verify this, we began by reproducing these results."
                    }
                },
                "number": 3,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3717/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700175058377,
                "cdate": 1700175058377,
                "tmdate": 1700175058377,
                "mdate": 1700175058377,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "fMFznFDJIl",
            "forum": "2RJAzSphy9",
            "replyto": "2RJAzSphy9",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_vRQm"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_vRQm"
            ],
            "content": {
                "summary": {
                    "value": "This paper takes advantage of the fact that one can often choose contexts at which to obtain human feedback in order to most efficiently identify a good policy, and formalizes this as an offline contextual dueling bandit problem. This paper proposes an upper-confidence-bound style algorithm and proves a polynomial worst-case regret bound. Then, the authors provide empirical confirmation in a synthetic setting that their approach outperforms existing methods, and further extend the setting and methodology for practical use in RLHF training of large language models (LLMs)."
                },
                "soundness": {
                    "value": "3 good"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "1.\tThe studied problem, i.e., offline contextual dueling bandit with human feedback, is well-motivated and models the RLHF training of large language models.\n2.\tThe paper provides extensive experimental results in both synthetic and practical LLM settings."
                },
                "weaknesses": {
                    "value": "1.\tThe techniques used in the proposed algorithms, e.g., the estimation of the Borda score by uniform sampling, active learning and confidence intervals, are well-known. The authors should elaborate more on the technical novelty.\n2.\tThe procedures of Algorithms 1 and 2 are not clear. It would be better to specify the definitions of $\\mu_t(x,a)$ and $\\sigma_t(s,a)$ in the main text. The notation $\\sigma_t(x,a)$ is overlapped with the notation of link function $\\sigma$.\n3.\tCan the authors compare their algorithms with the MLE method for learning the reward model, and discuss the advantages of their algorithms?\n4.\tIt seems that Algorithms 1 and 2 need to compute the argmax operation over the context space $\\mathcal{X}$ and the action space $\\mathcal{A}$. Can these algorithms be extended to the large context and action space setting? In LLMs, the spaces of contexts and actions are often large.\n\n---\n\n**---After Rebuttal---**\n\nThank the authors for their rebuttal. I read the authors' rebuttal and other reviewers' comments. \n\nIn my opinion, while the authors consider a stronger (variant) notion of suboptimality, the theoretical part (Section 4) of this paper is not novel, since the ideas of estimating Borda score and selecting the option with the maximum uncertainty is well-known in the dueling bandit and active learning literatures. I think the more interesting contributions of this paper are the well-motivated problem formulation which is applicable to LLMs, and the experiments on LLMs with the proposed algorithm. However, to some degree I agree the comments of Reviewers 7uH1 and aHAt, i.e., the algorithm in Section 5 is heuristic and a little disconnected with the theoretical results in Section 4. The algorithm design and empirical results for LLMs (Section 5) seem to lack the theoretical supports.\n\nI tend to keep my score 5, and will listen to the opinions of other reviewers and AC during the discussion period."
                },
                "questions": {
                    "value": "Please see the weaknesses above."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "3: You are fairly confident in your assessment. It is possible that you did not understand some parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                },
                "first_time_reviewer": {
                    "readers": [
                        "ICLR.cc/2024/Conference/Program_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Senior_Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Area_Chairs",
                        "ICLR.cc/2024/Conference/Submission3717/Reviewer_vRQm"
                    ]
                }
            },
            "number": 4,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3717/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698688079181,
            "cdate": 1698688079181,
            "tmdate": 1700541848252,
            "mdate": 1700541848252,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "ON0WNsuO4Y",
                "forum": "2RJAzSphy9",
                "replyto": "fMFznFDJIl",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "We appreciate your insightful review and the questions you've raised. Your feedback is crucial for us to improve our paper. In this response, we will begin by addressing your questions, followed by a discussion on the areas of improvement you've highlighted.\n\n### **Questions on Novelty of Contributions**\nWe agree that our theoretical techniques have been developed for other problem settings. However, we want to emphasize that the contribution of our paper is not in novel analysis techniques but rather in a new algorithm, choice of problem setting, and LLM extension that addresses a topical problem and progresses the state of the art there. \n\nWe also want to emphasize that existing works do not directly give sample complexity guarantees for our setting. This is due to the fact that we work under a much stronger notion of sub-optimality (sub-optimality of the policy for the worst case context) than existing works which look at the sub-optimality when the contexts are drawn from some distribution. We do not believe that such algorithms exist and would welcome citations that show otherwise.\n\n### **Questions about Design Choices**\nWe have edited the $\\sigma$ for the link function to $\\rho$ everywhere in the paper for notational clarity; thank you for the suggestion. We\u2019ve also added definitions for $\\mu$ and $\\sigma$ in Section 5.\n\nIt is possible, as you suggest, that if we fix the link function we could estimate the MLE for the reward function. We could then analyze confidence intervals over that estimate and discuss convergence. However, we could not find a natural way to choose contexts based on the estimates, while our method of estimating the contextual Borda function comes with a fairly natural algorithm and analysis afterward.\n\nIn Section 5 we could have also learned a reward model with a ranking loss and then optimized the policy against it as is done in [1]. However, due to the performance, simplicity, and robustness shown by DPO and also because we wanted to use the uncertainty estimates of the policy to drive data selection, we went with a direct policy learning strategy instead.\n\nIn theory, it would certainly be difficult to compute the exact argmax over a large context and action space.  However, in Algorithm 2 we show the performance of our method which approximately computes this argmax and find that it results in improved performance for the large spaces of sequences native for LLMs. We also note that this argmax problem is common to many RL or bandit algorithms with large state and action spaces and these methods often use similar approximations as what we show in our paper. [2]\n\nWe are grateful for your insightful feedback and suggestions on our submission. Our revised draft aims to comprehensively address these points. If you find our revisions and responses satisfactory, we kindly request you consider improving your score. We remain open to any additional feedback you may have.\n\n[1] https://arxiv.org/abs/2203.02155 \n\n[2] https://arxiv.org/abs/1512.07679"
                    }
                },
                "number": 2,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3717/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700174984665,
                "cdate": 1700174984665,
                "tmdate": 1700174984665,
                "mdate": 1700174984665,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    },
    {
        "review": {
            "id": "DukJiC1FU9",
            "forum": "2RJAzSphy9",
            "replyto": "2RJAzSphy9",
            "signatures": [
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_7uH1"
            ],
            "nonreaders": [],
            "readers": [
                "everyone"
            ],
            "writers": [
                "ICLR.cc/2024/Conference",
                "ICLR.cc/2024/Conference/Submission3717/Reviewer_7uH1"
            ],
            "content": {
                "summary": {
                    "value": "The paper studies RLHF in a setting where one is allowed to choose contexts in which feedback can be obtained. The authors develop an upper-confidence-bound style algorithm in this setting that enjoys a regret guarantee. They also show favorable empirical results on synthetic and real-world datasets in aligning language models."
                },
                "soundness": {
                    "value": "2 fair"
                },
                "presentation": {
                    "value": "3 good"
                },
                "contribution": {
                    "value": "2 fair"
                },
                "strengths": {
                    "value": "- The paper makes empirical improvements toward an important topic of increasing the efficiency of RLHF, which is relevant, particularly for LLMs.\n- Empirical evaluations show improvements in efficiency compared to prior work."
                },
                "weaknesses": {
                    "value": "- Novelty in problem selection (i.e., the setting where the contexts can be chosen instead) and the algorithm design are limited. \n- Theoretical contribution of the paper is limited to strong assumptions and the analysis techniques exist in prior works.\n- The main algorithm requires uncertainty quantification for the policy, which is difficult for LLM policies. A method based on dropout is used for such uncertainty quantification; however, why this method is used over alternatives is not discussed."
                },
                "questions": {
                    "value": "See weaknesses above."
                },
                "flag_for_ethics_review": {
                    "value": [
                        "No ethics review needed."
                    ]
                },
                "rating": {
                    "value": "5: marginally below the acceptance threshold"
                },
                "confidence": {
                    "value": "2: You are willing to defend your assessment, but it is quite likely that you did not understand the central parts of the submission or that you are unfamiliar with some pieces of related work. Math/other details were not carefully checked."
                },
                "code_of_conduct": {
                    "value": "Yes"
                }
            },
            "number": 5,
            "invitations": [
                "ICLR.cc/2024/Conference/Submission3717/-/Official_Review",
                "ICLR.cc/2024/Conference/-/Edit"
            ],
            "domain": "ICLR.cc/2024/Conference",
            "tcdate": 1698920431150,
            "cdate": 1698920431150,
            "tmdate": 1699636327715,
            "mdate": 1699636327715,
            "license": "CC BY 4.0",
            "version": 2
        },
        "responses": [
            {
                "id": "HurVeIkYDs",
                "forum": "2RJAzSphy9",
                "replyto": "DukJiC1FU9",
                "signatures": [
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "readers": [
                    "everyone"
                ],
                "writers": [
                    "ICLR.cc/2024/Conference",
                    "ICLR.cc/2024/Conference/Submission3717/Authors"
                ],
                "content": {
                    "comment": {
                        "value": "Thank you for your review and for the thoughtful questions. Your feedback is helpful for us to improve our paper. We respond back to each of your questions below and then focus on improving the aspects you've identified as needing attention.\n\n### **Questions on Problem Setting**\nAs we mentioned in the introduction, in this work we take advantage of the fact that we can control which prompts and completions we provide to human labelers in order to make efficient use of their efforts. We know that OpenAI spends 8 figures on preference data and that there are multiple startups that provide RLHF as a service. If we could make these processes more efficient this would result in substantial savings throughout this ecosystem.  Though we agree there are a substantial number of works that tackle active learning in various related settings, we were unable to find any that addressed this setting in particular. Therefore, we believe it was well worth working out the theory and practical implementations and that it will be valuable to the community to present this information.\n\n### **Questions on Theoretical Contribution**\nAssumption 1 we believe is crucial in order to achieve the generality obtained by our algorithm. In relation to past works [2], our assumption differs only in the fact that we assume that the Borda function is also smooth in an underlying RKHS \u2013 the assumption that the reward function is smooth in an underlying RKHS is standard in the literature. We make this assumption in order to allow our algorithm to work with a user-specified link function \u2013 existing works only deal with the case when the link function is a sigmoid. Additionally, we show in appendix section C that this assumption seems to be empirically true for our synthetic examples. \n\nAssumption 2 we believe is a relatively weak assumption. We added some clarifying text on it to the paper spelling out that the most commonly used link functions, the logistic function and Gaussian CDF, satisfy it. In fact, for the logistic function used in most LLM applications, we know concretely that setting $L_1= 2$ is sufficient for our assumption to hold.\n\n### **Questions on Uncertainty Estimation**\nWe agree that uncertainty estimation is a key component of our method. In order to address some of your concerns about this we have included an additional small study of the effectiveness of our dropout-based method in section J.1 that helps to justify our choice. As we developed our method, we considered ensemble-based methods as well as epistemic networks as in [1]. However, we found that each of these seemed to substantially increase the memory footprint of model training and in our preliminary studies it seemed that dropout and epistemic networks had similar performance, which was better than that of the ensemble. Therefore, we went with the simplest choice of dropout for our uncertainty. We added a note mentioning this to Section J.1 as well.\n\nThank you again for the feedback and suggestions in response to our submission. We hope that our updated draft and responses address them satisfactorily. We ask that you please consider increasing your score if you agree, and please let us know if you have any further questions.\n\n[1] https://arxiv.org/abs/2107.08924\n\n[2] https://arxiv.org/abs/2011.04622"
                    }
                },
                "number": 1,
                "invitations": [
                    "ICLR.cc/2024/Conference/Submission3717/-/Official_Comment"
                ],
                "domain": "ICLR.cc/2024/Conference",
                "tcdate": 1700174892502,
                "cdate": 1700174892502,
                "tmdate": 1700174892502,
                "mdate": 1700174892502,
                "license": "CC BY 4.0",
                "version": 2
            }
        ]
    }
]